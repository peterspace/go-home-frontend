import{b as ys,i as yt,r as Dc,a as vs,c as F,g as Mr,d as ub,e as lb}from"./index-7f456532.js";import{e as jc,_ as x}from"./tslib.es6-0961a7d0.js";function fb(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Bc={},Yn={},ms={};Object.defineProperty(ms,"__esModule",{value:!0});ms.walletLogo=void 0;const hb=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};ms.walletLogo=hb;var _s={};Object.defineProperty(_s,"__esModule",{value:!0});_s.ScopedLocalStorage=void 0;class db{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}_s.ScopedLocalStorage=db;var sn={},kr={};Object.defineProperty(kr,"__esModule",{value:!0});const pb=jc;function Xu(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function bb(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let gb=class extends pb.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")Xu(s,this,r);else{const o=s.length,a=bb(s);for(let c=0;c<o;c+=1)Xu(a[c],this,r)}return!0}};kr.default=gb;var wn={};Object.defineProperty(wn,"__esModule",{value:!0});wn.EVENTS=void 0;wn.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var si={},wh={},tr={},Sh=Kn;Kn.default=Kn;Kn.stable=Rh;Kn.stableStringify=Rh;var es="[...]",Eh="[Circular]",Cr=[],mr=[];function Ch(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Kn(t,e,r,n){typeof n>"u"&&(n=Ch()),uc(t,"",0,[],void 0,0,n);var i;try{mr.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,xh(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Cr.length!==0;){var s=Cr.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Yr(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),Cr.push([n,r,e,i])):mr.push([e,r,t]):(n[r]=t,Cr.push([n,r,e]))}function uc(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Yr(Eh,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Yr(es,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Yr(es,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)uc(t[a],a,a,n,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var u=c[a];uc(t[u],u,a,n,t,s,o)}}n.pop()}}function yb(t,e){return t<e?-1:t>e?1:0}function Rh(t,e,r,n){typeof n>"u"&&(n=Ch());var i=lc(t,"",0,[],void 0,0,n)||t,s;try{mr.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,xh(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Cr.length!==0;){var o=Cr.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function lc(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Yr(Eh,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Yr(es,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Yr(es,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)lc(t[a],a,a,n,t,s,o);else{var c={},u=Object.keys(t).sort(yb);for(a=0;a<u.length;a++){var l=u[a];lc(t[l],l,a,n,t,s,o),c[l]=t[l]}if(typeof i<"u")Cr.push([i,e,t]),i[e]=c;else return c}n.pop()}}function xh(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(mr.length>0)for(var n=0;n<mr.length;n++){var i=mr[n];if(i[1]===e&&i[0]===r){r=i[2],mr.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(tr,"__esModule",{value:!0});tr.EthereumProviderError=tr.EthereumRpcError=void 0;const vb=Sh;let Ih=class extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return vb.default(this.serialize(),wb,2)}};tr.EthereumRpcError=Ih;let mb=class extends Ih{constructor(e,r,n){if(!_b(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}};tr.EthereumProviderError=mb;function _b(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function wb(t,e){if(e!=="[Circular]")return e}var Fc={},rr={};Object.defineProperty(rr,"__esModule",{value:!0});rr.errorValues=rr.errorCodes=void 0;rr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};rr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=rr,r=tr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(h,p=i){if(Number.isInteger(h)){const b=h.toString();if(f(e.errorValues,b))return e.errorValues[b].message;if(u(h))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return p}t.getMessageFromCode=o;function a(h){if(!Number.isInteger(h))return!1;const p=h.toString();return!!(e.errorValues[p]||u(h))}t.isValidCode=a;function c(h,{fallbackError:p=s,shouldIncludeStack:b=!1}={}){var _,w;if(!p||!Number.isInteger(p.code)||typeof p.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(h instanceof r.EthereumRpcError)return h.serialize();const d={};if(h&&typeof h=="object"&&!Array.isArray(h)&&f(h,"code")&&a(h.code)){const m=h;d.code=m.code,m.message&&typeof m.message=="string"?(d.message=m.message,f(m,"data")&&(d.data=m.data)):(d.message=o(d.code),d.data={originalError:l(h)})}else{d.code=p.code;const m=(_=h)===null||_===void 0?void 0:_.message;d.message=m&&typeof m=="string"?m:p.message,d.data={originalError:l(h)}}const v=(w=h)===null||w===void 0?void 0:w.stack;return b&&h&&v&&typeof v=="string"&&(d.stack=v),d}t.serializeError=c;function u(h){return h>=-32099&&h<=-32e3}function l(h){return h&&typeof h=="object"&&!Array.isArray(h)?Object.assign({},h):h}function f(h,p){return Object.prototype.hasOwnProperty.call(h,p)}})(Fc);var ws={};Object.defineProperty(ws,"__esModule",{value:!0});ws.ethErrors=void 0;const Wc=tr,Ah=Fc,De=rr;ws.ethErrors={rpc:{parse:t=>et(De.errorCodes.rpc.parse,t),invalidRequest:t=>et(De.errorCodes.rpc.invalidRequest,t),invalidParams:t=>et(De.errorCodes.rpc.invalidParams,t),methodNotFound:t=>et(De.errorCodes.rpc.methodNotFound,t),internal:t=>et(De.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return et(e,t)},invalidInput:t=>et(De.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>et(De.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>et(De.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>et(De.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>et(De.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>et(De.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Pn(De.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Pn(De.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Pn(De.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Pn(De.errorCodes.provider.disconnected,t),chainDisconnected:t=>Pn(De.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Wc.EthereumProviderError(e,r,n)}}};function et(t,e){const[r,n]=Mh(e);return new Wc.EthereumRpcError(t,r||Ah.getMessageFromCode(t),n)}function Pn(t,e){const[r,n]=Mh(e);return new Wc.EthereumProviderError(t,r||Ah.getMessageFromCode(t),n)}function Mh(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=tr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Fc;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=ws;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=rr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(wh);var be={},Ss={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(Ss);Object.defineProperty(be,"__esModule",{value:!0});be.EthereumAddressFromSignedMessageResponse=be.SubmitEthereumTransactionResponse=be.SignEthereumTransactionResponse=be.SignEthereumMessageResponse=be.isRequestEthereumAccountsResponse=be.SelectProviderResponse=be.WatchAssetReponse=be.RequestEthereumAccountsResponse=be.SwitchEthereumChainResponse=be.AddEthereumChainResponse=be.isErrorResponse=void 0;const Nt=Ss;function Sb(t){var e,r;return((e=t)===null||e===void 0?void 0:e.method)!==void 0&&((r=t)===null||r===void 0?void 0:r.errorMessage)!==void 0}be.isErrorResponse=Sb;function Eb(t){return{method:Nt.Web3Method.addEthereumChain,result:t}}be.AddEthereumChainResponse=Eb;function Cb(t){return{method:Nt.Web3Method.switchEthereumChain,result:t}}be.SwitchEthereumChainResponse=Cb;function Rb(t){return{method:Nt.Web3Method.requestEthereumAccounts,result:t}}be.RequestEthereumAccountsResponse=Rb;function xb(t){return{method:Nt.Web3Method.watchAsset,result:t}}be.WatchAssetReponse=xb;function Ib(t){return{method:Nt.Web3Method.selectProvider,result:t}}be.SelectProviderResponse=Ib;function Ab(t){return t&&t.method===Nt.Web3Method.requestEthereumAccounts}be.isRequestEthereumAccountsResponse=Ab;function Mb(t){return{method:Nt.Web3Method.signEthereumMessage,result:t}}be.SignEthereumMessageResponse=Mb;function kb(t){return{method:Nt.Web3Method.signEthereumTransaction,result:t}}be.SignEthereumTransactionResponse=kb;function Tb(t){return{method:Nt.Web3Method.submitEthereumTransaction,result:t}}be.SubmitEthereumTransactionResponse=Tb;function Ob(t){return{method:Nt.Web3Method.ethereumAddressFromSignedMessage,result:t}}be.EthereumAddressFromSignedMessageResponse=Ob;var oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.LIB_VERSION=void 0;oi.LIB_VERSION="3.7.1";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.serializeError=t.standardErrors=t.standardErrorMessage=t.standardErrorCodes=void 0;const e=wh,r=be,n=oi;t.standardErrorCodes=Object.freeze(Object.assign(Object.assign({},e.errorCodes),{provider:Object.freeze(Object.assign(Object.assign({},e.errorCodes.provider),{unsupportedChain:4902}))}));function i(l){return l!==void 0?(0,e.getMessageFromCode)(l):"Unknown error"}t.standardErrorMessage=i,t.standardErrors=Object.freeze(Object.assign(Object.assign({},e.ethErrors),{provider:Object.freeze(Object.assign(Object.assign({},e.ethErrors.provider),{unsupportedChain:(l="")=>e.ethErrors.provider.custom({code:t.standardErrorCodes.provider.unsupportedChain,message:`Unrecognized chain ID ${l}. Try adding the chain using wallet_addEthereumChain first.`})}))}));function s(l,f){const h=(0,e.serializeError)(o(l),{shouldIncludeStack:!0}),p=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");p.searchParams.set("version",n.LIB_VERSION),p.searchParams.set("code",h.code.toString());const b=a(h.data,f);return b&&p.searchParams.set("method",b),p.searchParams.set("message",h.message),Object.assign(Object.assign({},h),{docUrl:p.href})}t.serializeError=s;function o(l){return typeof l=="string"?{message:l,code:t.standardErrorCodes.rpc.internal}:(0,r.isErrorResponse)(l)?Object.assign(Object.assign({},l),{message:l.errorMessage,code:l.errorCode,data:{method:l.method,result:l.result}}):l}function a(l,f){var h;const p=(h=l)===null||h===void 0?void 0:h.method;if(p)return p;if(f!==void 0)return typeof f=="string"?f:Array.isArray(f)?f.length>0?f[0].method:void 0:f.method}function c(l){var f;if(typeof l=="number")return l;if(u(l))return(f=l.code)!==null&&f!==void 0?f:l.errorCode}t.getErrorCode=c;function u(l){return typeof l=="object"&&l!==null&&(typeof l.code=="number"||typeof l.errorCode=="number")}})(si);var Sn={},kh={exports:{}},fc={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=ys,n=r.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,c){return n(o,a,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(fc,fc.exports);var cr=fc.exports,Th=cr.Buffer;function Es(t,e){this._block=Th.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Es.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Th.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,c=Math.min(i-o,n-a),u=0;u<c;u++)r[a+u]=t[o+u];s+=c,o+=c,s%n===0&&this._update(r)}return this._len+=i,this};Es.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};Es.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var En=Es,Nb=yt,Oh=En,Lb=cr.Buffer,Pb=[1518500249,1859775393,-1894007588,-899497514],$b=new Array(80);function ai(){this.init(),this._w=$b,Oh.call(this,64,56)}Nb(ai,Oh);ai.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Db(t){return t<<5|t>>>27}function jb(t){return t<<30|t>>>2}function Bb(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}ai.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var c=0;c<80;++c){var u=~~(c/20),l=Db(r)+Bb(u,n,i,s)+o+e[c]+Pb[u]|0;o=s,s=i,i=jb(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};ai.prototype._hash=function(){var t=Lb.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Fb=ai,Wb=yt,Nh=En,Hb=cr.Buffer,Vb=[1518500249,1859775393,-1894007588,-899497514],Ub=new Array(80);function ci(){this.init(),this._w=Ub,Nh.call(this,64,56)}Wb(ci,Nh);ci.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function zb(t){return t<<1|t>>>31}function qb(t){return t<<5|t>>>27}function Gb(t){return t<<30|t>>>2}function Jb(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}ci.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=zb(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var c=0;c<80;++c){var u=~~(c/20),l=qb(r)+Jb(u,n,i,s)+o+e[c]+Vb[u]|0;o=s,s=i,i=Gb(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};ci.prototype._hash=function(){var t=Hb.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Qb=ci,Zb=yt,Lh=En,Yb=cr.Buffer,Kb=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Xb=new Array(64);function ui(){this.init(),this._w=Xb,Lh.call(this,64,56)}Zb(ui,Lh);ui.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function eg(t,e,r){return r^t&(e^r)}function tg(t,e,r){return t&e|r&(t|e)}function rg(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function ng(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function ig(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function sg(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}ui.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,c=this._g|0,u=this._h|0,l=0;l<16;++l)e[l]=t.readInt32BE(l*4);for(;l<64;++l)e[l]=sg(e[l-2])+e[l-7]+ig(e[l-15])+e[l-16]|0;for(var f=0;f<64;++f){var h=u+ng(o)+eg(o,a,c)+Kb[f]+e[f]|0,p=rg(r)+tg(r,n,i)|0;u=c,c=a,a=o,o=s+h|0,s=i,i=n,n=r,r=h+p|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=u+this._h|0};ui.prototype._hash=function(){var t=Yb.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var Ph=ui,og=yt,ag=Ph,cg=En,ug=cr.Buffer,lg=new Array(64);function Cs(){this.init(),this._w=lg,cg.call(this,64,56)}og(Cs,ag);Cs.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Cs.prototype._hash=function(){var t=ug.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var fg=Cs,hg=yt,$h=En,dg=cr.Buffer,el=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],pg=new Array(160);function li(){this.init(),this._w=pg,$h.call(this,128,112)}hg(li,$h);li.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function tl(t,e,r){return r^t&(e^r)}function rl(t,e,r){return t&e|r&(t|e)}function nl(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function il(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function bg(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function gg(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function yg(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function vg(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Ae(t,e){return t>>>0<e>>>0?1:0}li.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,c=this._gh|0,u=this._hh|0,l=this._al|0,f=this._bl|0,h=this._cl|0,p=this._dl|0,b=this._el|0,_=this._fl|0,w=this._gl|0,d=this._hl|0,v=0;v<32;v+=2)e[v]=t.readInt32BE(v*4),e[v+1]=t.readInt32BE(v*4+4);for(;v<160;v+=2){var m=e[v-30],R=e[v-15*2+1],C=bg(m,R),I=gg(R,m);m=e[v-2*2],R=e[v-2*2+1];var D=yg(m,R),N=vg(R,m),M=e[v-7*2],U=e[v-7*2+1],ce=e[v-16*2],Q=e[v-16*2+1],A=I+U|0,k=C+M+Ae(A,I)|0;A=A+N|0,k=k+D+Ae(A,N)|0,A=A+Q|0,k=k+ce+Ae(A,Q)|0,e[v]=k,e[v+1]=A}for(var L=0;L<160;L+=2){k=e[L],A=e[L+1];var P=rl(r,n,i),B=rl(l,f,h),j=nl(r,l),H=nl(l,r),Y=il(o,b),G=il(b,o),se=el[L],he=el[L+1],le=tl(o,a,c),He=tl(b,_,w),S=d+G|0,E=u+Y+Ae(S,d)|0;S=S+He|0,E=E+le+Ae(S,He)|0,S=S+he|0,E=E+se+Ae(S,he)|0,S=S+A|0,E=E+k+Ae(S,A)|0;var O=H+B|0,z=j+P+Ae(O,H)|0;u=c,d=w,c=a,w=_,a=o,_=b,b=p+S|0,o=s+E+Ae(b,p)|0,s=i,p=h,i=n,h=f,n=r,f=l,l=S+O|0,r=E+z+Ae(l,S)|0}this._al=this._al+l|0,this._bl=this._bl+f|0,this._cl=this._cl+h|0,this._dl=this._dl+p|0,this._el=this._el+b|0,this._fl=this._fl+_|0,this._gl=this._gl+w|0,this._hl=this._hl+d|0,this._ah=this._ah+r+Ae(this._al,l)|0,this._bh=this._bh+n+Ae(this._bl,f)|0,this._ch=this._ch+i+Ae(this._cl,h)|0,this._dh=this._dh+s+Ae(this._dl,p)|0,this._eh=this._eh+o+Ae(this._el,b)|0,this._fh=this._fh+a+Ae(this._fl,_)|0,this._gh=this._gh+c+Ae(this._gl,w)|0,this._hh=this._hh+u+Ae(this._hl,d)|0};li.prototype._hash=function(){var t=dg.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var Dh=li,mg=yt,_g=Dh,wg=En,Sg=cr.Buffer,Eg=new Array(160);function Rs(){this.init(),this._w=Eg,wg.call(this,128,112)}mg(Rs,_g);Rs.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Rs.prototype._hash=function(){var t=Sg.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var Cg=Rs,Tr=kh.exports=function(e){e=e.toLowerCase();var r=Tr[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Tr.sha=Fb;Tr.sha1=Qb;Tr.sha224=fg;Tr.sha256=Ph;Tr.sha384=Cg;Tr.sha512=Dh;var Rg=kh.exports,W={},xg=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},sl=typeof Symbol<"u"&&Symbol,Ig=xg,Ag=function(){return typeof sl!="function"||typeof Symbol!="function"||typeof sl("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Ig()},ol={foo:{}},Mg=Object,kg=function(){return{__proto__:ol}.foo===ol.foo&&!({__proto__:null}instanceof Mg)},Tg="Function.prototype.bind called on incompatible ",ma=Array.prototype.slice,Og=Object.prototype.toString,Ng="[object Function]",Lg=function(e){var r=this;if(typeof r!="function"||Og.call(r)!==Ng)throw new TypeError(Tg+r);for(var n=ma.call(arguments,1),i,s=function(){if(this instanceof i){var l=r.apply(this,n.concat(ma.call(arguments)));return Object(l)===l?l:this}else return r.apply(e,n.concat(ma.call(arguments)))},o=Math.max(0,r.length-n.length),a=[],c=0;c<o;c++)a.push("$"+c);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},Pg=Lg,Hc=Function.prototype.bind||Pg,$g=Hc,Dg=$g.call(Function.call,Object.prototype.hasOwnProperty),ne,on=SyntaxError,jh=Function,Kr=TypeError,_a=function(t){try{return jh('"use strict"; return ('+t+").constructor;")()}catch{}},Sr=Object.getOwnPropertyDescriptor;if(Sr)try{Sr({},"")}catch{Sr=null}var wa=function(){throw new Kr},jg=Sr?function(){try{return arguments.callee,wa}catch{try{return Sr(arguments,"callee").get}catch{return wa}}}():wa,Wr=Ag(),Bg=kg(),Te=Object.getPrototypeOf||(Bg?function(t){return t.__proto__}:null),Gr={},Fg=typeof Uint8Array>"u"||!Te?ne:Te(Uint8Array),Er={"%AggregateError%":typeof AggregateError>"u"?ne:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ne:ArrayBuffer,"%ArrayIteratorPrototype%":Wr&&Te?Te([][Symbol.iterator]()):ne,"%AsyncFromSyncIteratorPrototype%":ne,"%AsyncFunction%":Gr,"%AsyncGenerator%":Gr,"%AsyncGeneratorFunction%":Gr,"%AsyncIteratorPrototype%":Gr,"%Atomics%":typeof Atomics>"u"?ne:Atomics,"%BigInt%":typeof BigInt>"u"?ne:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ne:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ne:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ne:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?ne:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ne:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ne:FinalizationRegistry,"%Function%":jh,"%GeneratorFunction%":Gr,"%Int8Array%":typeof Int8Array>"u"?ne:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ne:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ne:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Wr&&Te?Te(Te([][Symbol.iterator]())):ne,"%JSON%":typeof JSON=="object"?JSON:ne,"%Map%":typeof Map>"u"?ne:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Wr||!Te?ne:Te(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ne:Promise,"%Proxy%":typeof Proxy>"u"?ne:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?ne:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ne:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Wr||!Te?ne:Te(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ne:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Wr&&Te?Te(""[Symbol.iterator]()):ne,"%Symbol%":Wr?Symbol:ne,"%SyntaxError%":on,"%ThrowTypeError%":jg,"%TypedArray%":Fg,"%TypeError%":Kr,"%Uint8Array%":typeof Uint8Array>"u"?ne:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ne:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ne:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ne:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?ne:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ne:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ne:WeakSet};if(Te)try{null.error}catch(t){var Wg=Te(Te(t));Er["%Error.prototype%"]=Wg}var Hg=function t(e){var r;if(e==="%AsyncFunction%")r=_a("async function () {}");else if(e==="%GeneratorFunction%")r=_a("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=_a("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Te&&(r=Te(i.prototype))}return Er[e]=r,r},al={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},fi=Hc,ts=Dg,Vg=fi.call(Function.call,Array.prototype.concat),Ug=fi.call(Function.apply,Array.prototype.splice),cl=fi.call(Function.call,String.prototype.replace),rs=fi.call(Function.call,String.prototype.slice),zg=fi.call(Function.call,RegExp.prototype.exec),qg=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Gg=/\\(\\)?/g,Jg=function(e){var r=rs(e,0,1),n=rs(e,-1);if(r==="%"&&n!=="%")throw new on("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new on("invalid intrinsic syntax, expected opening `%`");var i=[];return cl(e,qg,function(s,o,a,c){i[i.length]=a?cl(c,Gg,"$1"):o||s}),i},Qg=function(e,r){var n=e,i;if(ts(al,n)&&(i=al[n],n="%"+i[0]+"%"),ts(Er,n)){var s=Er[n];if(s===Gr&&(s=Hg(n)),typeof s>"u"&&!r)throw new Kr("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new on("intrinsic "+e+" does not exist!")},Vc=function(e,r){if(typeof e!="string"||e.length===0)throw new Kr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Kr('"allowMissing" argument must be a boolean');if(zg(/^%?[^%]*%?$/,e)===null)throw new on("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Jg(e),i=n.length>0?n[0]:"",s=Qg("%"+i+"%",r),o=s.name,a=s.value,c=!1,u=s.alias;u&&(i=u[0],Ug(n,Vg([0,1],u)));for(var l=1,f=!0;l<n.length;l+=1){var h=n[l],p=rs(h,0,1),b=rs(h,-1);if((p==='"'||p==="'"||p==="`"||b==='"'||b==="'"||b==="`")&&p!==b)throw new on("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(c=!0),i+="."+h,o="%"+i+"%",ts(Er,o))a=Er[o];else if(a!=null){if(!(h in a)){if(!r)throw new Kr("base intrinsic for "+e+" exists, but the property is not available.");return}if(Sr&&l+1>=n.length){var _=Sr(a,h);f=!!_,f&&"get"in _&&!("originalValue"in _.get)?a=_.get:a=a[h]}else f=ts(a,h),a=a[h];f&&!c&&(Er[o]=a)}}return a},Bh={exports:{}};(function(t){var e=Hc,r=Vc,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(f){var h=s(e,i,arguments);if(o&&a){var p=o(h,"length");p.configurable&&a(h,"length",{value:1+c(0,f.length-(arguments.length-1))})}return h};var u=function(){return s(e,n,arguments)};a?a(t.exports,"apply",{value:u}):t.exports.apply=u})(Bh);var Zg=Bh.exports,Fh=Vc,Wh=Zg,Yg=Wh(Fh("String.prototype.indexOf")),Kg=function(e,r){var n=Fh(e,!!r);return typeof n=="function"&&Yg(e,".prototype.")>-1?Wh(n):n},Uc=typeof Map=="function"&&Map.prototype,Sa=Object.getOwnPropertyDescriptor&&Uc?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ns=Uc&&Sa&&typeof Sa.get=="function"?Sa.get:null,ul=Uc&&Map.prototype.forEach,zc=typeof Set=="function"&&Set.prototype,Ea=Object.getOwnPropertyDescriptor&&zc?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,is=zc&&Ea&&typeof Ea.get=="function"?Ea.get:null,ll=zc&&Set.prototype.forEach,Xg=typeof WeakMap=="function"&&WeakMap.prototype,Vn=Xg?WeakMap.prototype.has:null,ey=typeof WeakSet=="function"&&WeakSet.prototype,Un=ey?WeakSet.prototype.has:null,ty=typeof WeakRef=="function"&&WeakRef.prototype,fl=ty?WeakRef.prototype.deref:null,ry=Boolean.prototype.valueOf,ny=Object.prototype.toString,iy=Function.prototype.toString,sy=String.prototype.match,qc=String.prototype.slice,Xt=String.prototype.replace,oy=String.prototype.toUpperCase,hl=String.prototype.toLowerCase,Hh=RegExp.prototype.test,dl=Array.prototype.concat,It=Array.prototype.join,ay=Array.prototype.slice,pl=Math.floor,hc=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ca=Object.getOwnPropertySymbols,dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,an=typeof Symbol=="function"&&typeof Symbol.iterator=="object",We=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===an||"symbol")?Symbol.toStringTag:null,Vh=Object.prototype.propertyIsEnumerable,bl=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function gl(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Hh.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-pl(-t):pl(t);if(n!==t){var i=String(n),s=qc.call(e,i.length+1);return Xt.call(i,r,"$&_")+"."+Xt.call(Xt.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Xt.call(e,r,"$&_")}var pc=Dc,yl=pc.custom,vl=zh(yl)?yl:null,cy=function t(e,r,n,i){var s=r||{};if(Zt(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Zt(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Zt(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Zt(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Zt(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Gh(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?gl(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return a?gl(e,u):u}var l=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=l&&l>0&&typeof e=="object")return bc(e)?"[Array]":"[Object]";var f=xy(s,n);if(typeof i>"u")i=[];else if(qh(i,e)>=0)return"[Circular]";function h(A,k,L){if(k&&(i=ay.call(i),i.push(k)),L){var P={depth:s.depth};return Zt(s,"quoteStyle")&&(P.quoteStyle=s.quoteStyle),t(A,P,n+1,i)}return t(A,s,n+1,i)}if(typeof e=="function"&&!ml(e)){var p=yy(e),b=Ni(e,h);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(b.length>0?" { "+It.call(b,", ")+" }":"")}if(zh(e)){var _=an?Xt.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):dc.call(e);return typeof e=="object"&&!an?$n(_):_}if(Ey(e)){for(var w="<"+hl.call(String(e.nodeName)),d=e.attributes||[],v=0;v<d.length;v++)w+=" "+d[v].name+"="+Uh(uy(d[v].value),"double",s);return w+=">",e.childNodes&&e.childNodes.length&&(w+="..."),w+="</"+hl.call(String(e.nodeName))+">",w}if(bc(e)){if(e.length===0)return"[]";var m=Ni(e,h);return f&&!Ry(m)?"["+gc(m,f)+"]":"[ "+It.call(m,", ")+" ]"}if(fy(e)){var R=Ni(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!Vh.call(e,"cause")?"{ ["+String(e)+"] "+It.call(dl.call("[cause]: "+h(e.cause),R),", ")+" }":R.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+It.call(R,", ")+" }"}if(typeof e=="object"&&o){if(vl&&typeof e[vl]=="function"&&pc)return pc(e,{depth:l-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(vy(e)){var C=[];return ul&&ul.call(e,function(A,k){C.push(h(k,e,!0)+" => "+h(A,e))}),_l("Map",ns.call(e),C,f)}if(wy(e)){var I=[];return ll&&ll.call(e,function(A){I.push(h(A,e))}),_l("Set",is.call(e),I,f)}if(my(e))return Ra("WeakMap");if(Sy(e))return Ra("WeakSet");if(_y(e))return Ra("WeakRef");if(dy(e))return $n(h(Number(e)));if(by(e))return $n(h(hc.call(e)));if(py(e))return $n(ry.call(e));if(hy(e))return $n(h(String(e)));if(!ly(e)&&!ml(e)){var D=Ni(e,h),N=bl?bl(e)===Object.prototype:e instanceof Object||e.constructor===Object,M=e instanceof Object?"":"null prototype",U=!N&&We&&Object(e)===e&&We in e?qc.call(ur(e),8,-1):M?"Object":"",ce=N||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",Q=ce+(U||M?"["+It.call(dl.call([],U||[],M||[]),": ")+"] ":"");return D.length===0?Q+"{}":f?Q+"{"+gc(D,f)+"}":Q+"{ "+It.call(D,", ")+" }"}return String(e)};function Uh(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function uy(t){return Xt.call(String(t),/"/g,"&quot;")}function bc(t){return ur(t)==="[object Array]"&&(!We||!(typeof t=="object"&&We in t))}function ly(t){return ur(t)==="[object Date]"&&(!We||!(typeof t=="object"&&We in t))}function ml(t){return ur(t)==="[object RegExp]"&&(!We||!(typeof t=="object"&&We in t))}function fy(t){return ur(t)==="[object Error]"&&(!We||!(typeof t=="object"&&We in t))}function hy(t){return ur(t)==="[object String]"&&(!We||!(typeof t=="object"&&We in t))}function dy(t){return ur(t)==="[object Number]"&&(!We||!(typeof t=="object"&&We in t))}function py(t){return ur(t)==="[object Boolean]"&&(!We||!(typeof t=="object"&&We in t))}function zh(t){if(an)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!dc)return!1;try{return dc.call(t),!0}catch{}return!1}function by(t){if(!t||typeof t!="object"||!hc)return!1;try{return hc.call(t),!0}catch{}return!1}var gy=Object.prototype.hasOwnProperty||function(t){return t in this};function Zt(t,e){return gy.call(t,e)}function ur(t){return ny.call(t)}function yy(t){if(t.name)return t.name;var e=sy.call(iy.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function qh(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function vy(t){if(!ns||!t||typeof t!="object")return!1;try{ns.call(t);try{is.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function my(t){if(!Vn||!t||typeof t!="object")return!1;try{Vn.call(t,Vn);try{Un.call(t,Un)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function _y(t){if(!fl||!t||typeof t!="object")return!1;try{return fl.call(t),!0}catch{}return!1}function wy(t){if(!is||!t||typeof t!="object")return!1;try{is.call(t);try{ns.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Sy(t){if(!Un||!t||typeof t!="object")return!1;try{Un.call(t,Un);try{Vn.call(t,Vn)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Ey(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Gh(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Gh(qc.call(t,0,e.maxStringLength),e)+n}var i=Xt.call(Xt.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Cy);return Uh(i,"single",e)}function Cy(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+oy.call(e.toString(16))}function $n(t){return"Object("+t+")"}function Ra(t){return t+" { ? }"}function _l(t,e,r,n){var i=n?gc(r,n):It.call(r,", ");return t+" ("+e+") {"+i+"}"}function Ry(t){for(var e=0;e<t.length;e++)if(qh(t[e],`
`)>=0)return!1;return!0}function xy(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=It.call(Array(t.indent+1)," ");else return null;return{base:r,prev:It.call(Array(e+1),r)}}function gc(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+It.call(t,","+r)+`
`+e.prev}function Ni(t,e){var r=bc(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Zt(t,i)?e(t[i],t):""}var s=typeof Ca=="function"?Ca(t):[],o;if(an){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)Zt(t,c)&&(r&&String(Number(c))===c&&c<t.length||an&&o["$"+c]instanceof Symbol||(Hh.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof Ca=="function")for(var u=0;u<s.length;u++)Vh.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}var Gc=Vc,Cn=Kg,Iy=cy,Ay=Gc("%TypeError%"),Li=Gc("%WeakMap%",!0),Pi=Gc("%Map%",!0),My=Cn("WeakMap.prototype.get",!0),ky=Cn("WeakMap.prototype.set",!0),Ty=Cn("WeakMap.prototype.has",!0),Oy=Cn("Map.prototype.get",!0),Ny=Cn("Map.prototype.set",!0),Ly=Cn("Map.prototype.has",!0),Jc=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Py=function(t,e){var r=Jc(t,e);return r&&r.value},$y=function(t,e,r){var n=Jc(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Dy=function(t,e){return!!Jc(t,e)},jy=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new Ay("Side channel does not contain "+Iy(s))},get:function(s){if(Li&&s&&(typeof s=="object"||typeof s=="function")){if(e)return My(e,s)}else if(Pi){if(r)return Oy(r,s)}else if(n)return Py(n,s)},has:function(s){if(Li&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Ty(e,s)}else if(Pi){if(r)return Ly(r,s)}else if(n)return Dy(n,s);return!1},set:function(s,o){Li&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Li),ky(e,s,o)):Pi?(r||(r=new Pi),Ny(r,s,o)):(n||(n={key:{},next:null}),$y(n,s,o))}};return i},By=String.prototype.replace,Fy=/%20/g,xa={RFC1738:"RFC1738",RFC3986:"RFC3986"},Qc={default:xa.RFC3986,formatters:{RFC1738:function(t){return By.call(t,Fy,"+")},RFC3986:function(t){return String(t)}},RFC1738:xa.RFC1738,RFC3986:xa.RFC3986},Wy=Qc,Ia=Object.prototype.hasOwnProperty,pr=Array.isArray,wt=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Hy=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(pr(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},Jh=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Vy=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(pr(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Ia.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return pr(e)&&!pr(r)&&(i=Jh(e,n)),pr(e)&&pr(r)?(r.forEach(function(s,o){if(Ia.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return Ia.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},Uy=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},zy=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},qy=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var u=o.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===Wy.RFC1738&&(u===40||u===41)){a+=o.charAt(c);continue}if(u<128){a=a+wt[u];continue}if(u<2048){a=a+(wt[192|u>>6]+wt[128|u&63]);continue}if(u<55296||u>=57344){a=a+(wt[224|u>>12]+wt[128|u>>6&63]+wt[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|o.charCodeAt(c)&1023),a+=wt[240|u>>18]+wt[128|u>>12&63]+wt[128|u>>6&63]+wt[128|u&63]}return a},Gy=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var u=a[c],l=o[u];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(r.push({obj:o,prop:u}),n.push(l))}return Hy(r),e},Jy=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Qy=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Zy=function(e,r){return[].concat(e,r)},Yy=function(e,r){if(pr(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Qh={arrayToObject:Jh,assign:Uy,combine:Zy,compact:Gy,decode:zy,encode:qy,isBuffer:Qy,isRegExp:Jy,maybeMap:Yy,merge:Vy},Zh=jy,Ji=Qh,zn=Qc,Ky=Object.prototype.hasOwnProperty,wl={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},jt=Array.isArray,Xy=Array.prototype.push,Yh=function(t,e){Xy.apply(t,jt(e)?e:[e])},ev=Date.prototype.toISOString,Sl=zn.default,Fe={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Ji.encode,encodeValuesOnly:!1,format:Sl,formatter:zn.formatters[Sl],indices:!1,serializeDate:function(e){return ev.call(e)},skipNulls:!1,strictNullHandling:!1},tv=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Aa={},rv=function t(e,r,n,i,s,o,a,c,u,l,f,h,p,b,_,w){for(var d=e,v=w,m=0,R=!1;(v=v.get(Aa))!==void 0&&!R;){var C=v.get(e);if(m+=1,typeof C<"u"){if(C===m)throw new RangeError("Cyclic object value");R=!0}typeof v.get(Aa)>"u"&&(m=0)}if(typeof c=="function"?d=c(r,d):d instanceof Date?d=f(d):n==="comma"&&jt(d)&&(d=Ji.maybeMap(d,function(P){return P instanceof Date?f(P):P})),d===null){if(s)return a&&!b?a(r,Fe.encoder,_,"key",h):r;d=""}if(tv(d)||Ji.isBuffer(d)){if(a){var I=b?r:a(r,Fe.encoder,_,"key",h);return[p(I)+"="+p(a(d,Fe.encoder,_,"value",h))]}return[p(r)+"="+p(String(d))]}var D=[];if(typeof d>"u")return D;var N;if(n==="comma"&&jt(d))b&&a&&(d=Ji.maybeMap(d,a)),N=[{value:d.length>0?d.join(",")||null:void 0}];else if(jt(c))N=c;else{var M=Object.keys(d);N=u?M.sort(u):M}for(var U=i&&jt(d)&&d.length===1?r+"[]":r,ce=0;ce<N.length;++ce){var Q=N[ce],A=typeof Q=="object"&&typeof Q.value<"u"?Q.value:d[Q];if(!(o&&A===null)){var k=jt(d)?typeof n=="function"?n(U,Q):U:U+(l?"."+Q:"["+Q+"]");w.set(e,m);var L=Zh();L.set(Aa,w),Yh(D,t(A,k,n,i,s,o,n==="comma"&&b&&jt(d)?null:a,c,u,l,f,h,p,b,_,L))}}return D},nv=function(e){if(!e)return Fe;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Fe.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=zn.default;if(typeof e.format<"u"){if(!Ky.call(zn.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=zn.formatters[n],s=Fe.filter;return(typeof e.filter=="function"||jt(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Fe.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Fe.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Fe.charsetSentinel,delimiter:typeof e.delimiter>"u"?Fe.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Fe.encode,encoder:typeof e.encoder=="function"?e.encoder:Fe.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Fe.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Fe.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Fe.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Fe.strictNullHandling}},iv=function(t,e){var r=t,n=nv(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):jt(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in wl?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=wl[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=Zh(),f=0;f<i.length;++f){var h=i[f];n.skipNulls&&r[h]===null||Yh(o,rv(r[h],h,c,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var p=o.join(n.delimiter),b=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),p.length>0?b+p:""},cn=Qh,yc=Object.prototype.hasOwnProperty,sv=Array.isArray,Me={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:cn.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},ov=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Kh=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},av="utf8=%26%2310003%3B",cv="utf8=%E2%9C%93",uv=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,u=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===cv?u="utf-8":o[c]===av&&(u="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var l=o[c],f=l.indexOf("]="),h=f===-1?l.indexOf("="):f+1,p,b;h===-1?(p=r.decoder(l,Me.decoder,u,"key"),b=r.strictNullHandling?null:""):(p=r.decoder(l.slice(0,h),Me.decoder,u,"key"),b=cn.maybeMap(Kh(l.slice(h+1),r),function(_){return r.decoder(_,Me.decoder,u,"value")})),b&&r.interpretNumericEntities&&u==="iso-8859-1"&&(b=ov(b)),l.indexOf("[]=")>-1&&(b=sv(b)?[b]:b),yc.call(n,p)?n[p]=cn.combine(n[p],b):n[p]=b}return n},lv=function(t,e,r,n){for(var i=n?e:Kh(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},fv=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),u=c?s.slice(0,c.index):s,l=[];if(u){if(!n.plainObjects&&yc.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var f=0;n.depth>0&&(c=a.exec(s))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&yc.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+s.slice(c.index)+"]"),lv(l,r,n,i)}},hv=function(e){if(!e)return Me;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Me.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Me.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Me.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Me.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Me.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Me.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Me.comma,decoder:typeof e.decoder=="function"?e.decoder:Me.decoder,delimiter:typeof e.delimiter=="string"||cn.isRegExp(e.delimiter)?e.delimiter:Me.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Me.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Me.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Me.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Me.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Me.strictNullHandling}},dv=function(t,e){var r=hv(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?uv(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=fv(a,n[a],r,typeof t=="string");i=cn.merge(i,c,r)}return r.allowSparse===!0?i:cn.compact(i)},pv=iv,bv=dv,gv=Qc,yv={formats:gv,parse:bv,stringify:pv},hi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(hi);var vv=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(W,"__esModule",{value:!0});W.isInIFrame=W.createQrUrl=W.getFavicon=W.range=W.isBigNumber=W.ensureParsedJSONObject=W.ensureBN=W.ensureRegExpString=W.ensureIntNumber=W.ensureBuffer=W.ensureAddressString=W.ensureEvenLengthHexString=W.ensureHexString=W.isHexString=W.prepend0x=W.strip0x=W.has0xPrefix=W.hexStringFromIntNumber=W.intNumberFromHexString=W.bigIntStringFromBN=W.hexStringFromBuffer=W.hexStringToUint8Array=W.uint8ArrayToHex=W.randomBytesHex=void 0;const Yt=vv(vs),mv=yv,Or=si,at=hi,Xh=/^[0-9]*$/,ed=/^[a-f0-9]*$/;function _v(t){return td(crypto.getRandomValues(new Uint8Array(t)))}W.randomBytesHex=_v;function td(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}W.uint8ArrayToHex=td;function wv(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}W.hexStringToUint8Array=wv;function Sv(t,e=!1){const r=t.toString("hex");return(0,at.HexString)(e?"0x"+r:r)}W.hexStringFromBuffer=Sv;function Ev(t){return(0,at.BigIntString)(t.toString(10))}W.bigIntStringFromBN=Ev;function Cv(t){return(0,at.IntNumber)(new Yt.default(pi(t,!1),16).toNumber())}W.intNumberFromHexString=Cv;function Rv(t){return(0,at.HexString)("0x"+new Yt.default(t).toString(16))}W.hexStringFromIntNumber=Rv;function Zc(t){return t.startsWith("0x")||t.startsWith("0X")}W.has0xPrefix=Zc;function xs(t){return Zc(t)?t.slice(2):t}W.strip0x=xs;function rd(t){return Zc(t)?"0x"+t.slice(2):"0x"+t}W.prepend0x=rd;function di(t){if(typeof t!="string")return!1;const e=xs(t).toLowerCase();return ed.test(e)}W.isHexString=di;function nd(t,e=!1){if(typeof t=="string"){const r=xs(t).toLowerCase();if(ed.test(r))return(0,at.HexString)(e?"0x"+r:r)}throw Or.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}W.ensureHexString=nd;function pi(t,e=!1){let r=nd(t,!1);return r.length%2===1&&(r=(0,at.HexString)("0"+r)),e?(0,at.HexString)("0x"+r):r}W.ensureEvenLengthHexString=pi;function xv(t){if(typeof t=="string"){const e=xs(t).toLowerCase();if(di(e)&&e.length===40)return(0,at.AddressString)(rd(e))}throw Or.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}W.ensureAddressString=xv;function Iv(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(di(t)){const e=pi(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw Or.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}W.ensureBuffer=Iv;function id(t){if(typeof t=="number"&&Number.isInteger(t))return(0,at.IntNumber)(t);if(typeof t=="string"){if(Xh.test(t))return(0,at.IntNumber)(Number(t));if(di(t))return(0,at.IntNumber)(new Yt.default(pi(t,!1),16).toNumber())}throw Or.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}W.ensureIntNumber=id;function Av(t){if(t instanceof RegExp)return(0,at.RegExpString)(t.toString());throw Or.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}W.ensureRegExpString=Av;function Mv(t){if(t!==null&&(Yt.default.isBN(t)||sd(t)))return new Yt.default(t.toString(10),10);if(typeof t=="number")return new Yt.default(id(t));if(typeof t=="string"){if(Xh.test(t))return new Yt.default(t,10);if(di(t))return new Yt.default(pi(t,!1),16)}throw Or.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}W.ensureBN=Mv;function kv(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw Or.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}W.ensureParsedJSONObject=kv;function sd(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}W.isBigNumber=sd;function Tv(t,e){return Array.from({length:e-t},(r,n)=>t+n)}W.range=Tv;function Ov(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}W.getFavicon=Ov;function Nv(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,mv.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}W.createQrUrl=Nv;function Lv(){try{return window.frameElement!==null}catch{return!1}}W.isInIFrame=Lv;Object.defineProperty(Sn,"__esModule",{value:!0});Sn.Session=void 0;const El=Rg,Cl=W,Rl="session:id",xl="session:secret",Il="session:linked";class Yc{constructor(e,r,n,i){this._storage=e,this._id=r||(0,Cl.randomBytesHex)(16),this._secret=n||(0,Cl.randomBytesHex)(32),this._key=new El.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(Rl),n=e.getItem(Il),i=e.getItem(xl);return r&&i?new Yc(e,r,i,n==="1"):null}static hash(e){return new El.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Rl,this._id),this._storage.setItem(xl,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Il,this._linked?"1":"0")}}Sn.Session=Yc;var gt={};Object.defineProperty(gt,"__esModule",{value:!0});gt.WalletSDKRelayAbstract=gt.APP_VERSION_KEY=gt.LOCAL_STORAGE_ADDRESSES_KEY=gt.WALLET_USER_NAME_KEY=void 0;const Al=si;gt.WALLET_USER_NAME_KEY="walletUsername";gt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";gt.APP_VERSION_KEY="AppVersion";class Pv{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Al.standardErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,Al.serializeError)(s,e.method);return i})}}gt.WalletSDKRelayAbstract=Pv;var vc={exports:{}},od=jc.EventEmitter,Ma,Ml;function $v(){if(Ml)return Ma;Ml=1;function t(b,_){var w=Object.keys(b);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(b);_&&(d=d.filter(function(v){return Object.getOwnPropertyDescriptor(b,v).enumerable})),w.push.apply(w,d)}return w}function e(b){for(var _=1;_<arguments.length;_++){var w=arguments[_]!=null?arguments[_]:{};_%2?t(Object(w),!0).forEach(function(d){r(b,d,w[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(w)):t(Object(w)).forEach(function(d){Object.defineProperty(b,d,Object.getOwnPropertyDescriptor(w,d))})}return b}function r(b,_,w){return _=o(_),_ in b?Object.defineProperty(b,_,{value:w,enumerable:!0,configurable:!0,writable:!0}):b[_]=w,b}function n(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function i(b,_){for(var w=0;w<_.length;w++){var d=_[w];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(b,o(d.key),d)}}function s(b,_,w){return _&&i(b.prototype,_),w&&i(b,w),Object.defineProperty(b,"prototype",{writable:!1}),b}function o(b){var _=a(b,"string");return typeof _=="symbol"?_:String(_)}function a(b,_){if(typeof b!="object"||b===null)return b;var w=b[Symbol.toPrimitive];if(w!==void 0){var d=w.call(b,_||"default");if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(b)}var c=ys,u=c.Buffer,l=Dc,f=l.inspect,h=f&&f.custom||"inspect";function p(b,_,w){u.prototype.copy.call(b,_,w)}return Ma=function(){function b(){n(this,b),this.head=null,this.tail=null,this.length=0}return s(b,[{key:"push",value:function(w){var d={data:w,next:null};this.length>0?this.tail.next=d:this.head=d,this.tail=d,++this.length}},{key:"unshift",value:function(w){var d={data:w,next:this.head};this.length===0&&(this.tail=d),this.head=d,++this.length}},{key:"shift",value:function(){if(this.length!==0){var w=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,w}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(w){if(this.length===0)return"";for(var d=this.head,v=""+d.data;d=d.next;)v+=w+d.data;return v}},{key:"concat",value:function(w){if(this.length===0)return u.alloc(0);for(var d=u.allocUnsafe(w>>>0),v=this.head,m=0;v;)p(v.data,d,m),m+=v.data.length,v=v.next;return d}},{key:"consume",value:function(w,d){var v;return w<this.head.data.length?(v=this.head.data.slice(0,w),this.head.data=this.head.data.slice(w)):w===this.head.data.length?v=this.shift():v=d?this._getString(w):this._getBuffer(w),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(w){var d=this.head,v=1,m=d.data;for(w-=m.length;d=d.next;){var R=d.data,C=w>R.length?R.length:w;if(C===R.length?m+=R:m+=R.slice(0,w),w-=C,w===0){C===R.length?(++v,d.next?this.head=d.next:this.head=this.tail=null):(this.head=d,d.data=R.slice(C));break}++v}return this.length-=v,m}},{key:"_getBuffer",value:function(w){var d=u.allocUnsafe(w),v=this.head,m=1;for(v.data.copy(d),w-=v.data.length;v=v.next;){var R=v.data,C=w>R.length?R.length:w;if(R.copy(d,d.length-w,0,C),w-=C,w===0){C===R.length?(++m,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=R.slice(C));break}++m}return this.length-=m,d}},{key:h,value:function(w,d){return f(this,e(e({},d),{},{depth:0,customInspect:!1}))}}]),b}(),Ma}function Dv(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(mc,this,t)):process.nextTick(mc,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(Qi,r):(r._writableState.errorEmitted=!0,process.nextTick(kl,r,s)):process.nextTick(kl,r,s):e?(process.nextTick(Qi,r),e(s)):process.nextTick(Qi,r)}),this)}function kl(t,e){mc(t,e),Qi(t)}function Qi(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function jv(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function mc(t,e){t.emit("error",e)}function Bv(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var ad={destroy:Dv,undestroy:jv,errorOrDestroy:Bv},Nr={};function Fv(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var cd={};function ut(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){Fv(o,s);function o(a,c,u){return s.call(this,n(a,c,u))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,cd[t]=i}function Tl(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Wv(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Hv(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Vv(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}ut("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ut("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Wv(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Hv(t," argument"))i="The ".concat(t," ").concat(n," ").concat(Tl(e,"type"));else{var s=Vv(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(Tl(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);ut("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ut("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});ut("ERR_STREAM_PREMATURE_CLOSE","Premature close");ut("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});ut("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ut("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ut("ERR_STREAM_WRITE_AFTER_END","write after end");ut("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ut("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);ut("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Nr.codes=cd;var Uv=Nr.codes.ERR_INVALID_OPT_VALUE;function zv(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function qv(t,e,r,n){var i=zv(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new Uv(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var ud={getHighWaterMark:qv},Gv=Jv;function Jv(t,e){if(ka("noDeprecation"))return t;var r=!1;function n(){if(!r){if(ka("throwDeprecation"))throw new Error(e);ka("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function ka(t){try{if(!F.localStorage)return!1}catch{return!1}var e=F.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var Ta,Ol;function ld(){if(Ol)return Ta;Ol=1,Ta=N;function t(S){var E=this;this.next=null,this.entry=null,this.finish=function(){He(E,S)}}var e;N.WritableState=I;var r={deprecate:Gv},n=od,i=ys.Buffer,s=(typeof F<"u"?F:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(S){return i.from(S)}function a(S){return i.isBuffer(S)||S instanceof s}var c=ad,u=ud,l=u.getHighWaterMark,f=Nr.codes,h=f.ERR_INVALID_ARG_TYPE,p=f.ERR_METHOD_NOT_IMPLEMENTED,b=f.ERR_MULTIPLE_CALLBACK,_=f.ERR_STREAM_CANNOT_PIPE,w=f.ERR_STREAM_DESTROYED,d=f.ERR_STREAM_NULL_VALUES,v=f.ERR_STREAM_WRITE_AFTER_END,m=f.ERR_UNKNOWN_ENCODING,R=c.errorOrDestroy;yt(N,n);function C(){}function I(S,E,O){e=e||un(),S=S||{},typeof O!="boolean"&&(O=E instanceof e),this.objectMode=!!S.objectMode,O&&(this.objectMode=this.objectMode||!!S.writableObjectMode),this.highWaterMark=l(this,S,"writableHighWaterMark",O),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var z=S.decodeStrings===!1;this.decodeStrings=!z,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(te){P(E,te)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=S.emitClose!==!1,this.autoDestroy=!!S.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}I.prototype.getBuffer=function(){for(var E=this.bufferedRequest,O=[];E;)O.push(E),E=E.next;return O},function(){try{Object.defineProperty(I.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var D;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(D=Function.prototype[Symbol.hasInstance],Object.defineProperty(N,Symbol.hasInstance,{value:function(E){return D.call(this,E)?!0:this!==N?!1:E&&E._writableState instanceof I}})):D=function(E){return E instanceof this};function N(S){e=e||un();var E=this instanceof e;if(!E&&!D.call(N,this))return new N(S);this._writableState=new I(S,this,E),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final)),n.call(this)}N.prototype.pipe=function(){R(this,new _)};function M(S,E){var O=new v;R(S,O),process.nextTick(E,O)}function U(S,E,O,z){var te;return O===null?te=new d:typeof O!="string"&&!E.objectMode&&(te=new h("chunk",["string","Buffer"],O)),te?(R(S,te),process.nextTick(z,te),!1):!0}N.prototype.write=function(S,E,O){var z=this._writableState,te=!1,g=!z.objectMode&&a(S);return g&&!i.isBuffer(S)&&(S=o(S)),typeof E=="function"&&(O=E,E=null),g?E="buffer":E||(E=z.defaultEncoding),typeof O!="function"&&(O=C),z.ending?M(this,O):(g||U(this,z,S,O))&&(z.pendingcb++,te=Q(this,z,g,S,E,O)),te},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,!S.writing&&!S.corked&&!S.bufferProcessing&&S.bufferedRequest&&H(this,S))},N.prototype.setDefaultEncoding=function(E){if(typeof E=="string"&&(E=E.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((E+"").toLowerCase())>-1))throw new m(E);return this._writableState.defaultEncoding=E,this},Object.defineProperty(N.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ce(S,E,O){return!S.objectMode&&S.decodeStrings!==!1&&typeof E=="string"&&(E=i.from(E,O)),E}Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Q(S,E,O,z,te,g){if(!O){var y=ce(E,z,te);z!==y&&(O=!0,te="buffer",z=y)}var T=E.objectMode?1:z.length;E.length+=T;var $=E.length<E.highWaterMark;if($||(E.needDrain=!0),E.writing||E.corked){var ge=E.lastBufferedRequest;E.lastBufferedRequest={chunk:z,encoding:te,isBuf:O,callback:g,next:null},ge?ge.next=E.lastBufferedRequest:E.bufferedRequest=E.lastBufferedRequest,E.bufferedRequestCount+=1}else A(S,E,!1,T,z,te,g);return $}function A(S,E,O,z,te,g,y){E.writelen=z,E.writecb=y,E.writing=!0,E.sync=!0,E.destroyed?E.onwrite(new w("write")):O?S._writev(te,E.onwrite):S._write(te,g,E.onwrite),E.sync=!1}function k(S,E,O,z,te){--E.pendingcb,O?(process.nextTick(te,z),process.nextTick(he,S,E),S._writableState.errorEmitted=!0,R(S,z)):(te(z),S._writableState.errorEmitted=!0,R(S,z),he(S,E))}function L(S){S.writing=!1,S.writecb=null,S.length-=S.writelen,S.writelen=0}function P(S,E){var O=S._writableState,z=O.sync,te=O.writecb;if(typeof te!="function")throw new b;if(L(O),E)k(S,O,z,E,te);else{var g=Y(O)||S.destroyed;!g&&!O.corked&&!O.bufferProcessing&&O.bufferedRequest&&H(S,O),z?process.nextTick(B,S,O,g,te):B(S,O,g,te)}}function B(S,E,O,z){O||j(S,E),E.pendingcb--,z(),he(S,E)}function j(S,E){E.length===0&&E.needDrain&&(E.needDrain=!1,S.emit("drain"))}function H(S,E){E.bufferProcessing=!0;var O=E.bufferedRequest;if(S._writev&&O&&O.next){var z=E.bufferedRequestCount,te=new Array(z),g=E.corkedRequestsFree;g.entry=O;for(var y=0,T=!0;O;)te[y]=O,O.isBuf||(T=!1),O=O.next,y+=1;te.allBuffers=T,A(S,E,!0,E.length,te,"",g.finish),E.pendingcb++,E.lastBufferedRequest=null,g.next?(E.corkedRequestsFree=g.next,g.next=null):E.corkedRequestsFree=new t(E),E.bufferedRequestCount=0}else{for(;O;){var $=O.chunk,ge=O.encoding,K=O.callback,fe=E.objectMode?1:$.length;if(A(S,E,!1,fe,$,ge,K),O=O.next,E.bufferedRequestCount--,E.writing)break}O===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=O,E.bufferProcessing=!1}N.prototype._write=function(S,E,O){O(new p("_write()"))},N.prototype._writev=null,N.prototype.end=function(S,E,O){var z=this._writableState;return typeof S=="function"?(O=S,S=null,E=null):typeof E=="function"&&(O=E,E=null),S!=null&&this.write(S,E),z.corked&&(z.corked=1,this.uncork()),z.ending||le(this,z,O),this},Object.defineProperty(N.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Y(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function G(S,E){S._final(function(O){E.pendingcb--,O&&R(S,O),E.prefinished=!0,S.emit("prefinish"),he(S,E)})}function se(S,E){!E.prefinished&&!E.finalCalled&&(typeof S._final=="function"&&!E.destroyed?(E.pendingcb++,E.finalCalled=!0,process.nextTick(G,S,E)):(E.prefinished=!0,S.emit("prefinish")))}function he(S,E){var O=Y(E);if(O&&(se(S,E),E.pendingcb===0&&(E.finished=!0,S.emit("finish"),E.autoDestroy))){var z=S._readableState;(!z||z.autoDestroy&&z.endEmitted)&&S.destroy()}return O}function le(S,E,O){E.ending=!0,he(S,E),O&&(E.finished?process.nextTick(O):S.once("finish",O)),E.ended=!0,S.writable=!1}function He(S,E,O){var z=S.entry;for(S.entry=null;z;){var te=z.callback;E.pendingcb--,te(O),z=z.next}E.corkedRequestsFree.next=S}return Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(E){this._writableState&&(this._writableState.destroyed=E)}}),N.prototype.destroy=c.destroy,N.prototype._undestroy=c.undestroy,N.prototype._destroy=function(S,E){E(S)},Ta}var Oa,Nl;function un(){if(Nl)return Oa;Nl=1;var t=Object.keys||function(u){var l=[];for(var f in u)l.push(f);return l};Oa=o;var e=hd(),r=ld();yt(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(u){if(!(this instanceof o))return new o(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(c,this)}function c(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),Oa}var Na={},Ll;function Pl(){if(Ll)return Na;Ll=1;var t=cr.Buffer,e=t.isEncoding||function(d){switch(d=""+d,d&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(d){if(!d)return"utf8";for(var v;;)switch(d){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return d;default:if(v)return;d=(""+d).toLowerCase(),v=!0}}function n(d){var v=r(d);if(typeof v!="string"&&(t.isEncoding===e||!e(d)))throw new Error("Unknown encoding: "+d);return v||d}Na.StringDecoder=i;function i(d){this.encoding=n(d);var v;switch(this.encoding){case"utf16le":this.text=f,this.end=h,v=4;break;case"utf8":this.fillLast=c,v=4;break;case"base64":this.text=p,this.end=b,v=3;break;default:this.write=_,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(v)}i.prototype.write=function(d){if(d.length===0)return"";var v,m;if(this.lastNeed){if(v=this.fillLast(d),v===void 0)return"";m=this.lastNeed,this.lastNeed=0}else m=0;return m<d.length?v?v+this.text(d,m):this.text(d,m):v||""},i.prototype.end=l,i.prototype.text=u,i.prototype.fillLast=function(d){if(this.lastNeed<=d.length)return d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,d.length),this.lastNeed-=d.length};function s(d){return d<=127?0:d>>5===6?2:d>>4===14?3:d>>3===30?4:d>>6===2?-1:-2}function o(d,v,m){var R=v.length-1;if(R<m)return 0;var C=s(v[R]);return C>=0?(C>0&&(d.lastNeed=C-1),C):--R<m||C===-2?0:(C=s(v[R]),C>=0?(C>0&&(d.lastNeed=C-2),C):--R<m||C===-2?0:(C=s(v[R]),C>=0?(C>0&&(C===2?C=0:d.lastNeed=C-3),C):0))}function a(d,v,m){if((v[0]&192)!==128)return d.lastNeed=0,"�";if(d.lastNeed>1&&v.length>1){if((v[1]&192)!==128)return d.lastNeed=1,"�";if(d.lastNeed>2&&v.length>2&&(v[2]&192)!==128)return d.lastNeed=2,"�"}}function c(d){var v=this.lastTotal-this.lastNeed,m=a(this,d);if(m!==void 0)return m;if(this.lastNeed<=d.length)return d.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,v,0,d.length),this.lastNeed-=d.length}function u(d,v){var m=o(this,d,v);if(!this.lastNeed)return d.toString("utf8",v);this.lastTotal=m;var R=d.length-(m-this.lastNeed);return d.copy(this.lastChar,0,R),d.toString("utf8",v,R)}function l(d){var v=d&&d.length?this.write(d):"";return this.lastNeed?v+"�":v}function f(d,v){if((d.length-v)%2===0){var m=d.toString("utf16le",v);if(m){var R=m.charCodeAt(m.length-1);if(R>=55296&&R<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1],m.slice(0,-1)}return m}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=d[d.length-1],d.toString("utf16le",v,d.length-1)}function h(d){var v=d&&d.length?this.write(d):"";if(this.lastNeed){var m=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,m)}return v}function p(d,v){var m=(d.length-v)%3;return m===0?d.toString("base64",v):(this.lastNeed=3-m,this.lastTotal=3,m===1?this.lastChar[0]=d[d.length-1]:(this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1]),d.toString("base64",v,d.length-m))}function b(d){var v=d&&d.length?this.write(d):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function _(d){return d.toString(this.encoding)}function w(d){return d&&d.length?this.write(d):""}return Na}var $l=Nr.codes.ERR_STREAM_PREMATURE_CLOSE;function Qv(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function Zv(){}function Yv(t){return t.setHeader&&typeof t.abort=="function"}function fd(t,e,r){if(typeof e=="function")return fd(t,null,e);e||(e={}),r=Qv(r||Zv);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,u=function(){n=!1,c=!0,i||r.call(t)},l=function(b){r.call(t,b)},f=function(){var b;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(b=new $l),r.call(t,b);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(b=new $l),r.call(t,b)},h=function(){t.req.on("finish",a)};return Yv(t)?(t.on("complete",a),t.on("abort",f),t.req?h():t.on("request",h)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",u),t.on("finish",a),e.error!==!1&&t.on("error",l),t.on("close",f),function(){t.removeListener("complete",a),t.removeListener("abort",f),t.removeListener("request",h),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",u),t.removeListener("error",l),t.removeListener("close",f)}}var Kc=fd,La,Dl;function Kv(){if(Dl)return La;Dl=1;var t;function e(m,R,C){return R=r(R),R in m?Object.defineProperty(m,R,{value:C,enumerable:!0,configurable:!0,writable:!0}):m[R]=C,m}function r(m){var R=n(m,"string");return typeof R=="symbol"?R:String(R)}function n(m,R){if(typeof m!="object"||m===null)return m;var C=m[Symbol.toPrimitive];if(C!==void 0){var I=C.call(m,R||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(m)}var i=Kc,s=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),l=Symbol("handlePromise"),f=Symbol("stream");function h(m,R){return{value:m,done:R}}function p(m){var R=m[s];if(R!==null){var C=m[f].read();C!==null&&(m[u]=null,m[s]=null,m[o]=null,R(h(C,!1)))}}function b(m){process.nextTick(p,m)}function _(m,R){return function(C,I){m.then(function(){if(R[c]){C(h(void 0,!0));return}R[l](C,I)},I)}}var w=Object.getPrototypeOf(function(){}),d=Object.setPrototypeOf((t={get stream(){return this[f]},next:function(){var R=this,C=this[a];if(C!==null)return Promise.reject(C);if(this[c])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise(function(M,U){process.nextTick(function(){R[a]?U(R[a]):M(h(void 0,!0))})});var I=this[u],D;if(I)D=new Promise(_(I,this));else{var N=this[f].read();if(N!==null)return Promise.resolve(h(N,!1));D=new Promise(this[l])}return this[u]=D,D}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var R=this;return new Promise(function(C,I){R[f].destroy(null,function(D){if(D){I(D);return}C(h(void 0,!0))})})}),t),w),v=function(R){var C,I=Object.create(d,(C={},e(C,f,{value:R,writable:!0}),e(C,s,{value:null,writable:!0}),e(C,o,{value:null,writable:!0}),e(C,a,{value:null,writable:!0}),e(C,c,{value:R._readableState.endEmitted,writable:!0}),e(C,l,{value:function(N,M){var U=I[f].read();U?(I[u]=null,I[s]=null,I[o]=null,N(h(U,!1))):(I[s]=N,I[o]=M)},writable:!0}),C));return I[u]=null,i(R,function(D){if(D&&D.code!=="ERR_STREAM_PREMATURE_CLOSE"){var N=I[o];N!==null&&(I[u]=null,I[s]=null,I[o]=null,N(D)),I[a]=D;return}var M=I[s];M!==null&&(I[u]=null,I[s]=null,I[o]=null,M(h(void 0,!0))),I[c]=!0}),R.on("readable",b.bind(null,I)),I};return La=v,La}var Pa,jl;function Xv(){return jl||(jl=1,Pa=function(){throw new Error("Readable.from is not available in the browser")}),Pa}var $a,Bl;function hd(){if(Bl)return $a;Bl=1,$a=M;var t;M.ReadableState=N,jc.EventEmitter;var e=function(y,T){return y.listeners(T).length},r=od,n=ys.Buffer,i=(typeof F<"u"?F:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(g){return n.from(g)}function o(g){return n.isBuffer(g)||g instanceof i}var a=Dc,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var u=$v(),l=ad,f=ud,h=f.getHighWaterMark,p=Nr.codes,b=p.ERR_INVALID_ARG_TYPE,_=p.ERR_STREAM_PUSH_AFTER_EOF,w=p.ERR_METHOD_NOT_IMPLEMENTED,d=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,v,m,R;yt(M,r);var C=l.errorOrDestroy,I=["error","close","destroy","pause","resume"];function D(g,y,T){if(typeof g.prependListener=="function")return g.prependListener(y,T);!g._events||!g._events[y]?g.on(y,T):Array.isArray(g._events[y])?g._events[y].unshift(T):g._events[y]=[T,g._events[y]]}function N(g,y,T){t=t||un(),g=g||{},typeof T!="boolean"&&(T=y instanceof t),this.objectMode=!!g.objectMode,T&&(this.objectMode=this.objectMode||!!g.readableObjectMode),this.highWaterMark=h(this,g,"readableHighWaterMark",T),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=g.emitClose!==!1,this.autoDestroy=!!g.autoDestroy,this.destroyed=!1,this.defaultEncoding=g.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,g.encoding&&(v||(v=Pl().StringDecoder),this.decoder=new v(g.encoding),this.encoding=g.encoding)}function M(g){if(t=t||un(),!(this instanceof M))return new M(g);var y=this instanceof t;this._readableState=new N(g,this,y),this.readable=!0,g&&(typeof g.read=="function"&&(this._read=g.read),typeof g.destroy=="function"&&(this._destroy=g.destroy)),r.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(y){this._readableState&&(this._readableState.destroyed=y)}}),M.prototype.destroy=l.destroy,M.prototype._undestroy=l.undestroy,M.prototype._destroy=function(g,y){y(g)},M.prototype.push=function(g,y){var T=this._readableState,$;return T.objectMode?$=!0:typeof g=="string"&&(y=y||T.defaultEncoding,y!==T.encoding&&(g=n.from(g,y),y=""),$=!0),U(this,g,y,!1,$)},M.prototype.unshift=function(g){return U(this,g,null,!0,!1)};function U(g,y,T,$,ge){c("readableAddChunk",y);var K=g._readableState;if(y===null)K.reading=!1,P(g,K);else{var fe;if(ge||(fe=Q(K,y)),fe)C(g,fe);else if(K.objectMode||y&&y.length>0)if(typeof y!="string"&&!K.objectMode&&Object.getPrototypeOf(y)!==n.prototype&&(y=s(y)),$)K.endEmitted?C(g,new d):ce(g,K,y,!0);else if(K.ended)C(g,new _);else{if(K.destroyed)return!1;K.reading=!1,K.decoder&&!T?(y=K.decoder.write(y),K.objectMode||y.length!==0?ce(g,K,y,!1):H(g,K)):ce(g,K,y,!1)}else $||(K.reading=!1,H(g,K))}return!K.ended&&(K.length<K.highWaterMark||K.length===0)}function ce(g,y,T,$){y.flowing&&y.length===0&&!y.sync?(y.awaitDrain=0,g.emit("data",T)):(y.length+=y.objectMode?1:T.length,$?y.buffer.unshift(T):y.buffer.push(T),y.needReadable&&B(g)),H(g,y)}function Q(g,y){var T;return!o(y)&&typeof y!="string"&&y!==void 0&&!g.objectMode&&(T=new b("chunk",["string","Buffer","Uint8Array"],y)),T}M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(g){v||(v=Pl().StringDecoder);var y=new v(g);this._readableState.decoder=y,this._readableState.encoding=this._readableState.decoder.encoding;for(var T=this._readableState.buffer.head,$="";T!==null;)$+=y.write(T.data),T=T.next;return this._readableState.buffer.clear(),$!==""&&this._readableState.buffer.push($),this._readableState.length=$.length,this};var A=1073741824;function k(g){return g>=A?g=A:(g--,g|=g>>>1,g|=g>>>2,g|=g>>>4,g|=g>>>8,g|=g>>>16,g++),g}function L(g,y){return g<=0||y.length===0&&y.ended?0:y.objectMode?1:g!==g?y.flowing&&y.length?y.buffer.head.data.length:y.length:(g>y.highWaterMark&&(y.highWaterMark=k(g)),g<=y.length?g:y.ended?y.length:(y.needReadable=!0,0))}M.prototype.read=function(g){c("read",g),g=parseInt(g,10);var y=this._readableState,T=g;if(g!==0&&(y.emittedReadable=!1),g===0&&y.needReadable&&((y.highWaterMark!==0?y.length>=y.highWaterMark:y.length>0)||y.ended))return c("read: emitReadable",y.length,y.ended),y.length===0&&y.ended?O(this):B(this),null;if(g=L(g,y),g===0&&y.ended)return y.length===0&&O(this),null;var $=y.needReadable;c("need readable",$),(y.length===0||y.length-g<y.highWaterMark)&&($=!0,c("length less than watermark",$)),y.ended||y.reading?($=!1,c("reading or ended",$)):$&&(c("do read"),y.reading=!0,y.sync=!0,y.length===0&&(y.needReadable=!0),this._read(y.highWaterMark),y.sync=!1,y.reading||(g=L(T,y)));var ge;return g>0?ge=E(g,y):ge=null,ge===null?(y.needReadable=y.length<=y.highWaterMark,g=0):(y.length-=g,y.awaitDrain=0),y.length===0&&(y.ended||(y.needReadable=!0),T!==g&&y.ended&&O(this)),ge!==null&&this.emit("data",ge),ge};function P(g,y){if(c("onEofChunk"),!y.ended){if(y.decoder){var T=y.decoder.end();T&&T.length&&(y.buffer.push(T),y.length+=y.objectMode?1:T.length)}y.ended=!0,y.sync?B(g):(y.needReadable=!1,y.emittedReadable||(y.emittedReadable=!0,j(g)))}}function B(g){var y=g._readableState;c("emitReadable",y.needReadable,y.emittedReadable),y.needReadable=!1,y.emittedReadable||(c("emitReadable",y.flowing),y.emittedReadable=!0,process.nextTick(j,g))}function j(g){var y=g._readableState;c("emitReadable_",y.destroyed,y.length,y.ended),!y.destroyed&&(y.length||y.ended)&&(g.emit("readable"),y.emittedReadable=!1),y.needReadable=!y.flowing&&!y.ended&&y.length<=y.highWaterMark,S(g)}function H(g,y){y.readingMore||(y.readingMore=!0,process.nextTick(Y,g,y))}function Y(g,y){for(;!y.reading&&!y.ended&&(y.length<y.highWaterMark||y.flowing&&y.length===0);){var T=y.length;if(c("maybeReadMore read 0"),g.read(0),T===y.length)break}y.readingMore=!1}M.prototype._read=function(g){C(this,new w("_read()"))},M.prototype.pipe=function(g,y){var T=this,$=this._readableState;switch($.pipesCount){case 0:$.pipes=g;break;case 1:$.pipes=[$.pipes,g];break;default:$.pipes.push(g);break}$.pipesCount+=1,c("pipe count=%d opts=%j",$.pipesCount,y);var ge=(!y||y.end!==!1)&&g!==process.stdout&&g!==process.stderr,K=ge?Lt:qt;$.endEmitted?process.nextTick(K):T.once("end",K),g.on("unpipe",fe);function fe(Pt,_t){c("onunpipe"),Pt===T&&_t&&_t.hasUnpiped===!1&&(_t.hasUnpiped=!0,Oi())}function Lt(){c("onend"),g.end()}var lr=G(T);g.on("drain",lr);var Nn=!1;function Oi(){c("cleanup"),g.removeListener("close",Br),g.removeListener("finish",Fr),g.removeListener("drain",lr),g.removeListener("error",jr),g.removeListener("unpipe",fe),T.removeListener("end",Lt),T.removeListener("end",qt),T.removeListener("data",Ln),Nn=!0,$.awaitDrain&&(!g._writableState||g._writableState.needDrain)&&lr()}T.on("data",Ln);function Ln(Pt){c("ondata");var _t=g.write(Pt);c("dest.write",_t),_t===!1&&(($.pipesCount===1&&$.pipes===g||$.pipesCount>1&&te($.pipes,g)!==-1)&&!Nn&&(c("false write response, pause",$.awaitDrain),$.awaitDrain++),T.pause())}function jr(Pt){c("onerror",Pt),qt(),g.removeListener("error",jr),e(g,"error")===0&&C(g,Pt)}D(g,"error",jr);function Br(){g.removeListener("finish",Fr),qt()}g.once("close",Br);function Fr(){c("onfinish"),g.removeListener("close",Br),qt()}g.once("finish",Fr);function qt(){c("unpipe"),T.unpipe(g)}return g.emit("pipe",T),$.flowing||(c("pipe resume"),T.resume()),g};function G(g){return function(){var T=g._readableState;c("pipeOnDrain",T.awaitDrain),T.awaitDrain&&T.awaitDrain--,T.awaitDrain===0&&e(g,"data")&&(T.flowing=!0,S(g))}}M.prototype.unpipe=function(g){var y=this._readableState,T={hasUnpiped:!1};if(y.pipesCount===0)return this;if(y.pipesCount===1)return g&&g!==y.pipes?this:(g||(g=y.pipes),y.pipes=null,y.pipesCount=0,y.flowing=!1,g&&g.emit("unpipe",this,T),this);if(!g){var $=y.pipes,ge=y.pipesCount;y.pipes=null,y.pipesCount=0,y.flowing=!1;for(var K=0;K<ge;K++)$[K].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=te(y.pipes,g);return fe===-1?this:(y.pipes.splice(fe,1),y.pipesCount-=1,y.pipesCount===1&&(y.pipes=y.pipes[0]),g.emit("unpipe",this,T),this)},M.prototype.on=function(g,y){var T=r.prototype.on.call(this,g,y),$=this._readableState;return g==="data"?($.readableListening=this.listenerCount("readable")>0,$.flowing!==!1&&this.resume()):g==="readable"&&!$.endEmitted&&!$.readableListening&&($.readableListening=$.needReadable=!0,$.flowing=!1,$.emittedReadable=!1,c("on readable",$.length,$.reading),$.length?B(this):$.reading||process.nextTick(he,this)),T},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(g,y){var T=r.prototype.removeListener.call(this,g,y);return g==="readable"&&process.nextTick(se,this),T},M.prototype.removeAllListeners=function(g){var y=r.prototype.removeAllListeners.apply(this,arguments);return(g==="readable"||g===void 0)&&process.nextTick(se,this),y};function se(g){var y=g._readableState;y.readableListening=g.listenerCount("readable")>0,y.resumeScheduled&&!y.paused?y.flowing=!0:g.listenerCount("data")>0&&g.resume()}function he(g){c("readable nexttick read 0"),g.read(0)}M.prototype.resume=function(){var g=this._readableState;return g.flowing||(c("resume"),g.flowing=!g.readableListening,le(this,g)),g.paused=!1,this};function le(g,y){y.resumeScheduled||(y.resumeScheduled=!0,process.nextTick(He,g,y))}function He(g,y){c("resume",y.reading),y.reading||g.read(0),y.resumeScheduled=!1,g.emit("resume"),S(g),y.flowing&&!y.reading&&g.read(0)}M.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function S(g){var y=g._readableState;for(c("flow",y.flowing);y.flowing&&g.read()!==null;);}M.prototype.wrap=function(g){var y=this,T=this._readableState,$=!1;g.on("end",function(){if(c("wrapped end"),T.decoder&&!T.ended){var fe=T.decoder.end();fe&&fe.length&&y.push(fe)}y.push(null)}),g.on("data",function(fe){if(c("wrapped data"),T.decoder&&(fe=T.decoder.write(fe)),!(T.objectMode&&fe==null)&&!(!T.objectMode&&(!fe||!fe.length))){var Lt=y.push(fe);Lt||($=!0,g.pause())}});for(var ge in g)this[ge]===void 0&&typeof g[ge]=="function"&&(this[ge]=function(Lt){return function(){return g[Lt].apply(g,arguments)}}(ge));for(var K=0;K<I.length;K++)g.on(I[K],this.emit.bind(this,I[K]));return this._read=function(fe){c("wrapped _read",fe),$&&($=!1,g.resume())},this},typeof Symbol=="function"&&(M.prototype[Symbol.asyncIterator]=function(){return m===void 0&&(m=Kv()),m(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(y){this._readableState&&(this._readableState.flowing=y)}}),M._fromList=E,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function E(g,y){if(y.length===0)return null;var T;return y.objectMode?T=y.buffer.shift():!g||g>=y.length?(y.decoder?T=y.buffer.join(""):y.buffer.length===1?T=y.buffer.first():T=y.buffer.concat(y.length),y.buffer.clear()):T=y.buffer.consume(g,y.decoder),T}function O(g){var y=g._readableState;c("endReadable",y.endEmitted),y.endEmitted||(y.ended=!0,process.nextTick(z,y,g))}function z(g,y){if(c("endReadableNT",g.endEmitted,g.length),!g.endEmitted&&g.length===0&&(g.endEmitted=!0,y.readable=!1,y.emit("end"),g.autoDestroy)){var T=y._writableState;(!T||T.autoDestroy&&T.finished)&&y.destroy()}}typeof Symbol=="function"&&(M.from=function(g,y){return R===void 0&&(R=Xv()),R(M,g,y)});function te(g,y){for(var T=0,$=g.length;T<$;T++)if(g[T]===y)return T;return-1}return $a}var dd=Ht,Is=Nr.codes,em=Is.ERR_METHOD_NOT_IMPLEMENTED,tm=Is.ERR_MULTIPLE_CALLBACK,rm=Is.ERR_TRANSFORM_ALREADY_TRANSFORMING,nm=Is.ERR_TRANSFORM_WITH_LENGTH_0,As=un();yt(Ht,As);function im(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new tm);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ht(t){if(!(this instanceof Ht))return new Ht(t);As.call(this,t),this._transformState={afterTransform:im.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",sm)}function sm(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Fl(t,e,r)}):Fl(this,null,null)}Ht.prototype.push=function(t,e){return this._transformState.needTransform=!1,As.prototype.push.call(this,t,e)};Ht.prototype._transform=function(t,e,r){r(new em("_transform()"))};Ht.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ht.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ht.prototype._destroy=function(t,e){As.prototype._destroy.call(this,t,function(r){e(r)})};function Fl(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new nm;if(t._transformState.transforming)throw new rm;return t.push(null)}var om=Xn,pd=dd;yt(Xn,pd);function Xn(t){if(!(this instanceof Xn))return new Xn(t);pd.call(this,t)}Xn.prototype._transform=function(t,e,r){r(null,t)};var Da;function am(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var bd=Nr.codes,cm=bd.ERR_MISSING_ARGS,um=bd.ERR_STREAM_DESTROYED;function Wl(t){if(t)throw t}function lm(t){return t.setHeader&&typeof t.abort=="function"}function fm(t,e,r,n){n=am(n);var i=!1;t.on("close",function(){i=!0}),Da===void 0&&(Da=Kc),Da(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,lm(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new um("pipe"))}}}function Hl(t){t()}function hm(t,e){return t.pipe(e)}function dm(t){return!t.length||typeof t[t.length-1]!="function"?Wl:t.pop()}function pm(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=dm(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new cm("streams");var i,s=e.map(function(o,a){var c=a<e.length-1,u=a>0;return fm(o,c,u,function(l){i||(i=l),l&&s.forEach(Hl),!c&&(s.forEach(Hl),n(i))})});return e.reduce(hm)}var bm=pm;(function(t,e){e=t.exports=hd(),e.Stream=e,e.Readable=e,e.Writable=ld(),e.Duplex=un(),e.Transform=dd,e.PassThrough=om,e.finished=Kc,e.pipeline=bm})(vc,vc.exports);var gd=vc.exports;const{Transform:gm}=gd;var ym=t=>class yd extends gm{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new yd(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:vm}=gd;var mm=t=>class vd extends vm{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new vd(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const _m=ym,wm=mm;var Sm=function(t){const e=_m(t),r=wm(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},md={};const Vl=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];md.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],u=t[7]^t[17]^t[27]^t[37]^t[47],l=t[8]^t[18]^t[28]^t[38]^t[48],f=t[9]^t[19]^t[29]^t[39]^t[49];let h=l^(i<<1|s>>>31),p=f^(s<<1|i>>>31);const b=t[0]^h,_=t[1]^p,w=t[10]^h,d=t[11]^p,v=t[20]^h,m=t[21]^p,R=t[30]^h,C=t[31]^p,I=t[40]^h,D=t[41]^p;h=r^(o<<1|a>>>31),p=n^(a<<1|o>>>31);const N=t[2]^h,M=t[3]^p,U=t[12]^h,ce=t[13]^p,Q=t[22]^h,A=t[23]^p,k=t[32]^h,L=t[33]^p,P=t[42]^h,B=t[43]^p;h=i^(c<<1|u>>>31),p=s^(u<<1|c>>>31);const j=t[4]^h,H=t[5]^p,Y=t[14]^h,G=t[15]^p,se=t[24]^h,he=t[25]^p,le=t[34]^h,He=t[35]^p,S=t[44]^h,E=t[45]^p;h=o^(l<<1|f>>>31),p=a^(f<<1|l>>>31);const O=t[6]^h,z=t[7]^p,te=t[16]^h,g=t[17]^p,y=t[26]^h,T=t[27]^p,$=t[36]^h,ge=t[37]^p,K=t[46]^h,fe=t[47]^p;h=c^(r<<1|n>>>31),p=u^(n<<1|r>>>31);const Lt=t[8]^h,lr=t[9]^p,Nn=t[18]^h,Oi=t[19]^p,Ln=t[28]^h,jr=t[29]^p,Br=t[38]^h,Fr=t[39]^p,qt=t[48]^h,Pt=t[49]^p,_t=b,Co=_,Ro=d<<4|w>>>28,xo=w<<4|d>>>28,Io=v<<3|m>>>29,Ao=m<<3|v>>>29,Mo=C<<9|R>>>23,ko=R<<9|C>>>23,To=I<<18|D>>>14,Oo=D<<18|I>>>14,No=N<<1|M>>>31,Lo=M<<1|N>>>31,Po=ce<<12|U>>>20,$o=U<<12|ce>>>20,Do=Q<<10|A>>>22,jo=A<<10|Q>>>22,Bo=L<<13|k>>>19,Fo=k<<13|L>>>19,Wo=P<<2|B>>>30,Ho=B<<2|P>>>30,Vo=H<<30|j>>>2,Uo=j<<30|H>>>2,zo=Y<<6|G>>>26,qo=G<<6|Y>>>26,Go=he<<11|se>>>21,Jo=se<<11|he>>>21,Qo=le<<15|He>>>17,Zo=He<<15|le>>>17,Yo=E<<29|S>>>3,Ko=S<<29|E>>>3,Xo=O<<28|z>>>4,ea=z<<28|O>>>4,ta=g<<23|te>>>9,ra=te<<23|g>>>9,na=y<<25|T>>>7,ia=T<<25|y>>>7,sa=$<<21|ge>>>11,oa=ge<<21|$>>>11,aa=fe<<24|K>>>8,ca=K<<24|fe>>>8,ua=Lt<<27|lr>>>5,la=lr<<27|Lt>>>5,fa=Nn<<20|Oi>>>12,ha=Oi<<20|Nn>>>12,da=jr<<7|Ln>>>25,pa=Ln<<7|jr>>>25,ba=Br<<8|Fr>>>24,ga=Fr<<8|Br>>>24,ya=qt<<14|Pt>>>18,va=Pt<<14|qt>>>18;t[0]=_t^~Po&Go,t[1]=Co^~$o&Jo,t[10]=Xo^~fa&Io,t[11]=ea^~ha&Ao,t[20]=No^~zo&na,t[21]=Lo^~qo&ia,t[30]=ua^~Ro&Do,t[31]=la^~xo&jo,t[40]=Vo^~ta&da,t[41]=Uo^~ra&pa,t[2]=Po^~Go&sa,t[3]=$o^~Jo&oa,t[12]=fa^~Io&Bo,t[13]=ha^~Ao&Fo,t[22]=zo^~na&ba,t[23]=qo^~ia&ga,t[32]=Ro^~Do&Qo,t[33]=xo^~jo&Zo,t[42]=ta^~da&Mo,t[43]=ra^~pa&ko,t[4]=Go^~sa&ya,t[5]=Jo^~oa&va,t[14]=Io^~Bo&Yo,t[15]=Ao^~Fo&Ko,t[24]=na^~ba&To,t[25]=ia^~ga&Oo,t[34]=Do^~Qo&aa,t[35]=jo^~Zo&ca,t[44]=da^~Mo&Wo,t[45]=pa^~ko&Ho,t[6]=sa^~ya&_t,t[7]=oa^~va&Co,t[16]=Bo^~Yo&Xo,t[17]=Fo^~Ko&ea,t[26]=ba^~To&No,t[27]=ga^~Oo&Lo,t[36]=Qo^~aa&ua,t[37]=Zo^~ca&la,t[46]=Mo^~Wo&Vo,t[47]=ko^~Ho&Uo,t[8]=ya^~_t&Po,t[9]=va^~Co&$o,t[18]=Yo^~Xo&fa,t[19]=Ko^~ea&ha,t[28]=To^~No&zo,t[29]=Oo^~Lo&qo,t[38]=aa^~ua&Ro,t[39]=ca^~la&xo,t[48]=Wo^~Vo&ta,t[49]=Ho^~Uo&ra,t[0]^=Vl[e*2],t[1]^=Vl[e*2+1]}};const ss=md;function Rn(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Rn.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};Rn.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(ss.p1600(this.state),this.count=0)};Rn.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&ss.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),ss.p1600(this.state),this.count=0,this.squeezing=!0};Rn.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(ss.p1600(this.state),this.count=0);return e};Rn.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var Em=Rn,Cm=Sm(Em);const Rm=Cm,xm=vs;function _d(t){return Buffer.allocUnsafe(t).fill(0)}function wd(t,e,r){const n=_d(e);return t=Ms(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function Im(t,e){return wd(t,e,!0)}function Ms(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")Sd(t)?t=Buffer.from(km(Ed(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(xm.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function Am(t){return t=Ms(t),"0x"+t.toString("hex")}function Mm(t,e){return t=Ms(t),e||(e=256),Rm("keccak"+e).update(t).digest()}function km(t){return t.length%2?"0"+t:t}function Sd(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function Ed(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Cd={zeros:_d,setLength:wd,setLengthRight:Im,isHexString:Sd,stripHexPrefix:Ed,toBuffer:Ms,bufferToHex:Am,keccak:Mm};const Rr=Cd,_r=vs;function Rd(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Xr(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Ul(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function xd(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function br(t){var e=typeof t;if(e==="string")return Rr.isHexString(t)?new _r(Rr.stripHexPrefix(t),16):new _r(t,10);if(e==="number")return new _r(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function Rt(t,e){var r,n,i,s;if(t==="address")return Rt("uint160",br(e));if(t==="bool")return Rt("uint8",e?1:0);if(t==="string")return Rt("bytes",new Buffer(e,"utf8"));if(Om(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=xd(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(Rt(t,e[s]));if(r==="dynamic"){var o=Rt("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([Rt("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Rr.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=Xr(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Rr.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=Xr(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=br(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=Xr(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=br(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=Ul(t),n=br(e),n<0)throw new Error("Supplied ufixed is negative");return Rt("uint256",n.mul(new _r(2).pow(new _r(r[1]))))}else if(t.startsWith("fixed"))return r=Ul(t),Rt("int256",br(e).mul(new _r(2).pow(new _r(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function Tm(t){return t==="string"||t==="bytes"||xd(t)==="dynamic"}function Om(t){return t.lastIndexOf("]")===t.length-1}function Nm(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=Rd(t[s]),a=e[s],c=Rt(o,a);Tm(o)?(r.push(Rt("uint256",i)),n.push(c),i+=c.length):r.push(c)}return Buffer.concat(r.concat(n))}function Id(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=Rd(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Rr.setLength(a,20));else if(o.startsWith("bytes")){if(r=Xr(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(Rr.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=Xr(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=br(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=Xr(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=br(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function Lm(t,e){return Rr.keccak(Id(t,e))}var Pm={rawEncode:Nm,solidityPack:Id,soliditySHA3:Lm};const dt=Cd,qn=Pm,Ad={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},ja={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,c,u)=>{if(r[c]!==void 0)return["bytes32",u==null?"0x0000000000000000000000000000000000000000000000000000000000000000":dt.keccak(this.encodeData(c,u,r,n))];if(u===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",dt.keccak(u)];if(c==="string")return typeof u=="string"&&(u=Buffer.from(u,"utf8")),["bytes32",dt.keccak(u)];if(c.lastIndexOf("]")===c.length-1){const l=c.slice(0,c.lastIndexOf("[")),f=u.map(h=>o(a,l,h));return["bytes32",dt.keccak(qn.rawEncode(f.map(([h])=>h),f.map(([,h])=>h)))]}return[c,u]};for(const a of r[t]){const[c,u]=o(a.name,a.type,e[a.name]);i.push(c),s.push(u)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=dt.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=dt.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=dt.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return qn.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return dt.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return dt.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in Ad.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),dt.keccak(Buffer.concat(n))}};var $m={TYPED_MESSAGE_SCHEMA:Ad,TypedDataUtils:ja,hashForSignTypedDataLegacy:function(t){return Dm(t.data)},hashForSignTypedData_v3:function(t){return ja.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return ja.hash(t.data)}};function Dm(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?dt.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return qn.soliditySHA3(["bytes32","bytes32"],[qn.soliditySHA3(new Array(t.length).fill("string"),i),qn.soliditySHA3(n,r)])}var ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.filterFromParam=ln.FilterPolyfill=void 0;const Jr=hi,Ve=W,jm=5*60*1e3,gr={jsonrpc:"2.0",id:0};class Bm{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,Jr.IntNumber)(1),this.provider=e}async newFilter(e){const r=Md(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,Ve.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,Ve.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,Ve.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,Ve.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,Ve.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve($i())}async getFilterLogs(e){const r=(0,Ve.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},gr),{method:"eth_getLogs",params:[zl(n)]})):$i()}makeFilterId(){return(0,Jr.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return $i();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return Di();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},gr),{method:"eth_getLogs",params:[zl(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(u=>(0,Ve.intNumberFromHexString)(u.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const u=(0,Jr.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${u}`),this.cursors.set(e,u)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return $i();const n=await this.getCurrentBlockHeight();if(r>n)return Di();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,Ve.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,Jr.IntNumber)(o))))).filter(o=>!!o),s=(0,Jr.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},gr),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(Di())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},jm);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},gr),{method:"eth_blockNumber",params:[]}));return(0,Ve.intNumberFromHexString)((0,Ve.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},gr),{method:"eth_getBlockByNumber",params:[(0,Ve.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,Ve.ensureHexString)(r.result.hash):null}}ln.FilterPolyfill=Bm;function Md(t){return{fromBlock:ql(t.fromBlock),toBlock:ql(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}ln.filterFromParam=Md;function zl(t){const e={fromBlock:Gl(t.fromBlock),toBlock:Gl(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function ql(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,Jr.IntNumber)(0);if((0,Ve.isHexString)(t))return(0,Ve.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function Gl(t){return t==="latest"?t:(0,Ve.hexStringFromIntNumber)(t)}function $i(){return Object.assign(Object.assign({},gr),{error:{code:-32e3,message:"filter not found"}})}function Di(){return Object.assign(Object.assign({},gr),{result:[]})}var kd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(kd);var ks={},Td={},Ts={},Xc=Fm;function Fm(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const Jl=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let u=1;u<arguments.length;u++)c[u-1]=arguments[u];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,n)})};var Wm=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):Jl(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?Jl(s,e):s}return n},bi={},Hm=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bi,"__esModule",{value:!0});bi.BaseBlockTracker=void 0;const Vm=Hm(kr),Um=1e3,zm=(t,e)=>t+e,Ql=["sync","latest"];class qm extends Vm.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*Um,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){Ql.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return Ql.map(e=>this.listenerCount(e)).reduce(zm)}_newPotentialLatest(e){const r=this._currentBlock;r&&Zl(e)<=Zl(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}bi.BaseBlockTracker=qm;function Zl(t){return Number.parseInt(t,16)}var Od={},Nd={},$e={};class Ld extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function Gm(t){return ct(t)&&typeof t[Symbol.iterator]=="function"}function ct(t){return typeof t=="object"&&t!=null}function Yl(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function Ie(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function Jm(t){const{done:e,value:r}=t.next();return e?void 0:r}function Qm(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Ie(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*_c(t,e,r,n){Gm(t)||(t=[t]);for(const i of t){const s=Qm(i,e,r,n);s&&(yield s)}}function*eu(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&ct(e.schema)&&ct(t)&&!Array.isArray(t)))for(const u in t)e.schema[u]===void 0&&delete t[u];let c="valid";for(const u of e.validator(t,a))u.explanation=r.message,c="not_valid",yield[u,void 0];for(let[u,l,f]of e.entries(t,a)){const h=eu(l,f,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o,message:r.message});for(const p of h)p[0]?(c=p[0].refinement!=null?"not_refined":"not_valid",yield[p[0],void 0]):s&&(l=p[1],u===void 0?t=l:t instanceof Map?t.set(u,l):t instanceof Set?t.add(l):ct(t)&&(l!==void 0||u in t)&&(t[u]=l))}if(c!=="not_valid")for(const u of e.refiner(t,a))u.explanation=r.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,t])}class Ce{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return _c(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return _c(l,u,this,c)}:this.refiner=()=>[]}assert(e,r){return Pd(e,this,r)}create(e,r){return $d(e,this,r)}is(e){return tu(e,this)}mask(e,r){return Dd(e,this,r)}validate(e,r={}){return xn(e,this,r)}}function Pd(t,e,r){const n=xn(t,e,{message:r});if(n[0])throw n[0]}function $d(t,e,r){const n=xn(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Dd(t,e,r){const n=xn(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function tu(t,e){return!xn(t,e)[0]}function xn(t,e,r={}){const n=eu(t,e,r),i=Jm(n);return i[0]?[new Ld(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Zm(...t){const e=t[0].type==="type",r=t.map(i=>i.schema),n=Object.assign({},...r);return e?nu(n):gi(n)}function Qe(t,e){return new Ce({type:t,schema:null,validator:e})}function Ym(t,e){return new Ce({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function Km(t){return new Ce({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)},refiner(e,r){return t(e,r).refiner(e,r)}})}function Xm(t){let e;return new Ce({type:"lazy",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator(r,n){return e??(e=t()),e.validator(r,n)},coercer(r,n){return e??(e=t()),e.coercer(r,n)},refiner(r,n){return e??(e=t()),e.refiner(r,n)}})}function e1(t,e){const{schema:r}=t,n={...r};for(const i of e)delete n[i];switch(t.type){case"type":return nu(n);default:return gi(n)}}function t1(t){const e=t instanceof Ce?{...t.schema}:{...t};for(const r in e)e[r]=jd(e[r]);return gi(e)}function r1(t,e){const{schema:r}=t,n={};for(const i of e)n[i]=r[i];return gi(n)}function n1(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Qe(t,e)}function i1(){return Qe("any",()=>!0)}function s1(t){return new Ce({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Ie(e)}`}})}function o1(){return Qe("bigint",t=>typeof t=="bigint")}function a1(){return Qe("boolean",t=>typeof t=="boolean")}function c1(){return Qe("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${Ie(t)}`)}function u1(t){const e={},r=t.map(n=>Ie(n)).join();for(const n of t)e[n]=n;return new Ce({type:"enums",schema:e,validator(n){return t.includes(n)||`Expected one of \`${r}\`, but received: ${Ie(n)}`}})}function l1(){return Qe("func",t=>typeof t=="function"||`Expected a function, but received: ${Ie(t)}`)}function f1(t){return Qe("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Ie(e)}`)}function h1(){return Qe("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${Ie(t)}`)}function d1(t){return new Ce({type:"intersection",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function p1(t){const e=Ie(t),r=typeof t;return new Ce({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${Ie(n)}`}})}function b1(t,e){return new Ce({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${Ie(r)}`}})}function ru(){return Qe("never",()=>!1)}function g1(t){return new Ce({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function y1(){return Qe("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Ie(t)}`)}function gi(t){const e=t?Object.keys(t):[],r=ru();return new Ce({type:"object",schema:t||null,*entries(n){if(t&&ct(n)){const i=new Set(Object.keys(n));for(const s of e)i.delete(s),yield[s,n[s],t[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return ct(n)||`Expected an object, but received: ${Ie(n)}`},coercer(n){return ct(n)?{...n}:n}})}function jd(t){return new Ce({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function v1(t,e){return new Ce({type:"record",schema:null,*entries(r){if(ct(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return ct(r)||`Expected an object, but received: ${Ie(r)}`}})}function m1(){return Qe("regexp",t=>t instanceof RegExp)}function _1(t){return new Ce({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${Ie(e)}`}})}function Bd(){return Qe("string",t=>typeof t=="string"||`Expected a string, but received: ${Ie(t)}`)}function w1(t){const e=ru();return new Ce({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Ie(r)}`}})}function nu(t){const e=Object.keys(t);return new Ce({type:"type",schema:t,*entries(r){if(ct(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return ct(r)||`Expected an object, but received: ${Ie(r)}`},coercer(r){return ct(r)?{...r}:r}})}function S1(t){const e=t.map(r=>r.type).join(" | ");return new Ce({type:"union",schema:null,coercer(r){for(const n of t){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of t){const[...o]=eu(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Ie(r)}`,...i]}})}function Fd(){return Qe("unknown",()=>!0)}function iu(t,e,r){return new Ce({...t,coercer:(n,i)=>tu(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function E1(t,e,r={}){return iu(t,Fd(),n=>{const i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&Yl(n)&&Yl(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function C1(t){return iu(t,Bd(),e=>e.trim())}function R1(t){return Lr(t,"empty",e=>{const r=Wd(e);return r===0||`Expected an empty ${t.type} but received one with a size of \`${r}\``})}function Wd(t){return t instanceof Map||t instanceof Set?t.size:t.length}function x1(t,e,r={}){const{exclusive:n}=r;return Lr(t,"max",i=>n?i<e:i<=e||`Expected a ${t.type} less than ${n?"":"or equal to "}${e} but received \`${i}\``)}function I1(t,e,r={}){const{exclusive:n}=r;return Lr(t,"min",i=>n?i>e:i>=e||`Expected a ${t.type} greater than ${n?"":"or equal to "}${e} but received \`${i}\``)}function A1(t){return Lr(t,"nonempty",e=>Wd(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function M1(t,e){return Lr(t,"pattern",r=>e.test(r)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${r}"`)}function k1(t,e,r=e){const n=`Expected a ${t.type}`,i=e===r?`of \`${e}\``:`between \`${e}\` and \`${r}\``;return Lr(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function Lr(t,e,r){return new Ce({...t,*refiner(n,i){yield*t.refiner(n,i);const s=r(n,i),o=_c(s,i,t,n);for(const a of o)yield{...a,refinement:e}}})}const T1=Object.freeze(Object.defineProperty({__proto__:null,Struct:Ce,StructError:Ld,any:i1,array:s1,assert:Pd,assign:Zm,bigint:o1,boolean:a1,coerce:iu,create:$d,date:c1,defaulted:E1,define:Qe,deprecated:Ym,dynamic:Km,empty:R1,enums:u1,func:l1,instance:f1,integer:h1,intersection:d1,is:tu,lazy:Xm,literal:p1,map:b1,mask:Dd,max:x1,min:I1,never:ru,nonempty:A1,nullable:g1,number:y1,object:gi,omit:e1,optional:jd,partial:t1,pattern:M1,pick:r1,record:v1,refine:Lr,regexp:m1,set:_1,size:k1,string:Bd,struct:n1,trimmed:C1,tuple:w1,type:nu,union:S1,unknown:Fd,validate:xn},Symbol.toStringTag,{value:"Module"})),Pr=Mr(T1);Object.defineProperty($e,"__esModule",{value:!0});$e.assertExhaustive=$e.assertStruct=$e.assert=$e.AssertionError=void 0;const O1=Pr;function N1(t){return typeof t=="object"&&t!==null&&"message"in t}function L1(t){var e,r;return typeof((r=(e=t==null?void 0:t.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string"}function P1(t){const e=N1(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function Hd(t,e){return L1(t)?new t({message:e}):t({message:e})}class su extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}$e.AssertionError=su;function $1(t,e="Assertion failed.",r=su){if(!t)throw e instanceof Error?e:Hd(r,e)}$e.assert=$1;function D1(t,e,r="Assertion failed",n=su){try{(0,O1.assert)(t,e)}catch(i){throw Hd(n,`${r}: ${P1(i)}.`)}}$e.assertStruct=D1;function j1(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}$e.assertExhaustive=j1;var yi={};Object.defineProperty(yi,"__esModule",{value:!0});yi.base64=void 0;const B1=Pr,F1=$e,W1=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,F1.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,B1.pattern)(t,a)};yi.base64=W1;var oe={},vi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=Pr,r=$e;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(u){return(0,e.is)(u,t.HexStruct)}t.isHexString=n;function i(u){return(0,e.is)(u,t.StrictHexStruct)}t.isStrictHexString=i;function s(u){(0,r.assert)(n(u),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(u){(0,r.assert)(i(u),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(u){return u.startsWith("0x")?u:u.startsWith("0X")?`0x${u.substring(2)}`:`0x${u}`}t.add0x=a;function c(u){return u.startsWith("0x")||u.startsWith("0X")?u.substring(2):u}t.remove0x=c})(vi);Object.defineProperty(oe,"__esModule",{value:!0});oe.createDataView=oe.concatBytes=oe.valueToBytes=oe.stringToBytes=oe.numberToBytes=oe.signedBigIntToBytes=oe.bigIntToBytes=oe.hexToBytes=oe.bytesToString=oe.bytesToNumber=oe.bytesToSignedBigInt=oe.bytesToBigInt=oe.bytesToHex=oe.assertIsBytes=oe.isBytes=void 0;const Ye=$e,wc=vi,Kl=48,Xl=58,ef=87;function H1(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const V1=H1();function ou(t){return t instanceof Uint8Array}oe.isBytes=ou;function In(t){(0,Ye.assert)(ou(t),"Value must be a Uint8Array.")}oe.assertIsBytes=In;function Vd(t){if(In(t),t.length===0)return"0x";const e=V1(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,wc.add0x)(r.join(""))}oe.bytesToHex=Vd;function Ud(t){In(t);const e=Vd(t);return BigInt(e)}oe.bytesToBigInt=Ud;function U1(t){In(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}oe.bytesToSignedBigInt=U1;function z1(t){In(t);const e=Ud(t);return(0,Ye.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}oe.bytesToNumber=z1;function q1(t){return In(t),new TextDecoder().decode(t)}oe.bytesToString=q1;function Os(t){var e;if(((e=t==null?void 0:t.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,wc.assertIsHexString)(t);const r=(0,wc.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),c=o-(o<Xl?Kl:ef),u=a-(a<Xl?Kl:ef);i[s]=c*16+u}return i}oe.hexToBytes=Os;function zd(t){(0,Ye.assert)(typeof t=="bigint","Value must be a bigint."),(0,Ye.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return Os(e)}oe.bigIntToBytes=zd;function G1(t,e){(0,Ye.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function J1(t,e){(0,Ye.assert)(typeof t=="bigint","Value must be a bigint."),(0,Ye.assert)(typeof e=="number","Byte length must be a number."),(0,Ye.assert)(e>0,"Byte length must be greater than 0."),(0,Ye.assert)(G1(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}oe.signedBigIntToBytes=J1;function qd(t){(0,Ye.assert)(typeof t=="number","Value must be a number."),(0,Ye.assert)(t>=0,"Value must be a non-negative number."),(0,Ye.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return Os(e)}oe.numberToBytes=qd;function Gd(t){return(0,Ye.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}oe.stringToBytes=Gd;function Jd(t){if(typeof t=="bigint")return zd(t);if(typeof t=="number")return qd(t);if(typeof t=="string")return t.startsWith("0x")?Os(t):Gd(t);if(ou(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}oe.valueToBytes=Jd;function Q1(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=Jd(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}oe.concatBytes=Q1;function Z1(t){if(typeof Buffer<"u"&&t instanceof Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}oe.createDataView=Z1;var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.ChecksumStruct=void 0;const tf=Pr,Y1=yi;Ns.ChecksumStruct=(0,tf.size)((0,Y1.base64)((0,tf.string)(),{paddingRequired:!0}),44,44);var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.createHex=Mt.createBytes=Mt.createBigInt=Mt.createNumber=void 0;const me=Pr,K1=$e,Qd=oe,Ls=vi,Zd=(0,me.union)([(0,me.number)(),(0,me.bigint)(),(0,me.string)(),Ls.StrictHexStruct]),X1=(0,me.coerce)((0,me.number)(),Zd,Number),e_=(0,me.coerce)((0,me.bigint)(),Zd,BigInt);(0,me.union)([Ls.StrictHexStruct,(0,me.instance)(Uint8Array)]);const t_=(0,me.coerce)((0,me.instance)(Uint8Array),(0,me.union)([Ls.StrictHexStruct]),Qd.hexToBytes),r_=(0,me.coerce)(Ls.StrictHexStruct,(0,me.instance)(Uint8Array),Qd.bytesToHex);function n_(t){try{const e=(0,me.create)(t,X1);return(0,K1.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof me.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}Mt.createNumber=n_;function i_(t){try{return(0,me.create)(t,e_)}catch(e){throw e instanceof me.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}Mt.createBigInt=i_;function s_(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,me.create)(t,t_)}catch(e){throw e instanceof me.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}Mt.createBytes=s_;function o_(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,me.create)(t,r_)}catch(e){throw e instanceof me.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}Mt.createHex=o_;var fn={},Yd=F&&F.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Ue=F&&F.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ft,St;Object.defineProperty(fn,"__esModule",{value:!0});fn.FrozenSet=fn.FrozenMap=void 0;class au{constructor(e){ft.set(this,void 0),Yd(this,ft,new Map(e),"f"),Object.freeze(this)}get size(){return Ue(this,ft,"f").size}[(ft=new WeakMap,Symbol.iterator)](){return Ue(this,ft,"f")[Symbol.iterator]()}entries(){return Ue(this,ft,"f").entries()}forEach(e,r){return Ue(this,ft,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return Ue(this,ft,"f").get(e)}has(e){return Ue(this,ft,"f").has(e)}keys(){return Ue(this,ft,"f").keys()}values(){return Ue(this,ft,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}fn.FrozenMap=au;class cu{constructor(e){St.set(this,void 0),Yd(this,St,new Set(e),"f"),Object.freeze(this)}get size(){return Ue(this,St,"f").size}[(St=new WeakMap,Symbol.iterator)](){return Ue(this,St,"f")[Symbol.iterator]()}entries(){return Ue(this,St,"f").entries()}forEach(e,r){return Ue(this,St,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return Ue(this,St,"f").has(e)}keys(){return Ue(this,St,"f").keys()}values(){return Ue(this,St,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}fn.FrozenSet=cu;Object.freeze(au);Object.freeze(au.prototype);Object.freeze(cu);Object.freeze(cu.prototype);var Kd={},uu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(u){return Array.isArray(u)&&u.length>0}t.isNonEmptyArray=e;function r(u){return u==null}t.isNullOrUndefined=r;function n(u){return!!u&&typeof u=="object"&&!Array.isArray(u)}t.isObject=n;const i=(u,l)=>Object.hasOwnProperty.call(u,l);t.hasProperty=i,function(u){u[u.Null=4]="Null",u[u.Comma=1]="Comma",u[u.Wrapper=1]="Wrapper",u[u.True=4]="True",u[u.False=5]="False",u[u.Quote=1]="Quote",u[u.Colon=1]="Colon",u[u.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(u){if(typeof u!="object"||u===null)return!1;try{let l=u;for(;Object.getPrototypeOf(l)!==null;)l=Object.getPrototypeOf(l);return Object.getPrototypeOf(u)===l}catch{return!1}}t.isPlainObject=s;function o(u){return u.charCodeAt(0)<=127}t.isASCII=o;function a(u){var l;return u.split("").reduce((h,p)=>o(p)?h+1:h+2,0)+((l=u.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&l!==void 0?l:[]).length}t.calculateStringSize=a;function c(u){return u.toString().length}t.calculateNumberSize=c})(uu);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=Pr,r=$e,n=uu;t.JsonStruct=(0,e.define)("Json",C=>{const[I]=R(C,!0);return I?!0:"Expected a valid JSON-serializable value"});function i(C){return(0,e.is)(C,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(C){return(0,e.is)(C,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(C,I){(0,r.assertStruct)(C,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",I)}t.assertIsJsonRpcNotification=o;function a(C){return(0,e.is)(C,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function c(C,I){(0,r.assertStruct)(C,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",I)}t.assertIsJsonRpcRequest=c,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function u(C){return(0,e.is)(C,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=u;function l(C,I){(0,r.assertStruct)(C,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",I)}t.assertIsPendingJsonRpcResponse=l;function f(C){return(0,e.is)(C,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=f;function h(C,I){(0,r.assertStruct)(C,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",I)}t.assertIsJsonRpcResponse=h;function p(C){return(0,e.is)(C,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=p;function b(C,I){(0,r.assertStruct)(C,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",I)}t.assertIsJsonRpcSuccess=b;function _(C){return(0,e.is)(C,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=_;function w(C,I){(0,r.assertStruct)(C,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",I)}t.assertIsJsonRpcFailure=w;function d(C){return(0,e.is)(C,t.JsonRpcErrorStruct)}t.isJsonRpcError=d;function v(C,I){(0,r.assertStruct)(C,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",I)}t.assertIsJsonRpcError=v;function m(C){const{permitEmptyString:I,permitFractions:D,permitNull:N}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},C);return U=>!!(typeof U=="number"&&(D||Number.isInteger(U))||typeof U=="string"&&(I||U.length>0)||N&&U===null)}t.getJsonRpcIdValidator=m;function R(C,I=!1){const D=new Set;function N(M,U){if(M===void 0)return[!1,0];if(M===null)return[!0,U?0:n.JsonSize.Null];const ce=typeof M;try{if(ce==="function")return[!1,0];if(ce==="string"||M instanceof String)return[!0,U?0:(0,n.calculateStringSize)(M)+n.JsonSize.Quote*2];if(ce==="boolean"||M instanceof Boolean)return U?[!0,0]:[!0,M==!0?n.JsonSize.True:n.JsonSize.False];if(ce==="number"||M instanceof Number)return U?[!0,0]:[!0,(0,n.calculateNumberSize)(M)];if(M instanceof Date)return U?[!0,0]:[!0,isNaN(M.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(M)&&!Array.isArray(M))return[!1,0];if(D.has(M))return[!1,0];D.add(M);try{return[!0,Object.entries(M).reduce((Q,[A,k],L,P)=>{let[B,j]=N(k,U);if(!B)throw new Error("JSON validation did not pass. Validation process stopped.");if(D.delete(M),U)return 0;const H=Array.isArray(M)?0:A.length+n.JsonSize.Comma+n.JsonSize.Colon*2,Y=L<P.length-1?n.JsonSize.Comma:0;return Q+H+j+Y},U?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return N(C,I)}t.validateJsonAndGetSize=R})(Kd);var hn={},Sc={exports:{}},Ba,rf;function a_(){if(rf)return Ba;rf=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;Ba=function(l,f){f=f||{};var h=typeof l;if(h==="string"&&l.length>0)return o(l);if(h==="number"&&isFinite(l))return f.long?c(l):a(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function o(l){if(l=String(l),!(l.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(f){var h=parseFloat(f[1]),p=(f[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*n;case"hours":case"hour":case"hrs":case"hr":case"h":return h*r;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function a(l){var f=Math.abs(l);return f>=n?Math.round(l/n)+"d":f>=r?Math.round(l/r)+"h":f>=e?Math.round(l/e)+"m":f>=t?Math.round(l/t)+"s":l+"ms"}function c(l){var f=Math.abs(l);return f>=n?u(l,f,n,"day"):f>=r?u(l,f,r,"hour"):f>=e?u(l,f,e,"minute"):f>=t?u(l,f,t,"second"):l+" ms"}function u(l,f,h,p){var b=f>=h*1.5;return Math.round(l/h)+" "+p+(b?"s":"")}return Ba}function c_(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=a_(),r.destroy=u,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let f=0;for(let h=0;h<l.length;h++)f=(f<<5)-f+l.charCodeAt(h),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(l){let f,h=null,p,b;function _(...w){if(!_.enabled)return;const d=_,v=Number(new Date),m=v-(f||v);d.diff=m,d.prev=f,d.curr=v,f=v,w[0]=r.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let R=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(I,D)=>{if(I==="%%")return"%";R++;const N=r.formatters[D];if(typeof N=="function"){const M=w[R];I=N.call(d,M),w.splice(R,1),R--}return I}),r.formatArgs.call(d,w),(d.log||r.log).apply(d,w)}return _.namespace=l,_.useColors=r.useColors(),_.color=r.selectColor(l),_.extend=n,_.destroy=r.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(p!==r.namespaces&&(p=r.namespaces,b=r.enabled(l)),b),set:w=>{h=w}}),typeof r.init=="function"&&r.init(_),_}function n(l,f){const h=r(this.namespace+(typeof f>"u"?":":f)+l);return h.log=this.log,h}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let f;const h=(typeof l=="string"?l:"").split(/[\s,]+/),p=h.length;for(f=0;f<p;f++)h[f]&&(l=h[f].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.slice(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function s(){const l=[...r.names.map(a),...r.skips.map(a).map(f=>"-"+f)].join(",");return r.enable(""),l}function o(l){if(l[l.length-1]==="*")return!0;let f,h;for(f=0,h=r.skips.length;f<h;f++)if(r.skips[f].test(l))return!1;for(f=0,h=r.names.length;f<h;f++)if(r.names[f].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var u_=c_;(function(t,e){e.formatArgs=n,e.save=i,e.load=s,e.useColors=r,e.storage=o(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let l=0,f=0;c[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(l++,h==="%c"&&(f=l))}),c.splice(f,0,u)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}function o(){try{return localStorage}catch{}}t.exports=u_(e);const{formatters:a}=t.exports;a.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(Sc,Sc.exports);var l_=Sc.exports,f_=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hn,"__esModule",{value:!0});hn.createModuleLogger=hn.createProjectLogger=void 0;const h_=f_(l_),d_=(0,h_.default)("metamask");function p_(t){return d_.extend(t)}hn.createProjectLogger=p_;function b_(t,e){return t.extend(e)}hn.createModuleLogger=b_;var kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.hexToBigInt=kt.hexToNumber=kt.bigIntToHex=kt.numberToHex=void 0;const en=$e,ei=vi,g_=t=>((0,en.assert)(typeof t=="number","Value must be a number."),(0,en.assert)(t>=0,"Value must be a non-negative number."),(0,en.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,ei.add0x)(t.toString(16)));kt.numberToHex=g_;const y_=t=>((0,en.assert)(typeof t=="bigint","Value must be a bigint."),(0,en.assert)(t>=0,"Value must be a non-negative bigint."),(0,ei.add0x)(t.toString(16)));kt.bigIntToHex=y_;const v_=t=>{(0,ei.assertIsHexString)(t);const e=parseInt(t,16);return(0,en.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};kt.hexToNumber=v_;const m_=t=>((0,ei.assertIsHexString)(t),BigInt((0,ei.add0x)(t)));kt.hexToBigInt=m_;var Xd={};Object.defineProperty(Xd,"__esModule",{value:!0});var ep={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(ep);var tp={},Ec={exports:{}};const __="2.0.0",rp=256,w_=Number.MAX_SAFE_INTEGER||9007199254740991,S_=16,E_=rp-6,C_=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Ps={MAX_LENGTH:rp,MAX_SAFE_COMPONENT_LENGTH:S_,MAX_SAFE_BUILD_LENGTH:E_,MAX_SAFE_INTEGER:w_,RELEASE_TYPES:C_,SEMVER_SPEC_VERSION:__,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const R_=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var $s=R_;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=Ps,s=$s;e=t.exports={};const o=e.re=[],a=e.safeRe=[],c=e.src=[],u=e.t={};let l=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[f,n]],p=_=>{for(const[w,d]of h)_=_.split(`${w}*`).join(`${w}{0,${d}}`).split(`${w}+`).join(`${w}{1,${d}}`);return _},b=(_,w,d)=>{const v=p(w),m=l++;s(_,m,w),u[_]=m,c[m]=w,o[m]=new RegExp(w,d?"g":void 0),a[m]=new RegExp(v,d?"g":void 0)};b("NUMERICIDENTIFIER","0|[1-9]\\d*"),b("NUMERICIDENTIFIERLOOSE","\\d+"),b("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),b("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),b("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),b("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),b("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),b("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),b("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),b("BUILDIDENTIFIER",`${f}+`),b("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),b("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),b("FULL",`^${c[u.FULLPLAIN]}$`),b("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),b("LOOSE",`^${c[u.LOOSEPLAIN]}$`),b("GTLT","((?:<|>)?=?)"),b("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),b("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),b("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),b("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),b("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),b("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),b("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),b("COERCERTL",c[u.COERCE],!0),b("LONETILDE","(?:~>?)"),b("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",b("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),b("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),b("LONECARET","(?:\\^)"),b("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",b("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),b("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),b("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),b("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),b("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",b("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),b("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),b("STAR","(<|>)?=?\\s*\\*"),b("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),b("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Ec,Ec.exports);var mi=Ec.exports;const x_=Object.freeze({loose:!0}),I_=Object.freeze({}),A_=t=>t?typeof t!="object"?x_:t:I_;var lu=A_;const nf=/^[0-9]+$/,np=(t,e)=>{const r=nf.test(t),n=nf.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},M_=(t,e)=>np(e,t);var ip={compareIdentifiers:np,rcompareIdentifiers:M_};const ji=$s,{MAX_LENGTH:sf,MAX_SAFE_INTEGER:Bi}=Ps,{safeRe:of,t:af}=mi,k_=lu,{compareIdentifiers:Hr}=ip;let T_=class Ct{constructor(e,r){if(r=k_(r),e instanceof Ct){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>sf)throw new TypeError(`version is longer than ${sf} characters`);ji("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?of[af.LOOSE]:of[af.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Bi||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Bi||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Bi||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<Bi)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ji("SemVer.compare",this.version,this.options,e),!(e instanceof Ct)){if(typeof e=="string"&&e===this.version)return 0;e=new Ct(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Ct||(e=new Ct(e,this.options)),Hr(this.major,e.major)||Hr(this.minor,e.minor)||Hr(this.patch,e.patch)}comparePre(e){if(e instanceof Ct||(e=new Ct(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(ji("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Hr(n,i)}while(++r)}compareBuild(e){e instanceof Ct||(e=new Ct(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(ji("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Hr(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Hr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Ge=T_;const cf=Ge,O_=(t,e,r=!1)=>{if(t instanceof cf)return t;try{return new cf(t,e)}catch(n){if(!r)return null;throw n}};var An=O_;const N_=An,L_=(t,e)=>{const r=N_(t,e);return r?r.version:null};var P_=L_;const $_=An,D_=(t,e)=>{const r=$_(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var j_=D_;const uf=Ge,B_=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new uf(t instanceof uf?t.version:t,r).inc(e,n,i).version}catch{return null}};var F_=B_;const lf=An,W_=(t,e)=>{const r=lf(t,null,!0),n=lf(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const l=c?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":"prerelease"};var H_=W_;const V_=Ge,U_=(t,e)=>new V_(t,e).major;var z_=U_;const q_=Ge,G_=(t,e)=>new q_(t,e).minor;var J_=G_;const Q_=Ge,Z_=(t,e)=>new Q_(t,e).patch;var Y_=Z_;const K_=An,X_=(t,e)=>{const r=K_(t,e);return r&&r.prerelease.length?r.prerelease:null};var ew=X_;const ff=Ge,tw=(t,e,r)=>new ff(t,r).compare(new ff(e,r));var vt=tw;const rw=vt,nw=(t,e,r)=>rw(e,t,r);var iw=nw;const sw=vt,ow=(t,e)=>sw(t,e,!0);var aw=ow;const hf=Ge,cw=(t,e,r)=>{const n=new hf(t,r),i=new hf(e,r);return n.compare(i)||n.compareBuild(i)};var fu=cw;const uw=fu,lw=(t,e)=>t.sort((r,n)=>uw(r,n,e));var fw=lw;const hw=fu,dw=(t,e)=>t.sort((r,n)=>hw(n,r,e));var pw=dw;const bw=vt,gw=(t,e,r)=>bw(t,e,r)>0;var Ds=gw;const yw=vt,vw=(t,e,r)=>yw(t,e,r)<0;var hu=vw;const mw=vt,_w=(t,e,r)=>mw(t,e,r)===0;var sp=_w;const ww=vt,Sw=(t,e,r)=>ww(t,e,r)!==0;var op=Sw;const Ew=vt,Cw=(t,e,r)=>Ew(t,e,r)>=0;var du=Cw;const Rw=vt,xw=(t,e,r)=>Rw(t,e,r)<=0;var pu=xw;const Iw=sp,Aw=op,Mw=Ds,kw=du,Tw=hu,Ow=pu,Nw=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Iw(t,r,n);case"!=":return Aw(t,r,n);case">":return Mw(t,r,n);case">=":return kw(t,r,n);case"<":return Tw(t,r,n);case"<=":return Ow(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var ap=Nw;const Lw=Ge,Pw=An,{safeRe:Fi,t:Wi}=mi,$w=(t,e)=>{if(t instanceof Lw)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Fi[Wi.COERCE]);else{let n;for(;(n=Fi[Wi.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Fi[Wi.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Fi[Wi.COERCERTL].lastIndex=-1}return r===null?null:Pw(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var Dw=$w,Fa,df;function jw(){return df||(df=1,Fa=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),Fa}var Bw=ae;ae.Node=xr;ae.create=ae;function ae(t){var e=this;if(e instanceof ae||(e=new ae),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}ae.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};ae.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};ae.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};ae.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Ww(this,arguments[t]);return this.length};ae.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Hw(this,arguments[t]);return this.length};ae.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};ae.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};ae.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};ae.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};ae.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};ae.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};ae.prototype.map=function(t,e){e=e||this;for(var r=new ae,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};ae.prototype.mapReverse=function(t,e){e=e||this;for(var r=new ae,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};ae.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};ae.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};ae.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};ae.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};ae.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new ae;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};ae.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new ae;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};ae.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=Fw(this,i,r[n]);return s};ae.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function Fw(t,e,r){var n=e===t.head?new xr(r,null,e,t):new xr(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function Ww(t,e){t.tail=new xr(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function Hw(t,e){t.head=new xr(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function xr(t,e,r,n){if(!(this instanceof xr))return new xr(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{jw()(ae)}catch{}const Vw=Bw,yr=Symbol("max"),Bt=Symbol("length"),Vr=Symbol("lengthCalculator"),Gn=Symbol("allowStale"),wr=Symbol("maxAge"),$t=Symbol("dispose"),pf=Symbol("noDisposeOnSet"),ke=Symbol("lruList"),pt=Symbol("cache"),cp=Symbol("updateAgeOnGet"),Wa=()=>1;class Uw{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[yr]=e.max||1/0;const r=e.length||Wa;if(this[Vr]=typeof r!="function"?Wa:r,this[Gn]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[wr]=e.maxAge||0,this[$t]=e.dispose,this[pf]=e.noDisposeOnSet||!1,this[cp]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[yr]=e||1/0,Dn(this)}get max(){return this[yr]}set allowStale(e){this[Gn]=!!e}get allowStale(){return this[Gn]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[wr]=e,Dn(this)}get maxAge(){return this[wr]}set lengthCalculator(e){typeof e!="function"&&(e=Wa),e!==this[Vr]&&(this[Vr]=e,this[Bt]=0,this[ke].forEach(r=>{r.length=this[Vr](r.value,r.key),this[Bt]+=r.length})),Dn(this)}get lengthCalculator(){return this[Vr]}get length(){return this[Bt]}get itemCount(){return this[ke].length}rforEach(e,r){r=r||this;for(let n=this[ke].tail;n!==null;){const i=n.prev;bf(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[ke].head;n!==null;){const i=n.next;bf(this,e,n,r),n=i}}keys(){return this[ke].toArray().map(e=>e.key)}values(){return this[ke].toArray().map(e=>e.value)}reset(){this[$t]&&this[ke]&&this[ke].length&&this[ke].forEach(e=>this[$t](e.key,e.value)),this[pt]=new Map,this[ke]=new Vw,this[Bt]=0}dump(){return this[ke].map(e=>os(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ke]}set(e,r,n){if(n=n||this[wr],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[Vr](r,e);if(this[pt].has(e)){if(s>this[yr])return tn(this,this[pt].get(e)),!1;const c=this[pt].get(e).value;return this[$t]&&(this[pf]||this[$t](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[Bt]+=s-c.length,c.length=s,this.get(e),Dn(this),!0}const o=new zw(e,r,s,i,n);return o.length>this[yr]?(this[$t]&&this[$t](e,r),!1):(this[Bt]+=o.length,this[ke].unshift(o),this[pt].set(e,this[ke].head),Dn(this),!0)}has(e){if(!this[pt].has(e))return!1;const r=this[pt].get(e).value;return!os(this,r)}get(e){return Ha(this,e,!0)}peek(e){return Ha(this,e,!1)}pop(){const e=this[ke].tail;return e?(tn(this,e),e.value):null}del(e){tn(this,this[pt].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[pt].forEach((e,r)=>Ha(this,r,!1))}}const Ha=(t,e,r)=>{const n=t[pt].get(e);if(n){const i=n.value;if(os(t,i)){if(tn(t,n),!t[Gn])return}else r&&(t[cp]&&(n.value.now=Date.now()),t[ke].unshiftNode(n));return i.value}},os=(t,e)=>{if(!e||!e.maxAge&&!t[wr])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[wr]&&r>t[wr]},Dn=t=>{if(t[Bt]>t[yr])for(let e=t[ke].tail;t[Bt]>t[yr]&&e!==null;){const r=e.prev;tn(t,e),e=r}},tn=(t,e)=>{if(e){const r=e.value;t[$t]&&t[$t](r.key,r.value),t[Bt]-=r.length,t[pt].delete(r.key),t[ke].removeNode(e)}};class zw{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const bf=(t,e,r,n)=>{let i=r.value;os(t,i)&&(tn(t,r),t[Gn]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var qw=Uw,Va,gf;function mt(){if(gf)return Va;gf=1;class t{constructor(k,L){if(L=n(L),k instanceof t)return k.loose===!!L.loose&&k.includePrerelease===!!L.includePrerelease?k:new t(k.raw,L);if(k instanceof i)return this.raw=k.value,this.set=[[k]],this.format(),this;if(this.options=L,this.loose=!!L.loose,this.includePrerelease=!!L.includePrerelease,this.raw=k.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(P=>this.parseRange(P.trim())).filter(P=>P.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const P=this.set[0];if(this.set=this.set.filter(B=>!b(B[0])),this.set.length===0)this.set=[P];else if(this.set.length>1){for(const B of this.set)if(B.length===1&&_(B[0])){this.set=[B];break}}}this.format()}format(){return this.range=this.set.map(k=>k.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(k){const P=((this.options.includePrerelease&&h)|(this.options.loose&&p))+":"+k,B=r.get(P);if(B)return B;const j=this.options.loose,H=j?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];k=k.replace(H,ce(this.options.includePrerelease)),s("hyphen replace",k),k=k.replace(a[c.COMPARATORTRIM],u),s("comparator trim",k),k=k.replace(a[c.TILDETRIM],l),s("tilde trim",k),k=k.replace(a[c.CARETTRIM],f),s("caret trim",k);let Y=k.split(" ").map(le=>d(le,this.options)).join(" ").split(/\s+/).map(le=>U(le,this.options));j&&(Y=Y.filter(le=>(s("loose invalid filter",le,this.options),!!le.match(a[c.COMPARATORLOOSE])))),s("range list",Y);const G=new Map,se=Y.map(le=>new i(le,this.options));for(const le of se){if(b(le))return[le];G.set(le.value,le)}G.size>1&&G.has("")&&G.delete("");const he=[...G.values()];return r.set(P,he),he}intersects(k,L){if(!(k instanceof t))throw new TypeError("a Range is required");return this.set.some(P=>w(P,L)&&k.set.some(B=>w(B,L)&&P.every(j=>B.every(H=>j.intersects(H,L)))))}test(k){if(!k)return!1;if(typeof k=="string")try{k=new o(k,this.options)}catch{return!1}for(let L=0;L<this.set.length;L++)if(Q(this.set[L],k,this.options))return!0;return!1}}Va=t;const e=qw,r=new e({max:1e3}),n=lu,i=js(),s=$s,o=Ge,{safeRe:a,t:c,comparatorTrimReplace:u,tildeTrimReplace:l,caretTrimReplace:f}=mi,{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:p}=Ps,b=A=>A.value==="<0.0.0-0",_=A=>A.value==="",w=(A,k)=>{let L=!0;const P=A.slice();let B=P.pop();for(;L&&P.length;)L=P.every(j=>B.intersects(j,k)),B=P.pop();return L},d=(A,k)=>(s("comp",A,k),A=C(A,k),s("caret",A),A=m(A,k),s("tildes",A),A=D(A,k),s("xrange",A),A=M(A,k),s("stars",A),A),v=A=>!A||A.toLowerCase()==="x"||A==="*",m=(A,k)=>A.trim().split(/\s+/).map(L=>R(L,k)).join(" "),R=(A,k)=>{const L=k.loose?a[c.TILDELOOSE]:a[c.TILDE];return A.replace(L,(P,B,j,H,Y)=>{s("tilde",A,P,B,j,H,Y);let G;return v(B)?G="":v(j)?G=`>=${B}.0.0 <${+B+1}.0.0-0`:v(H)?G=`>=${B}.${j}.0 <${B}.${+j+1}.0-0`:Y?(s("replaceTilde pr",Y),G=`>=${B}.${j}.${H}-${Y} <${B}.${+j+1}.0-0`):G=`>=${B}.${j}.${H} <${B}.${+j+1}.0-0`,s("tilde return",G),G})},C=(A,k)=>A.trim().split(/\s+/).map(L=>I(L,k)).join(" "),I=(A,k)=>{s("caret",A,k);const L=k.loose?a[c.CARETLOOSE]:a[c.CARET],P=k.includePrerelease?"-0":"";return A.replace(L,(B,j,H,Y,G)=>{s("caret",A,B,j,H,Y,G);let se;return v(j)?se="":v(H)?se=`>=${j}.0.0${P} <${+j+1}.0.0-0`:v(Y)?j==="0"?se=`>=${j}.${H}.0${P} <${j}.${+H+1}.0-0`:se=`>=${j}.${H}.0${P} <${+j+1}.0.0-0`:G?(s("replaceCaret pr",G),j==="0"?H==="0"?se=`>=${j}.${H}.${Y}-${G} <${j}.${H}.${+Y+1}-0`:se=`>=${j}.${H}.${Y}-${G} <${j}.${+H+1}.0-0`:se=`>=${j}.${H}.${Y}-${G} <${+j+1}.0.0-0`):(s("no pr"),j==="0"?H==="0"?se=`>=${j}.${H}.${Y}${P} <${j}.${H}.${+Y+1}-0`:se=`>=${j}.${H}.${Y}${P} <${j}.${+H+1}.0-0`:se=`>=${j}.${H}.${Y} <${+j+1}.0.0-0`),s("caret return",se),se})},D=(A,k)=>(s("replaceXRanges",A,k),A.split(/\s+/).map(L=>N(L,k)).join(" ")),N=(A,k)=>{A=A.trim();const L=k.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return A.replace(L,(P,B,j,H,Y,G)=>{s("xRange",A,P,B,j,H,Y,G);const se=v(j),he=se||v(H),le=he||v(Y),He=le;return B==="="&&He&&(B=""),G=k.includePrerelease?"-0":"",se?B===">"||B==="<"?P="<0.0.0-0":P="*":B&&He?(he&&(H=0),Y=0,B===">"?(B=">=",he?(j=+j+1,H=0,Y=0):(H=+H+1,Y=0)):B==="<="&&(B="<",he?j=+j+1:H=+H+1),B==="<"&&(G="-0"),P=`${B+j}.${H}.${Y}${G}`):he?P=`>=${j}.0.0${G} <${+j+1}.0.0-0`:le&&(P=`>=${j}.${H}.0${G} <${j}.${+H+1}.0-0`),s("xRange return",P),P})},M=(A,k)=>(s("replaceStars",A,k),A.trim().replace(a[c.STAR],"")),U=(A,k)=>(s("replaceGTE0",A,k),A.trim().replace(a[k.includePrerelease?c.GTE0PRE:c.GTE0],"")),ce=A=>(k,L,P,B,j,H,Y,G,se,he,le,He,S)=>(v(P)?L="":v(B)?L=`>=${P}.0.0${A?"-0":""}`:v(j)?L=`>=${P}.${B}.0${A?"-0":""}`:H?L=`>=${L}`:L=`>=${L}${A?"-0":""}`,v(se)?G="":v(he)?G=`<${+se+1}.0.0-0`:v(le)?G=`<${se}.${+he+1}.0-0`:He?G=`<=${se}.${he}.${le}-${He}`:A?G=`<${se}.${he}.${+le+1}-0`:G=`<=${G}`,`${L} ${G}`.trim()),Q=(A,k,L)=>{for(let P=0;P<A.length;P++)if(!A[P].test(k))return!1;if(k.prerelease.length&&!L.includePrerelease){for(let P=0;P<A.length;P++)if(s(A[P].semver),A[P].semver!==i.ANY&&A[P].semver.prerelease.length>0){const B=A[P].semver;if(B.major===k.major&&B.minor===k.minor&&B.patch===k.patch)return!0}return!1}return!0};return Va}var Ua,yf;function js(){if(yf)return Ua;yf=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(l,f){if(f=r(f),l instanceof e){if(l.loose===!!f.loose)return l;l=l.value}l=l.trim().split(/\s+/).join(" "),o("comparator",l,f),this.options=f,this.loose=!!f.loose,this.parse(l),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(l){const f=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],h=l.match(f);if(!h)throw new TypeError(`Invalid comparator: ${l}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new a(h[2],this.options.loose):this.semver=t}toString(){return this.value}test(l){if(o("Comparator.test",l,this.options.loose),this.semver===t||l===t)return!0;if(typeof l=="string")try{l=new a(l,this.options)}catch{return!1}return s(l,this.operator,this.semver,this.options)}intersects(l,f){if(!(l instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(l.value,f).test(this.value):l.operator===""?l.value===""?!0:new c(this.value,f).test(l.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||l.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||l.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&l.operator.startsWith(">")||this.operator.startsWith("<")&&l.operator.startsWith("<")||this.semver.version===l.semver.version&&this.operator.includes("=")&&l.operator.includes("=")||s(this.semver,"<",l.semver,f)&&this.operator.startsWith(">")&&l.operator.startsWith("<")||s(this.semver,">",l.semver,f)&&this.operator.startsWith("<")&&l.operator.startsWith(">")))}}Ua=e;const r=lu,{safeRe:n,t:i}=mi,s=ap,o=$s,a=Ge,c=mt();return Ua}const Gw=mt(),Jw=(t,e,r)=>{try{e=new Gw(e,r)}catch{return!1}return e.test(t)};var Bs=Jw;const Qw=mt(),Zw=(t,e)=>new Qw(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var Yw=Zw;const Kw=Ge,Xw=mt(),eS=(t,e,r)=>{let n=null,i=null,s=null;try{s=new Xw(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new Kw(n,r))}),n};var tS=eS;const rS=Ge,nS=mt(),iS=(t,e,r)=>{let n=null,i=null,s=null;try{s=new nS(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new rS(n,r))}),n};var sS=iS;const za=Ge,oS=mt(),vf=Ds,aS=(t,e)=>{t=new oS(t,e);let r=new za("0.0.0");if(t.test(r)||(r=new za("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(o=>{const a=new za(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||vf(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||vf(r,s))&&(r=s)}return r&&t.test(r)?r:null};var cS=aS;const uS=mt(),lS=(t,e)=>{try{return new uS(t,e).range||"*"}catch{return null}};var fS=lS;const hS=Ge,up=js(),{ANY:dS}=up,pS=mt(),bS=Bs,mf=Ds,_f=hu,gS=pu,yS=du,vS=(t,e,r,n)=>{t=new hS(t,n),e=new pS(e,n);let i,s,o,a,c;switch(r){case">":i=mf,s=gS,o=_f,a=">",c=">=";break;case"<":i=_f,s=yS,o=mf,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(bS(t,e,n))return!1;for(let u=0;u<e.set.length;++u){const l=e.set[u];let f=null,h=null;if(l.forEach(p=>{p.semver===dS&&(p=new up(">=0.0.0")),f=f||p,h=h||p,i(p.semver,f.semver,n)?f=p:o(p.semver,h.semver,n)&&(h=p)}),f.operator===a||f.operator===c||(!h.operator||h.operator===a)&&s(t,h.semver))return!1;if(h.operator===c&&o(t,h.semver))return!1}return!0};var bu=vS;const mS=bu,_S=(t,e,r)=>mS(t,e,">",r);var wS=_S;const SS=bu,ES=(t,e,r)=>SS(t,e,"<",r);var CS=ES;const wf=mt(),RS=(t,e,r)=>(t=new wf(t,r),e=new wf(e,r),t.intersects(e,r));var xS=RS;const IS=Bs,AS=vt;var MS=(t,e,r)=>{const n=[];let i=null,s=null;const o=t.sort((l,f)=>AS(l,f,r));for(const l of o)IS(l,e,r)?(s=l,i||(i=l)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[l,f]of n)l===f?a.push(l):!f&&l===o[0]?a.push("*"):f?l===o[0]?a.push(`<=${f}`):a.push(`${l} - ${f}`):a.push(`>=${l}`);const c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e};const Sf=mt(),gu=js(),{ANY:qa}=gu,jn=Bs,yu=vt,kS=(t,e,r={})=>{if(t===e)return!0;t=new Sf(t,r),e=new Sf(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const o=OS(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},TS=[new gu(">=0.0.0-0")],Ef=[new gu(">=0.0.0")],OS=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===qa){if(e.length===1&&e[0].semver===qa)return!0;r.includePrerelease?t=TS:t=Ef}if(e.length===1&&e[0].semver===qa){if(r.includePrerelease)return!0;e=Ef}const n=new Set;let i,s;for(const p of t)p.operator===">"||p.operator===">="?i=Cf(i,p,r):p.operator==="<"||p.operator==="<="?s=Rf(s,p,r):n.add(p.semver);if(n.size>1)return null;let o;if(i&&s){if(o=yu(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const p of n){if(i&&!jn(p,String(i),r)||s&&!jn(p,String(s),r))return null;for(const b of e)if(!jn(p,String(b),r))return!1;return!0}let a,c,u,l,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const p of e){if(l=l||p.operator===">"||p.operator===">=",u=u||p.operator==="<"||p.operator==="<=",i){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(a=Cf(i,p,r),a===p&&a!==i)return!1}else if(i.operator===">="&&!jn(i.semver,String(p),r))return!1}if(s){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator==="<"||p.operator==="<="){if(c=Rf(s,p,r),c===p&&c!==s)return!1}else if(s.operator==="<="&&!jn(s.semver,String(p),r))return!1}if(!p.operator&&(s||i)&&o!==0)return!1}return!(i&&u&&!s&&o!==0||s&&l&&!i&&o!==0||h||f)},Cf=(t,e,r)=>{if(!t)return e;const n=yu(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Rf=(t,e,r)=>{if(!t)return e;const n=yu(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var NS=kS;const Ga=mi,xf=Ps,LS=Ge,If=ip,PS=An,$S=P_,DS=j_,jS=F_,BS=H_,FS=z_,WS=J_,HS=Y_,VS=ew,US=vt,zS=iw,qS=aw,GS=fu,JS=fw,QS=pw,ZS=Ds,YS=hu,KS=sp,XS=op,e2=du,t2=pu,r2=ap,n2=Dw,i2=js(),s2=mt(),o2=Bs,a2=Yw,c2=tS,u2=sS,l2=cS,f2=fS,h2=bu,d2=wS,p2=CS,b2=xS,g2=MS,y2=NS;var v2={parse:PS,valid:$S,clean:DS,inc:jS,diff:BS,major:FS,minor:WS,patch:HS,prerelease:VS,compare:US,rcompare:zS,compareLoose:qS,compareBuild:GS,sort:JS,rsort:QS,gt:ZS,lt:YS,eq:KS,neq:XS,gte:e2,lte:t2,cmp:r2,coerce:n2,Comparator:i2,Range:s2,satisfies:o2,toComparators:a2,maxSatisfying:c2,minSatisfying:u2,minVersion:l2,validRange:f2,outside:h2,gtr:d2,ltr:p2,intersects:b2,simplifyRange:g2,subset:y2,SemVer:LS,re:Ga.re,src:Ga.src,tokens:Ga.t,SEMVER_SPEC_VERSION:xf.SEMVER_SPEC_VERSION,RELEASE_TYPES:xf.RELEASE_TYPES,compareIdentifiers:If.compareIdentifiers,rcompareIdentifiers:If.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=v2,r=Pr,n=$e;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",f=>(0,e.valid)(f)===null?`Expected SemVer version, got "${f}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",f=>(0,e.validRange)(f)===null?`Expected SemVer range, got "${f}"`:!0);function i(f){return(0,r.is)(f,t.VersionStruct)}t.isValidSemVerVersion=i;function s(f){return(0,r.is)(f,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(f){(0,n.assertStruct)(f,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(f){(0,n.assertStruct)(f,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function c(f,h){return(0,e.gt)(f,h)}t.gtVersion=c;function u(f,h){return(0,e.gtr)(f,h)}t.gtRange=u;function l(f,h){return(0,e.satisfies)(f,h,{includePrerelease:!0})}t.satisfiesVersionRange=l})(tp);(function(t){var e=F&&F.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=F&&F.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r($e,t),r(yi,t),r(oe,t),r(Ns,t),r(Mt,t),r(fn,t),r(vi,t),r(Kd,t),r(hn,t),r(uu,t),r(kt,t),r(Xd,t),r(ep,t),r(tp,t)})(Nd);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=Nd;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(Od);var lp=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.PollingBlockTracker=void 0;const m2=lp(Xc),_2=lp(Wm),w2=bi,Af=Od,Mf=(0,Af.createModuleLogger)(Af.projectLogger,"polling-block-tracker"),S2=(0,m2.default)(),E2=1e3;class C2 extends w2.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*E2,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=kf(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=kf(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:S2(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),Mf("Making request",e);const r=await(0,_2.default)(n=>this._provider.sendAsync(e,n))();if(Mf("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}Ts.PollingBlockTracker=C2;function kf(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Fs={},R2=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.SubscribeBlockTracker=void 0;const x2=R2(Xc),I2=bi,A2=(0,x2.default)();class M2 extends I2.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:A2(),method:e,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}Fs.SubscribeBlockTracker=M2;var fp={};Object.defineProperty(fp,"__esModule",{value:!0});(function(t){var e=F&&F.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=F&&F.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ts,t),r(Fs,t),r(fp,t)})(Td);var vu={},Ws={},_i={};Object.defineProperty(_i,"__esModule",{value:!0});_i.getUniqueId=void 0;const hp=4294967295;let Ja=Math.floor(Math.random()*hp);function k2(){return Ja=(Ja+1)%hp,Ja}_i.getUniqueId=k2;Object.defineProperty(Ws,"__esModule",{value:!0});Ws.createIdRemapMiddleware=void 0;const T2=_i;function O2(){return(t,e,r,n)=>{const i=t.id,s=T2.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}Ws.createIdRemapMiddleware=O2;var Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.createAsyncMiddleware=void 0;function N2(t){return async(e,r,n,i)=>{let s;const o=new Promise(l=>{s=l});let a=null,c=!1;const u=async()=>{c=!0,n(l=>{a=l,s()}),await o};try{await t(e,r,u),c?(await o,a(null)):i(null)}catch(l){a?a(l):i(l)}}}Hs.createAsyncMiddleware=N2;var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.createScaffoldMiddleware=void 0;function L2(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}Vs.createScaffoldMiddleware=L2;var wi={},dp={},nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.EthereumProviderError=nr.EthereumRpcError=void 0;const P2=Sh;class pp extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return P2.default(this.serialize(),j2,2)}}nr.EthereumRpcError=pp;class $2 extends pp{constructor(e,r,n){if(!D2(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}nr.EthereumProviderError=$2;function D2(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function j2(t,e){if(e!=="[Circular]")return e}var mu={},ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.errorValues=ir.errorCodes=void 0;ir.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};ir.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=ir,r=nr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(h,p=i){if(Number.isInteger(h)){const b=h.toString();if(f(e.errorValues,b))return e.errorValues[b].message;if(u(h))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return p}t.getMessageFromCode=o;function a(h){if(!Number.isInteger(h))return!1;const p=h.toString();return!!(e.errorValues[p]||u(h))}t.isValidCode=a;function c(h,{fallbackError:p=s,shouldIncludeStack:b=!1}={}){var _,w;if(!p||!Number.isInteger(p.code)||typeof p.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(h instanceof r.EthereumRpcError)return h.serialize();const d={};if(h&&typeof h=="object"&&!Array.isArray(h)&&f(h,"code")&&a(h.code)){const m=h;d.code=m.code,m.message&&typeof m.message=="string"?(d.message=m.message,f(m,"data")&&(d.data=m.data)):(d.message=o(d.code),d.data={originalError:l(h)})}else{d.code=p.code;const m=(_=h)===null||_===void 0?void 0:_.message;d.message=m&&typeof m=="string"?m:p.message,d.data={originalError:l(h)}}const v=(w=h)===null||w===void 0?void 0:w.stack;return b&&h&&v&&typeof v=="string"&&(d.stack=v),d}t.serializeError=c;function u(h){return h>=-32099&&h<=-32e3}function l(h){return h&&typeof h=="object"&&!Array.isArray(h)?Object.assign({},h):h}function f(h,p){return Object.prototype.hasOwnProperty.call(h,p)}})(mu);var Us={};Object.defineProperty(Us,"__esModule",{value:!0});Us.ethErrors=void 0;const _u=nr,bp=mu,je=ir;Us.ethErrors={rpc:{parse:t=>tt(je.errorCodes.rpc.parse,t),invalidRequest:t=>tt(je.errorCodes.rpc.invalidRequest,t),invalidParams:t=>tt(je.errorCodes.rpc.invalidParams,t),methodNotFound:t=>tt(je.errorCodes.rpc.methodNotFound,t),internal:t=>tt(je.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return tt(e,t)},invalidInput:t=>tt(je.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>tt(je.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>tt(je.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>tt(je.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>tt(je.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>tt(je.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Bn(je.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Bn(je.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Bn(je.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Bn(je.errorCodes.provider.disconnected,t),chainDisconnected:t=>Bn(je.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new _u.EthereumProviderError(e,r,n)}}};function tt(t,e){const[r,n]=gp(e);return new _u.EthereumRpcError(t,r||bp.getMessageFromCode(t),n)}function Bn(t,e){const[r,n]=gp(e);return new _u.EthereumProviderError(t,r||bp.getMessageFromCode(t),n)}function gp(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=nr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=mu;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Us;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=ir;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(dp);var B2=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wi,"__esModule",{value:!0});wi.JsonRpcEngine=void 0;const F2=B2(kr),rt=dp;class Dt extends F2.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await Dt._runAllMiddleware(e,r,this._middleware);return o?(await Dt._runReturnHandlers(a),i(s)):n(async c=>{try{await Dt._runReturnHandlers(a)}catch(u){return c(u)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new rt.EthereumRpcError(rt.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new rt.EthereumRpcError(rt.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=rt.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await Dt._runAllMiddleware(e,r,this._middleware);if(Dt._checkForCompletion(e,r,i),await Dt._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await Dt._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const u=c||r.error;u&&(r.error=rt.serializeError(u)),s([u,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new rt.EthereumRpcError(rt.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${Qa(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new rt.EthereumRpcError(rt.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Qa(e)}`,{request:e});if(!n)throw new rt.EthereumRpcError(rt.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Qa(e)}`,{request:e})}}wi.JsonRpcEngine=Dt;function Qa(t){return JSON.stringify(t,null,2)}var zs={};Object.defineProperty(zs,"__esModule",{value:!0});zs.mergeMiddleware=void 0;const W2=wi;function H2(t){const e=new W2.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}zs.mergeMiddleware=H2;(function(t){var e=F&&F.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=F&&F.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ws,t),r(Hs,t),r(Vs,t),r(_i,t),r(wi,t),r(zs,t)})(vu);var yp={},wu={},Cc=function(t,e){return Cc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Cc(t,e)};function vp(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Cc(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var as=function(){return as=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},as.apply(this,arguments)};function mp(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function _p(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function wp(t,e){return function(r,n){e(r,n,t)}}function V2(t,e,r,n,i,s){function o(d){if(d!==void 0&&typeof d!="function")throw new TypeError("Function expected");return d}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,l=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,p=r.length-1;p>=0;p--){var b={};for(var _ in n)b[_]=_==="access"?{}:n[_];for(var _ in n.access)b.access[_]=n.access[_];b.addInitializer=function(d){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(d||null))};var w=(0,r[p])(a==="accessor"?{get:l.get,set:l.set}:l[c],b);if(a==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(f=o(w.get))&&(l.get=f),(f=o(w.set))&&(l.set=f),(f=o(w.init))&&i.unshift(f)}else(f=o(w))&&(a==="field"?i.unshift(f):l[c]=f)}u&&Object.defineProperty(u,n.name,l),h=!0}function U2(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function z2(t){return typeof t=="symbol"?t:"".concat(t)}function q2(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Sp(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ep(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function Cp(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var qs=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function Rp(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&qs(e,t,r)}function cs(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Su(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function xp(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Su(arguments[e]));return t}function Ip(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Ap(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function dn(t){return this instanceof dn?(this.v=t,this):new dn(t)}function Mp(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(p){return new Promise(function(b,_){s.push([h,p,b,_])>1||a(h,p)})})}function a(h,p){try{c(n[h](p))}catch(b){f(s[0][3],b)}}function c(h){h.value instanceof dn?Promise.resolve(h.value.v).then(u,l):f(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function f(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function kp(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:dn(t[i](o)),done:!1}:s?s(o):o}:s}}function Tp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof cs=="function"?cs(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function Op(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var G2=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function Np(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qs(e,t,r);return G2(e,t),e}function Lp(t){return t&&t.__esModule?t:{default:t}}function Pp(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function $p(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function Dp(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function jp(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var J2=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function Bp(t){function e(n){t.error=t.hasError?new J2(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}function r(){for(;t.stack.length;){var n=t.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(r,function(s){return e(s),r()})}catch(s){e(s)}}if(t.hasError)throw t.error}return r()}const Q2={__extends:vp,__assign:as,__rest:mp,__decorate:_p,__param:wp,__metadata:Sp,__awaiter:Ep,__generator:Cp,__createBinding:qs,__exportStar:Rp,__values:cs,__read:Su,__spread:xp,__spreadArrays:Ip,__spreadArray:Ap,__await:dn,__asyncGenerator:Mp,__asyncDelegator:kp,__asyncValues:Tp,__makeTemplateObject:Op,__importStar:Np,__importDefault:Lp,__classPrivateFieldGet:Pp,__classPrivateFieldSet:$p,__classPrivateFieldIn:Dp,__addDisposableResource:jp,__disposeResources:Bp},Z2=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:jp,get __assign(){return as},__asyncDelegator:kp,__asyncGenerator:Mp,__asyncValues:Tp,__await:dn,__awaiter:Ep,__classPrivateFieldGet:Pp,__classPrivateFieldIn:Dp,__classPrivateFieldSet:$p,__createBinding:qs,__decorate:_p,__disposeResources:Bp,__esDecorate:V2,__exportStar:Rp,__extends:vp,__generator:Cp,__importDefault:Lp,__importStar:Np,__makeTemplateObject:Op,__metadata:Sp,__param:wp,__propKey:z2,__read:Su,__rest:mp,__runInitializers:U2,__setFunctionName:q2,__spread:xp,__spreadArray:Ap,__spreadArrays:Ip,__values:cs,default:Q2},Symbol.toStringTag,{value:"Module"})),Eu=Mr(Z2);var Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});var Tf=Eu,Y2=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return Tf.__awaiter(this,void 0,void 0,function(){var r,n,i;return Tf.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();Gs.default=Y2;Object.defineProperty(wu,"__esModule",{value:!0});var Of=Eu,K2=Gs,X2=function(){function t(){this._semaphore=new K2.default(1)}return t.prototype.acquire=function(){return Of.__awaiter(this,void 0,void 0,function(){var e,r;return Of.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();wu.default=X2;var Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.withTimeout=void 0;var Hi=Eu;function eE(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Hi.__awaiter(n,void 0,void 0,function(){var o,a,c;return Hi.__generator(this,function(u){switch(u.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=u.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return Hi.__awaiter(this,void 0,void 0,function(){var s,o;return Hi.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Js.withTimeout=eE;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=wu;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=Gs;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Js;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(yp);var tE=nE,rE=Object.prototype.hasOwnProperty;function nE(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)rE.call(r,n)&&(t[n]=r[n])}return t}const iE=tE,sE=Xc();var oE=J;function J(t){const e=this;e.currentProvider=t}J.prototype.getBalance=Si(2,"eth_getBalance");J.prototype.getCode=Si(2,"eth_getCode");J.prototype.getTransactionCount=Si(2,"eth_getTransactionCount");J.prototype.getStorageAt=Si(3,"eth_getStorageAt");J.prototype.call=Si(2,"eth_call");J.prototype.protocolVersion=re("eth_protocolVersion");J.prototype.syncing=re("eth_syncing");J.prototype.coinbase=re("eth_coinbase");J.prototype.mining=re("eth_mining");J.prototype.hashrate=re("eth_hashrate");J.prototype.gasPrice=re("eth_gasPrice");J.prototype.accounts=re("eth_accounts");J.prototype.blockNumber=re("eth_blockNumber");J.prototype.getBlockTransactionCountByHash=re("eth_getBlockTransactionCountByHash");J.prototype.getBlockTransactionCountByNumber=re("eth_getBlockTransactionCountByNumber");J.prototype.getUncleCountByBlockHash=re("eth_getUncleCountByBlockHash");J.prototype.getUncleCountByBlockNumber=re("eth_getUncleCountByBlockNumber");J.prototype.sign=re("eth_sign");J.prototype.sendTransaction=re("eth_sendTransaction");J.prototype.sendRawTransaction=re("eth_sendRawTransaction");J.prototype.estimateGas=re("eth_estimateGas");J.prototype.getBlockByHash=re("eth_getBlockByHash");J.prototype.getBlockByNumber=re("eth_getBlockByNumber");J.prototype.getTransactionByHash=re("eth_getTransactionByHash");J.prototype.getTransactionByBlockHashAndIndex=re("eth_getTransactionByBlockHashAndIndex");J.prototype.getTransactionByBlockNumberAndIndex=re("eth_getTransactionByBlockNumberAndIndex");J.prototype.getTransactionReceipt=re("eth_getTransactionReceipt");J.prototype.getUncleByBlockHashAndIndex=re("eth_getUncleByBlockHashAndIndex");J.prototype.getUncleByBlockNumberAndIndex=re("eth_getUncleByBlockNumberAndIndex");J.prototype.getCompilers=re("eth_getCompilers");J.prototype.compileLLL=re("eth_compileLLL");J.prototype.compileSolidity=re("eth_compileSolidity");J.prototype.compileSerpent=re("eth_compileSerpent");J.prototype.newFilter=re("eth_newFilter");J.prototype.newBlockFilter=re("eth_newBlockFilter");J.prototype.newPendingTransactionFilter=re("eth_newPendingTransactionFilter");J.prototype.uninstallFilter=re("eth_uninstallFilter");J.prototype.getFilterChanges=re("eth_getFilterChanges");J.prototype.getFilterLogs=re("eth_getFilterLogs");J.prototype.getLogs=re("eth_getLogs");J.prototype.getWork=re("eth_getWork");J.prototype.submitWork=re("eth_submitWork");J.prototype.submitHashrate=re("eth_submitHashrate");J.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(aE(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function re(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function Si(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function aE(t){return iE({id:sE(),jsonrpc:"2.0",params:[]},t)}const Nf=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...u)=>{e.errorFirst?u[0]?a(u):(u.shift(),o(u)):o(u)}):e.errorFirst?i.push((u,l)=>{u?a(u):o(l)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},Lf=new WeakMap;var cE=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let c=Lf.get(o);if(c||(c={},Lf.set(o,c)),a in c)return c[a];const u=b=>typeof b=="string"||typeof a=="symbol"?a===b:b.test(a),l=Reflect.getOwnPropertyDescriptor(o,a),f=l===void 0||l.writable||l.configurable,p=(e.include?e.include.some(u):!e.exclude.some(u))&&f;return c[a]=p,p},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const u=i.get(o);if(u)return Reflect.apply(u,a,c);const l=e.excludeMain?o:Nf(o,e,s,o);return i.set(o,l),Reflect.apply(l,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const u=i.get(c);if(u)return u;if(typeof c=="function"){const l=Nf(c,e,s,o);return i.set(c,l),l}return c}});return s};const uE=kr.default;let lE=class extends uE{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var Cu=lE;const fE=Cu;let hE=class extends fE{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var dE=hE,Ei={minBlockRef:pE,maxBlockRef:bE,sortBlockRefs:Ru,bnToHex:gE,blockRefIsNumber:yE,hexToInt:us,incrementHexInt:vE,intToHex:Fp,unsafeRandomBytes:mE};function pE(...t){return Ru(t)[0]}function bE(...t){const e=Ru(t);return e[e.length-1]}function Ru(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:us(e)-us(r))}function gE(t){return"0x"+t.toString(16)}function yE(t){return t&&!["earliest","latest","pending"].includes(t)}function us(t){return t==null?t:Number.parseInt(t,16)}function vE(t){if(t==null)return t;const e=us(t);return Fp(e+1)}function Fp(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function mE(t){let e="0x";for(let r=0;r<t;r++)e+=Pf(),e+=Pf();return e}function Pf(){return Math.floor(Math.random()*16).toString(16)}const _E=oE,wE=cE,SE=dE,{bnToHex:iA,hexToInt:Vi,incrementHexInt:EE,minBlockRef:CE,blockRefIsNumber:RE}=Ei;let xE=class extends SE{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new _E(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=CE(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=EE(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await wE(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(Vi(this.params.fromBlock)>=Vi(e.blockNumber)||RE(this.params.toBlock)&&Vi(this.params.toBlock)<=Vi(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(l=>l.toLowerCase()),a.includes(o))})}};var IE=xE,xu=AE;async function AE({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=$f(e),s=$f(r)-n+1,o=Array(s).fill().map((c,u)=>n+u).map(ME);return await Promise.all(o.map(c=>TE(t,"eth_getBlockByNumber",[c,!1])))}function $f(t){return t==null?t:Number.parseInt(t,16)}function ME(t){return t==null?t:"0x"+t.toString(16)}function kE(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function TE(t,e,r){for(let n=0;n<3;n++)try{return await kE(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const OE=Cu,NE=xu,{incrementHexInt:LE}=Ei;let PE=class extends OE{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=LE(e),o=(await NE({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var $E=PE;const DE=Cu,jE=xu,{incrementHexInt:BE}=Ei;let FE=class extends DE{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=BE(e),i=await jE({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var WE=FE;const HE=yp.Mutex,{createAsyncMiddleware:VE,createScaffoldMiddleware:UE}=vu,zE=IE,qE=$E,GE=WE,{intToHex:Wp,hexToInt:Za}=Ei;var JE=QE;function QE({blockTracker:t,provider:e}){let r=0,n={};const i=new HE,s=ZE({mutex:i}),o=UE({eth_newFilter:s(Ya(c)),eth_newBlockFilter:s(Ya(u)),eth_newPendingTransactionFilter:s(Ya(l)),eth_uninstallFilter:s(Zi(p)),eth_getFilterChanges:s(Zi(f)),eth_getFilterLogs:s(Zi(h))}),a=async({oldBlock:v,newBlock:m})=>{if(n.length===0)return;const R=await i.acquire();try{await Promise.all(Ur(n).map(async C=>{try{await C.update({oldBlock:v,newBlock:m})}catch(I){console.error(I)}}))}catch(C){console.error(C)}R()};return o.newLogFilter=c,o.newBlockFilter=u,o.newPendingTransactionFilter=l,o.uninstallFilter=p,o.getFilterChanges=f,o.getFilterLogs=h,o.destroy=()=>{w()},o;async function c(v){const m=new zE({provider:e,params:v});return await b(m),m}async function u(){const v=new qE({provider:e});return await b(v),v}async function l(){const v=new GE({provider:e});return await b(v),v}async function f(v){const m=Za(v),R=n[m];if(!R)throw new Error(`No filter for index "${m}"`);return R.getChangesAndClear()}async function h(v){const m=Za(v),R=n[m];if(!R)throw new Error(`No filter for index "${m}"`);let C=[];return R.type==="log"&&(C=R.getAllResults()),C}async function p(v){const m=Za(v),C=!!n[m];return C&&await _(m),C}async function b(v){const m=Ur(n).length,R=await t.getLatestBlock();await v.initialize({currentBlock:R}),r++,n[r]=v,v.id=r,v.idHex=Wp(r);const C=Ur(n).length;return d({prevFilterCount:m,newFilterCount:C}),r}async function _(v){const m=Ur(n).length;delete n[v];const R=Ur(n).length;d({prevFilterCount:m,newFilterCount:R})}async function w(){const v=Ur(n).length;n={},d({prevFilterCount:v,newFilterCount:0})}function d({prevFilterCount:v,newFilterCount:m}){if(v===0&&m>0){t.on("sync",a);return}if(v>0&&m===0){t.removeListener("sync",a);return}}}function Ya(t){return Zi(async(...e)=>{const r=await t(...e);return Wp(r.id)})}function Zi(t){return VE(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function ZE({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function Ur(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const YE=kr.default,{createAsyncMiddleware:Df,createScaffoldMiddleware:KE}=vu,XE=JE,{unsafeRandomBytes:e3,incrementHexInt:t3}=Ei,r3=xu;var n3=i3;function i3({blockTracker:t,provider:e}){const r={},n=XE({blockTracker:t,provider:e});let i=!1;const s=new YE,o=KE({eth_subscribe:Df(a),eth_unsubscribe:Df(c)});return o.destroy=l,{events:s,middleware:o};async function a(f,h){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const p=f.params[0],b=e3(16);let _;switch(p){case"newHeads":_=w({subId:b});break;case"logs":const v=f.params[1],m=await n.newLogFilter(v);_=d({subId:b,filter:m});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${p}"`)}r[b]=_,h.result=b;return;function w({subId:v}){const m={type:p,destroy:async()=>{t.removeListener("sync",m.update)},update:async({oldBlock:R,newBlock:C})=>{const I=C,D=t3(R);(await r3({provider:e,fromBlock:D,toBlock:I})).map(s3).filter(U=>U!==null).forEach(U=>{u(v,U)})}};return t.on("sync",m.update),m}function d({subId:v,filter:m}){return m.on("update",C=>u(v,C)),{type:p,destroy:async()=>await n.uninstallFilter(m.idHex)}}}async function c(f,h){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const p=f.params[0],b=r[p];if(!b){h.result=!1;return}delete r[p],await b.destroy(),h.result=!0}function u(f,h){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:f,result:h}})}function l(){s.removeAllListeners();for(const f in r)r[f].destroy(),delete r[f];i=!0}}function s3(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(ks,"__esModule",{value:!0});ks.SubscriptionManager=void 0;const o3=Td,a3=n3,jf=()=>{};class c3{constructor(e){const r=new o3.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=a3({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,jf,jf),r}destroy(){this.subscriptionMiddleware.destroy()}}ks.SubscriptionManager=c3;var Iu=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sn,"__esModule",{value:!0});sn.CoinbaseWalletProvider=void 0;const u3=Iu(kr),l3=Iu(vs),Ka=wn,de=si,Bf=Sn,Ff=gt,Xa=Ss,f3=be,X=W,ec=Iu($m),h3=ln,ue=kd,d3=ks,Wf="DefaultChainId",Hf="DefaultJsonRpcUrl";class p3 extends u3.default{constructor(e){var r,n;super(),this._filterPolyfill=new h3.FilterPolyfill(this),this._subscriptionManager=new d3.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,X.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(Ff.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,X.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const u=a.data.data.chainId,l=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(l,Number(u))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,X.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Hf))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Hf,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(Wf,r.toString(10)),((0,X.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,c;if((0,X.ensureIntNumber)(e)===this.getChainId())return!1;const u=await this.initializeRelay(),l=u.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!l&&await u.requestEthereumAccounts().promise;const f=await u.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=f.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=f.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,f3.isErrorResponse)(n)&&n.errorCode)throw n.errorCode===de.standardErrorCodes.provider.unsupportedChain?de.standardErrors.provider.unsupportedChain(e):de.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Ka.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Bf.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this.send(ue.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){try{const n=this._send(e,r);if(n instanceof Promise)return n.catch(i=>{throw(0,de.serializeError)(i,e)})}catch(n){throw(0,de.serializeError)(n,e)}}_send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){try{return this._sendAsync(e,r).catch(n=>{throw(0,de.serializeError)(n,e)})}catch(n){return Promise.reject((0,de.serializeError)(n,e))}}async _sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){try{return this._request(e).catch(r=>{throw(0,de.serializeError)(r,e.method)})}catch(r){return Promise.reject((0,de.serializeError)(r,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw de.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw de.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw de.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){var r;const i=await(await this.initializeRelay()).scanQRCode((0,X.ensureRegExpString)(e)).promise;if(typeof i.result!="string")throw(0,de.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",Xa.Web3Method.scanQRCode);return i.result}async genericRequest(e,r){var n;const s=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof s.result!="string")throw(0,de.serializeError)((n=s.errorMessage)!==null&&n!==void 0?n:"result was not a string",Xa.Web3Method.generic);return s.result}async selectProvider(e){var r;const i=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof i.result!="string")throw(0,de.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",Xa.Web3Method.selectProvider);return i.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,X.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(Ff.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ue.JSONRPCMethod.eth_accounts:return this._eth_accounts();case ue.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case ue.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case ue.JSONRPCMethod.net_version:return this._net_version();case ue.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ue.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case ue.JSONRPCMethod.eth_sign:return this._eth_sign(n);case ue.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case ue.JSONRPCMethod.personal_sign:return this._personal_sign(n);case ue.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case ue.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case ue.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case ue.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case ue.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case ue.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case ue.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case ue.JSONRPCMethod.eth_signTypedData_v4:case ue.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case ue.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case ue.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case ue.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case ue.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ue.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case ue.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case ue.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case ue.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case ue.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case ue.JSONRPCMethod.eth_subscribe:case ue.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,X.ensureAddressString)(e);return this._addresses.map(i=>(0,X.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Ka.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,X.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,X.ensureAddressString)(e.to):null,i=e.value!=null?(0,X.ensureBN)(e.value):new l3.default(0),s=e.data?(0,X.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,X.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,X.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,X.ensureBN)(e.maxFeePerGas):null,u=e.maxPriorityFeePerGas!=null?(0,X.ensureBN)(e.maxPriorityFeePerGas):null,l=e.gas!=null?(0,X.ensureBN)(e.gas):null,f=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:u,gasLimit:l,chainId:f}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw de.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw de.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?de.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,X.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(Wf);if(!e)return(0,X.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,X.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Ka.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Bf.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?de.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,X.ensureAddressString)(e[0]),n=(0,X.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,X.ensureBuffer)(e[0]),n=(0,X.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,X.ensureBuffer)(e[0]),n=(0,X.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,X.ensureBuffer)(e[0]),n=(0,X.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?de.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,X.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?de.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,X.ensureParsedJSONObject)(e[0]),n=(0,X.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=ec.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,X.ensureAddressString)(e[0]),n=(0,X.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=ec.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,X.ensureAddressString)(e[0]),n=(0,X.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=ec.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw de.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw de.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw de.standardErrors.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw de.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw de.standardErrors.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw de.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,X.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,X.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,X.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}sn.CoinbaseWalletProvider=p3;var Qs={},Zs={},Ci,Z,Hp,Vp,vr,Vf,Up,Rc,zp,rn={},qp=[],b3=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ys=Array.isArray;function Ft(t,e){for(var r in e)t[r]=e[r];return t}function Gp(t){var e=t.parentNode;e&&e.removeChild(t)}function xc(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Ci.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return Jn(t,o,n,i,null)}function Jn(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++Hp};return i==null&&Z.vnode!=null&&Z.vnode(s),s}function g3(){return{current:null}}function Ri(t){return t.children}function Qn(t,e){this.props=t,this.context=e}function ti(t,e){if(e==null)return t.__?ti(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?ti(t):null}function Jp(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Jp(t)}}function Ic(t){(!t.__d&&(t.__d=!0)&&vr.push(t)&&!ls.__r++||Vf!==Z.debounceRendering)&&((Vf=Z.debounceRendering)||Up)(ls)}function ls(){var t,e,r,n,i,s,o,a,c;for(vr.sort(Rc);t=vr.shift();)t.__d&&(e=vr.length,n=void 0,i=void 0,s=void 0,a=(o=(r=t).__v).__e,(c=r.__P)&&(n=[],i=[],(s=Ft({},o)).__v=o.__v+1,Au(c,o,s,r.__n,c.ownerSVGElement!==void 0,o.__h!=null?[a]:null,n,a??ti(o),o.__h,i),Xp(n,o,i),o.__e!=a&&Jp(o)),vr.length>e&&vr.sort(Rc));ls.__r=0}function Qp(t,e,r,n,i,s,o,a,c,u,l){var f,h,p,b,_,w,d,v,m,R=0,C=n&&n.__k||qp,I=C.length,D=I,N=e.length;for(r.__k=[],f=0;f<N;f++)(b=r.__k[f]=(b=e[f])==null||typeof b=="boolean"||typeof b=="function"?null:typeof b=="string"||typeof b=="number"||typeof b=="bigint"?Jn(null,b,null,null,b):Ys(b)?Jn(Ri,{children:b},null,null,null):b.__b>0?Jn(b.type,b.props,b.key,b.ref?b.ref:null,b.__v):b)!=null?(b.__=r,b.__b=r.__b+1,(v=y3(b,C,d=f+R,D))===-1?p=rn:(p=C[v]||rn,C[v]=void 0,D--),Au(t,b,p,i,s,o,a,c,u,l),_=b.__e,(h=b.ref)&&p.ref!=h&&(p.ref&&Mu(p.ref,null,b),l.push(h,b.__c||_,b)),_!=null&&(w==null&&(w=_),(m=p===rn||p.__v===null)?v==-1&&R--:v!==d&&(v===d+1?R++:v>d?D>N-d?R+=v-d:R--:R=v<d&&v==d-1?v-d:0),d=f+R,typeof b.type!="function"||v===d&&p.__k!==b.__k?typeof b.type=="function"||v===d&&!m?b.__d!==void 0?(c=b.__d,b.__d=void 0):c=_.nextSibling:c=Kp(t,_,c):c=Zp(b,c,t),typeof r.type=="function"&&(r.__d=c))):(p=C[f])&&p.key==null&&p.__e&&(p.__e==c&&(c=ti(p)),Ac(p,p,!1),C[f]=null);for(r.__e=w,f=I;f--;)C[f]!=null&&(typeof r.type=="function"&&C[f].__e!=null&&C[f].__e==r.__d&&(r.__d=C[f].__e.nextSibling),Ac(C[f],C[f]))}function Zp(t,e,r){for(var n,i=t.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=t,e=typeof n.type=="function"?Zp(n,e,r):Kp(r,n.__e,e));return e}function Yp(t,e){return e=e||[],t==null||typeof t=="boolean"||(Ys(t)?t.some(function(r){Yp(r,e)}):e.push(t)),e}function Kp(t,e,r){return r==null||r.parentNode!==t?t.insertBefore(e,null):e==r&&e.parentNode!=null||t.insertBefore(e,r),e.nextSibling}function y3(t,e,r,n){var i=t.key,s=t.type,o=r-1,a=r+1,c=e[r];if(c===null||c&&i==c.key&&s===c.type)return r;if(n>(c!=null?1:0))for(;o>=0||a<e.length;){if(o>=0){if((c=e[o])&&i==c.key&&s===c.type)return o;o--}if(a<e.length){if((c=e[a])&&i==c.key&&s===c.type)return a;a++}}return-1}function v3(t,e,r,n,i){var s;for(s in r)s==="children"||s==="key"||s in e||fs(t,s,null,r[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||fs(t,s,e[s],r[s],n)}function Uf(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||b3.test(e)?r:r+"px"}function fs(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Uf(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Uf(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n||t.addEventListener(e,s?qf:zf,s):t.removeEventListener(e,s?qf:zf,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,r))}}function zf(t){return this.l[t.type+!1](Z.event?Z.event(t):t)}function qf(t){return this.l[t.type+!0](Z.event?Z.event(t):t)}function Au(t,e,r,n,i,s,o,a,c,u){var l,f,h,p,b,_,w,d,v,m,R,C,I,D,N,M=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(c=r.__h,a=e.__e=r.__e,e.__h=null,s=[a]),(l=Z.__b)&&l(e);e:if(typeof M=="function")try{if(d=e.props,v=(l=M.contextType)&&n[l.__c],m=l?v?v.props.value:l.__:n,r.__c?w=(f=e.__c=r.__c).__=f.__E:("prototype"in M&&M.prototype.render?e.__c=f=new M(d,m):(e.__c=f=new Qn(d,m),f.constructor=M,f.render=_3),v&&v.sub(f),f.props=d,f.state||(f.state={}),f.context=m,f.__n=n,h=f.__d=!0,f.__h=[],f._sb=[]),f.__s==null&&(f.__s=f.state),M.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=Ft({},f.__s)),Ft(f.__s,M.getDerivedStateFromProps(d,f.__s))),p=f.props,b=f.state,f.__v=e,h)M.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(M.getDerivedStateFromProps==null&&d!==p&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(d,m),!f.__e&&(f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(d,f.__s,m)===!1||e.__v===r.__v)){for(e.__v!==r.__v&&(f.props=d,f.state=f.__s,f.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(U){U&&(U.__=e)}),R=0;R<f._sb.length;R++)f.__h.push(f._sb[R]);f._sb=[],f.__h.length&&o.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(d,f.__s,m),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(p,b,_)})}if(f.context=m,f.props=d,f.__P=t,f.__e=!1,C=Z.__r,I=0,"prototype"in M&&M.prototype.render){for(f.state=f.__s,f.__d=!1,C&&C(e),l=f.render(f.props,f.state,f.context),D=0;D<f._sb.length;D++)f.__h.push(f._sb[D]);f._sb=[]}else do f.__d=!1,C&&C(e),l=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++I<25);f.state=f.__s,f.getChildContext!=null&&(n=Ft(Ft({},n),f.getChildContext())),h||f.getSnapshotBeforeUpdate==null||(_=f.getSnapshotBeforeUpdate(p,b)),Qp(t,Ys(N=l!=null&&l.type===Ri&&l.key==null?l.props.children:l)?N:[N],e,r,n,i,s,o,a,c,u),f.base=e.__e,e.__h=null,f.__h.length&&o.push(f),w&&(f.__E=f.__=null)}catch(U){e.__v=null,(c||s!=null)&&(e.__e=a,e.__h=!!c,s[s.indexOf(a)]=null),Z.__e(U,e,r)}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=m3(r.__e,e,r,n,i,s,o,c,u);(l=Z.diffed)&&l(e)}function Xp(t,e,r){for(var n=0;n<r.length;n++)Mu(r[n],r[++n],r[++n]);Z.__c&&Z.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){Z.__e(s,i.__v)}})}function m3(t,e,r,n,i,s,o,a,c){var u,l,f,h=r.props,p=e.props,b=e.type,_=0;if(b==="svg"&&(i=!0),s!=null){for(;_<s.length;_++)if((u=s[_])&&"setAttribute"in u==!!b&&(b?u.localName===b:u.nodeType===3)){t=u,s[_]=null;break}}if(t==null){if(b===null)return document.createTextNode(p);t=i?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,p.is&&p),s=null,a=!1}if(b===null)h===p||a&&t.data===p||(t.data=p);else{if(s=s&&Ci.call(t.childNodes),l=(h=r.props||rn).dangerouslySetInnerHTML,f=p.dangerouslySetInnerHTML,!a){if(s!=null)for(h={},_=0;_<t.attributes.length;_++)h[t.attributes[_].name]=t.attributes[_].value;(f||l)&&(f&&(l&&f.__html==l.__html||f.__html===t.innerHTML)||(t.innerHTML=f&&f.__html||""))}if(v3(t,p,h,i,a),f)e.__k=[];else if(Qp(t,Ys(_=e.props.children)?_:[_],e,r,n,i&&b!=="foreignObject",s,o,s?s[0]:r.__k&&ti(r,0),a,c),s!=null)for(_=s.length;_--;)s[_]!=null&&Gp(s[_]);a||("value"in p&&(_=p.value)!==void 0&&(_!==t.value||b==="progress"&&!_||b==="option"&&_!==h.value)&&fs(t,"value",_,h.value,!1),"checked"in p&&(_=p.checked)!==void 0&&_!==t.checked&&fs(t,"checked",_,h.checked,!1))}return t}function Mu(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){Z.__e(n,r)}}function Ac(t,e,r){var n,i;if(Z.unmount&&Z.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Mu(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){Z.__e(s,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Ac(n[i],e,r||typeof t.type!="function");r||t.__e==null||Gp(t.__e),t.__=t.__e=t.__d=void 0}function _3(t,e,r){return this.constructor(t,r)}function e0(t,e,r){var n,i,s,o;Z.__&&Z.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],o=[],Au(e,t=(!n&&r||e).__k=xc(Ri,null,[t]),i||rn,rn,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?Ci.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n,o),Xp(s,t,o)}function t0(t,e){e0(t,e,t0)}function w3(t,e,r){var n,i,s,o,a=Ft({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?n=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!==void 0?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?Ci.call(arguments,2):r),Jn(t.type,a,n||t.key,i||t.ref,null)}function S3(t,e){var r={__c:e="__cC"+zp++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,Ic(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Ci=qp.slice,Z={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},Hp=0,Vp=function(t){return t!=null&&t.constructor===void 0},Qn.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ft({},this.state),typeof t=="function"&&(t=t(Ft({},r),this.props)),t&&Ft(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Ic(this))},Qn.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ic(this))},Qn.prototype.render=Ri,vr=[],Up=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Rc=function(t,e){return t.__v.__b-e.__v.__b},ls.__r=0,zp=0;const E3=Object.freeze(Object.defineProperty({__proto__:null,Component:Qn,Fragment:Ri,cloneElement:w3,createContext:S3,createElement:xc,createRef:g3,h:xc,hydrate:t0,get isValidElement(){return Vp},get options(){return Z},render:e0,toChildArray:Yp},Symbol.toStringTag,{value:"Module"})),Xe=Mr(E3);function pn(t){return typeof t=="function"}var Gf=!1,it={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}Gf=t},get useDeprecatedSynchronousErrorHandling(){return Gf}};function Qr(t){setTimeout(function(){throw t},0)}var hs={closed:!0,next:function(t){},error:function(t){if(it.useDeprecatedSynchronousErrorHandling)throw t;Qr(t)},complete:function(){}},ze=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function ku(t){return t!==null&&typeof t=="object"}var C3=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),Zn=C3,_e=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(pn(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(f){e=f instanceof Zn?Jf(f.errors):[f]}}if(ze(o))for(var a=-1,u=o.length;++a<u;){var l=o[a];if(ku(l))try{l.unsubscribe()}catch(h){e=e||[],h instanceof Zn?e=e.concat(Jf(h.errors)):e.push(h)}}if(e)throw new Zn(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function Jf(t){return t.reduce(function(e,r){return e.concat(r instanceof Zn?r.errors:r)},[])}var ds=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),V=function(t){x(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=hs;break;case 1:if(!r){s.destination=hs;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new Qf(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new Qf(s,r,n,i);break}return s}return e.prototype[ds]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(_e),Qf=function(t){x(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,c=o;return pn(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==hs&&(c=Object.create(n),pn(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!it.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=it.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):Qr(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;Qr(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!it.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),it.useDeprecatedSynchronousErrorHandling)throw i;Qr(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!it.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return it.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(Qr(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(V);function Tu(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof V?t=n:t=null}return!0}function R3(t,e,r){if(t){if(t instanceof V)return t;if(t[ds])return t[ds]()}return!t&&!e&&!r?new V(hs):new V(t,e,r)}var Mn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function sr(t){return t}function Mc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r0(t)}function r0(t){return t.length===0?sr:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var ee=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=R3(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||it.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),it.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){it.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),Tu(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=Zf(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[Mn]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:r0(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Zf(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function Zf(t){if(t||(t=it.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var x3=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Kt=x3,n0=function(t){x(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(_e),i0=function(t){x(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(V),Ne=function(t){x(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[ds]=function(){return new i0(this)},e.prototype.lift=function(r){var n=new Yf(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new Kt;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new Kt;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Kt;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new Kt;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new Kt;return this.hasError?(r.error(this.thrownError),_e.EMPTY):this.isStopped?(r.complete(),_e.EMPTY):(this.observers.push(r),new n0(this,r))},e.prototype.asObservable=function(){var r=new ee;return r.source=this,r},e.create=function(r,n){return new Yf(r,n)},e}(ee),Yf=function(t){x(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):_e.EMPTY},e}(Ne);function Ou(){return function(e){return e.lift(new I3(e))}}var I3=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new A3(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),A3=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(V),s0=function(t){x(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new _e,r.add(this.source.subscribe(new k3(this.getSubject(),this))),r.closed&&(this._connection=null,r=_e.EMPTY)),r},e.prototype.refCount=function(){return Ou()(this)},e}(ee),M3=function(){var t=s0.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),k3=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(i0);function T3(t,e,r,n){return function(i){return i.lift(new O3(t,e,r,n))}}var O3=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new N3(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),N3=function(t){x(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(u){this.error(u)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new Ne,i.set(n,s);var a=new kc(n,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new kc(n,s))}catch(u){this.error(u);return}this.add(c.subscribe(new L3(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(V),L3=function(t){x(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(V),kc=function(t){x(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new _e,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new P3(s)),n.add(o.subscribe(r)),n},e}(ee),P3=function(t){x(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(_e),o0=function(t){x(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Kt;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(Ne),$3=function(t){x(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(_e),xi=function(t){x(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}($3),D3=function(t){x(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(xi),Tc=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),Ii=function(t){x(e,t);function e(r,n){n===void 0&&(n=Tc.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(Tc),j3=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Ii),a0=new j3(D3),c0=a0,bn=new ee(function(t){return t.complete()});function kn(t){return t?B3(t):bn}function B3(t){return new ee(function(e){return t.schedule(function(){return e.complete()})})}function Ke(t){return t&&typeof t.schedule=="function"}var u0=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function Nu(t,e){return new ee(function(r){var n=new _e,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function Ai(t,e){return e?Nu(t,e):new ee(u0(t))}function Ks(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Ke(r)?(t.pop(),Nu(t,r)):Ai(t)}function Lu(t,e){return e?new ee(function(r){return e.schedule(F3,0,{error:t,subscriber:r})}):new ee(function(r){return r.error(t)})}function F3(t){var e=t.error,r=t.subscriber;r.error(e)}var Oc;Oc||(Oc={});var Wt=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Ks(this.value);case"E":return Lu(this.error);case"C":return kn()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function W3(t,e){return e===void 0&&(e=0),function(n){return n.lift(new H3(t,e))}}var H3=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new l0(e,this.scheduler,this.delay))},t}(),l0=function(t){x(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new V3(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(Wt.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(Wt.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Wt.createComplete()),this.unsubscribe()},e}(V),V3=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),Pu=function(t){x(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new U3(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new Kt;if(this.isStopped||this.hasError?a=_e.EMPTY:(this.observers.push(r),a=new n0(this,r)),s&&r.add(r=new l0(r,s)),n)for(var c=0;c<o&&!r.closed;c++)r.next(i[c]);else for(var c=0;c<o&&!r.closed;c++)r.next(i[c].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||c0).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(Ne),U3=function(){function t(e,r){this.time=e,this.value=r}return t}(),Tn=function(t){x(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),_e.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),_e.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(Ne),z3=1,q3=function(){return Promise.resolve()}(),Nc={};function Kf(t){return t in Nc?(delete Nc[t],!0):!1}var Xf={setImmediate:function(t){var e=z3++;return Nc[e]=!0,q3.then(function(){return Kf(e)&&t()}),e},clearImmediate:function(t){Kf(t)}},G3=function(t){x(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=Xf.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(Xf.clearImmediate(n),r.scheduled=void 0)},e}(xi),J3=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Ii),f0=new J3(G3),Yi=f0,h0=new Ii(xi),qe=h0,Q3=function(t){x(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(xi),Z3=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Ii),d0=new Z3(Q3),Y3=d0,K3=function(t){x(e,t);function e(r,n){r===void 0&&(r=p0),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(Ii),p0=function(t){x(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(xi);function xt(){}function X3(t){return!!t&&(t instanceof ee||typeof t.lift=="function"&&typeof t.subscribe=="function")}var e4=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),gn=e4,t4=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Mi=t4,r4=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),b0=r4;function lt(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new n4(t,e))}}var n4=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new i4(e,this.project,this.thisArg))},t}(),i4=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(V);function g0(t,e,r){if(e)if(Ke(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return g0(t,r).apply(void 0,n).pipe(lt(function(s){return ze(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new ee(function(c){if(r){var l={args:n,subscriber:c,params:a};return r.schedule(s4,0,l)}else{if(!o){o=new Tn;var u=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];o.next(f.length<=1?f[0]:f),o.complete()};try{t.apply(s,n.concat([u]))}catch(f){Tu(o)?o.error(f):console.warn(f)}}return o.subscribe(c)}})}}function s4(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new Tn;var u=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var h=l.length<=1?l[0]:l;e.add(a.schedule(o4,0,{value:h,subject:c}))};try{s.apply(o,r.concat([u]))}catch(l){c.error(l)}}this.add(c.subscribe(n))}function o4(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function y0(t,e,r){if(e)if(Ke(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return y0(t,r).apply(void 0,n).pipe(lt(function(s){return ze(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new ee(function(o){var a=s.context,c=s.subject;if(r)return r.schedule(a4,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new Tn;var u=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var h=l.shift();if(h){c.error(h);return}c.next(l.length<=1?l[0]:l),c.complete()};try{t.apply(a,n.concat([u]))}catch(l){Tu(c)?c.error(l):console.warn(l)}}return c.subscribe(o)})}}function a4(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new Tn;var u=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var h=l.shift();if(h)e.add(a.schedule(eh,0,{err:h,subject:c}));else{var p=l.length<=1?l[0]:l;e.add(a.schedule(c4,0,{value:p,subject:c}))}};try{s.apply(i,o.concat([u]))}catch(l){this.add(a.schedule(eh,0,{err:l,subject:c}))}}this.add(c.subscribe(n))}function c4(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function eh(t){var e=t.err,r=t.subject;r.error(e)}var $r=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(V),u4=function(t){x(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(V),l4=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Qr),e}};function f4(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var or=f4(),h4=function(t){return function(e){var r=t[or]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},d4=function(t){return function(e){var r=t[Mn]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},v0=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function m0(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var ri=function(t){if(t&&typeof t[Mn]=="function")return d4(t);if(v0(t))return u0(t);if(m0(t))return l4(t);if(t&&typeof t[or]=="function")return h4(t);var e=ku(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function Vt(t,e,r,n,i){if(i===void 0&&(i=new u4(t,r,n)),!i.closed)return e instanceof ee?e.subscribe(i):ri(e)(i)}var th={};function p4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return Ke(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&ze(t[0])&&(t=t[0]),Ai(t,n).lift(new $u(r))}var $u=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new b4(e,this.resultSelector))},t}(),b4=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(th),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(Vt(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===th?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}($r);function g4(t,e){return new ee(function(r){var n=new _e;return n.add(e.schedule(function(){var i=t[Mn]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function y4(t,e){return new ee(function(r){var n=new _e;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function v4(t,e){if(!t)throw new Error("Iterable cannot be null");return new ee(function(r){var n=new _e,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[or](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){r.error(c);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function m4(t){return t&&typeof t[Mn]=="function"}function _4(t){return t&&typeof t[or]=="function"}function _0(t,e){if(t!=null){if(m4(t))return g4(t,e);if(m0(t))return y4(t,e);if(v0(t))return Nu(t,e);if(_4(t)||typeof t=="string")return v4(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function zt(t,e){return e?_0(t,e):t instanceof ee?t:new ee(ri(t))}var we=function(t){x(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(V),Se=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(V);function Ee(t,e){if(!e.closed){if(t instanceof ee)return t.subscribe(e);var r;try{r=ri(t)(e)}catch(n){e.error(n)}return r}}function Ir(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(Ir(function(i,s){return zt(t(i,s)).pipe(lt(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new w4(t,r))})}var w4=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new S4(e,this.project,this.concurrent))},t}(),S4=function(t){x(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new we(this),i=this.destination;i.add(n);var s=Ee(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(Se),E4=Ir;function Du(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),Ir(sr,t)}function w0(){return Du(1)}function ni(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return w0()(Ks.apply(void 0,t))}function ju(t){return new ee(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?zt(r):kn();return n.subscribe(e)})}function C4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(ze(r))return Ui(r,null);if(ku(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Ui(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&ze(t[0])?t[0]:t,Ui(t,null).pipe(lt(function(s){return i.apply(void 0,s)}))}return Ui(t,null)}function Ui(t,e){return new ee(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(u){var l=zt(t[u]),f=!1;r.add(l.subscribe({next:function(h){f||(f=!0,o++),i[u]=h},error:function(h){return r.error(h)},complete:function(){s++,(s===n||!f)&&(o===n&&r.next(e?e.reduce(function(h,p,b){return h[p]=i[b],h},{}):i),r.complete())}}))},c=0;c<n;c++)a(c)})}function S0(t,e,r,n){return pn(r)&&(n=r,r=void 0),n?S0(t,e,r).pipe(lt(function(i){return ze(i)?n.apply(void 0,i):n(i)})):new ee(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}E0(t,e,s,i,r)})}function E0(t,e,r,n,i){var s;if(I4(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(x4(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(R4(t)){var c=t;t.addListener(e,r),s=function(){return c.removeListener(e,r)}}else if(t&&t.length)for(var u=0,l=t.length;u<l;u++)E0(t[u],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function R4(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function x4(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function I4(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function C0(t,e,r){return r?C0(t,e).pipe(lt(function(n){return ze(n)?r.apply(void 0,n):r(n)})):new ee(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(pn(e))return function(){return e(i,s)}})}function A4(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||sr,i=a.scheduler}else n===void 0||Ke(n)?(o=t,s=sr,i=n):(o=t,s=n);return new ee(function(c){var u=o;if(i)return i.schedule(M4,0,{subscriber:c,iterate:r,condition:e,resultSelector:s,state:u});do{if(e){var l=void 0;try{l=e(u)}catch(h){c.error(h);return}if(!l){c.complete();break}}var f=void 0;try{f=s(u)}catch(h){c.error(h);return}if(c.next(f),c.closed)break;try{u=r(u)}catch(h){c.error(h);return}}while(!0)})}function M4(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function k4(t,e,r){return e===void 0&&(e=bn),r===void 0&&(r=bn),ju(function(){return t()?e:r})}function yn(t){return!ze(t)&&t-parseFloat(t)+1>=0}function T4(t,e){return t===void 0&&(t=0),e===void 0&&(e=qe),(!yn(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=qe),new ee(function(r){return r.add(e.schedule(O4,t,{subscriber:r,counter:0,period:t})),r})}function O4(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function R0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return Ke(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof ee?t[0]:Du(r)(Ai(t,n))}var x0=new ee(xt);function N4(){return x0}function Lc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return bn;var r=t[0],n=t.slice(1);return t.length===1&&ze(r)?Lc.apply(void 0,r):new ee(function(i){var s=function(){return i.add(Lc.apply(void 0,n).subscribe(i))};return zt(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function L4(t,e){return e?new ee(function(r){var n=Object.keys(t),i=new _e;return i.add(e.schedule(P4,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new ee(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function P4(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function I0(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function ar(t,e){return function(n){return n.lift(new $4(t,e))}}var $4=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new D4(e,this.predicate,this.thisArg))},t}(),D4=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(V);function j4(t,e,r){return[ar(e,r)(new ee(ri(t))),ar(I0(e,r))(new ee(ri(t)))]}function A0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(ze(t[0]))t=t[0];else return t[0];return Ai(t,void 0).lift(new B4)}var B4=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new F4(e))},t}(),F4=function(t){x(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=Vt(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}($r);function W4(t,e,r){return t===void 0&&(t=0),new ee(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(H4,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function H4(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function M0(t,e,r){t===void 0&&(t=0);var n=-1;return yn(e)?n=Number(e)<1&&1||Number(e):Ke(e)&&(r=e),Ke(r)||(r=qe),new ee(function(i){var s=yn(t)?t:+t-r.now();return r.schedule(V4,s,{index:0,period:n,subscriber:i})})}function V4(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function U4(t,e){return new ee(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?zt(i):bn,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function k0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),Ai(t,void 0).lift(new T0(r))}var T0=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new z4(e,this.resultSelector))},t}(),z4=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;ze(r)?n.push(new G4(r)):typeof r[or]=="function"?n.push(new q4(r[or]())):n.push(new J4(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<n;s++){var o=r[s],u=o.next();if(o.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(V),q4=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},t}(),G4=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[or]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),J4=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[or]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return Ee(this.observable,new we(this))},e}(Se);const Q4=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:gn,AsyncSubject:Tn,BehaviorSubject:o0,ConnectableObservable:s0,EMPTY:bn,EmptyError:Mi,GroupedObservable:kc,NEVER:x0,Notification:Wt,get NotificationKind(){return Oc},ObjectUnsubscribedError:Kt,Observable:ee,ReplaySubject:Pu,Scheduler:Tc,Subject:Ne,Subscriber:V,Subscription:_e,TimeoutError:b0,UnsubscriptionError:Zn,VirtualAction:p0,VirtualTimeScheduler:K3,animationFrame:Y3,animationFrameScheduler:d0,asap:Yi,asapScheduler:f0,async:qe,asyncScheduler:h0,bindCallback:g0,bindNodeCallback:y0,combineLatest:p4,concat:ni,config:it,defer:ju,empty:kn,forkJoin:C4,from:zt,fromEvent:S0,fromEventPattern:C0,generate:A4,identity:sr,iif:k4,interval:T4,isObservable:X3,merge:R0,never:N4,noop:xt,observable:Mn,of:Ks,onErrorResumeNext:Lc,pairs:L4,partition:j4,pipe:Mc,queue:c0,queueScheduler:a0,race:A0,range:W4,scheduled:_0,throwError:Lu,timer:M0,using:U4,zip:k0},Symbol.toStringTag,{value:"Module"})),Xs=Mr(Q4);var eo={};const to=Mr(ub);var Ut,pe,tc,rh,vn=0,O0=[],Ki=[],nh=Z.__b,ih=Z.__r,sh=Z.diffed,oh=Z.__c,ah=Z.unmount;function Dr(t,e){Z.__h&&Z.__h(pe,t,vn||e),vn=0;var r=pe.__H||(pe.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:Ki}),r.__[t]}function N0(t){return vn=1,L0($0,t)}function L0(t,e,r){var n=Dr(Ut++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):$0(void 0,e),function(a){var c=n.__N?n.__N[0]:n.__[0],u=n.t(c,a);c!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=pe,!pe.u)){var i=function(a,c,u){if(!n.__c.__H)return!0;var l=n.__c.__H.__.filter(function(h){return h.__c});if(l.every(function(h){return!h.__N}))return!s||s.call(this,a,c,u);var f=!1;return l.forEach(function(h){if(h.__N){var p=h.__[0];h.__=h.__N,h.__N=void 0,p!==h.__[0]&&(f=!0)}}),!(!f&&n.__c.props===a)&&(!s||s.call(this,a,c,u))};pe.u=!0;var s=pe.shouldComponentUpdate,o=pe.componentWillUpdate;pe.componentWillUpdate=function(a,c,u){if(this.__e){var l=s;s=void 0,i(a,c,u),s=l}o&&o.call(this,a,c,u)},pe.shouldComponentUpdate=i}return n.__N||n.__}function Z4(t,e){var r=Dr(Ut++,3);!Z.__s&&Fu(r.__H,e)&&(r.__=t,r.i=e,pe.__H.__h.push(r))}function P0(t,e){var r=Dr(Ut++,4);!Z.__s&&Fu(r.__H,e)&&(r.__=t,r.i=e,pe.__h.push(r))}function Y4(t){return vn=5,Bu(function(){return{current:t}},[])}function K4(t,e,r){vn=6,P0(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function Bu(t,e){var r=Dr(Ut++,7);return Fu(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function X4(t,e){return vn=8,Bu(function(){return t},e)}function e5(t){var e=pe.context[t.__c],r=Dr(Ut++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(pe)),e.props.value):t.__}function t5(t,e){Z.useDebugValue&&Z.useDebugValue(e?e(t):t)}function r5(t){var e=Dr(Ut++,10),r=N0();return e.__=t,pe.componentDidCatch||(pe.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function n5(){var t=Dr(Ut++,11);if(!t.__){for(var e=pe.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function i5(){for(var t;t=O0.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Xi),t.__H.__h.forEach(Pc),t.__H.__h=[]}catch(e){t.__H.__h=[],Z.__e(e,t.__v)}}Z.__b=function(t){pe=null,nh&&nh(t)},Z.__r=function(t){ih&&ih(t),Ut=0;var e=(pe=t.__c).__H;e&&(tc===pe?(e.__h=[],pe.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=Ki,r.__N=r.i=void 0})):(e.__h.forEach(Xi),e.__h.forEach(Pc),e.__h=[],Ut=0)),tc=pe},Z.diffed=function(t){sh&&sh(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(O0.push(e)!==1&&rh===Z.requestAnimationFrame||((rh=Z.requestAnimationFrame)||s5)(i5)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==Ki&&(r.__=r.__V),r.i=void 0,r.__V=Ki})),tc=pe=null},Z.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Xi),r.__h=r.__h.filter(function(n){return!n.__||Pc(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Z.__e(n,r.__v)}}),oh&&oh(t,e)},Z.unmount=function(t){ah&&ah(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Xi(n)}catch(i){e=i}}),r.__H=void 0,e&&Z.__e(e,r.__v))};var ch=typeof requestAnimationFrame=="function";function s5(t){var e,r=function(){clearTimeout(n),ch&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);ch&&(e=requestAnimationFrame(r))}function Xi(t){var e=pe,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),pe=e}function Pc(t){var e=pe;t.__c=t.__(),pe=e}function Fu(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function $0(t,e){return typeof e=="function"?e(t):e}const o5=Object.freeze(Object.defineProperty({__proto__:null,useCallback:X4,useContext:e5,useDebugValue:t5,useEffect:Z4,useErrorBoundary:r5,useId:n5,useImperativeHandle:K4,useLayoutEffect:P0,useMemo:Bu,useReducer:L0,useRef:Y4,useState:N0},Symbol.toStringTag,{value:"Module"})),ki=Mr(o5);var Tt={},ro={};Object.defineProperty(ro,"__esModule",{value:!0});ro.CloseIcon=void 0;const uh=Xe;function a5(t){return(0,uh.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,uh.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}ro.CloseIcon=a5;var Wu={};Object.defineProperty(Wu,"__esModule",{value:!0});Wu.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var Hu={};Object.defineProperty(Hu,"__esModule",{value:!0});Hu.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var no={};Object.defineProperty(no,"__esModule",{value:!0});no.QRCodeIcon=void 0;const Et=Xe;function c5(t){return(0,Et.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,Et.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,Et.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,Et.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,Et.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,Et.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,Et.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,Et.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,Et.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,Et.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}no.QRCodeIcon=c5;var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});const u5=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;Vu.default=u5;var Uu={};Object.defineProperty(Uu,"__esModule",{value:!0});Uu.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var io={};Object.defineProperty(io,"__esModule",{value:!0});io.StatusDotIcon=void 0;const lh=Xe;function l5(t){return(0,lh.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,lh.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}io.StatusDotIcon=l5;var so={};function D0(t){this.mode=Ze.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}D0.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function Ot(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Ot.prototype={addData:function(t){var e=new D0(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=Ot.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=ve.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,u=this.modules[s][a];u&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=ve.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=ve.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=ve.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var u=ve.getMask(e,n,o-a);u&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};Ot.PAD0=236;Ot.PAD1=17;Ot.createData=function(t,e,r){for(var n=At.getRSBlocks(t,e),i=new j0,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),ve.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(Ot.PAD0,8),i.getLengthInBits()>=a*8));)i.put(Ot.PAD1,8);return Ot.createBytes(i,n)};Ot.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,u=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,u),s[a]=new Array(c);for(var l=0;l<s[a].length;l++)s[a][l]=255&t.buffer[l+r];r+=c;var f=ve.getErrorCorrectPolynomial(u),h=new nn(s[a],f.getLength()-1),p=h.mod(f);o[a]=new Array(f.getLength()-1);for(var l=0;l<o[a].length;l++){var b=l+p.getLength()-o[a].length;o[a][l]=b>=0?p.get(b):0}}for(var _=0,l=0;l<e.length;l++)_+=e[l].totalCount;for(var w=new Array(_),d=0,l=0;l<n;l++)for(var a=0;a<e.length;a++)l<s[a].length&&(w[d++]=s[a][l]);for(var l=0;l<i;l++)for(var a=0;a<e.length;a++)l<o[a].length&&(w[d++]=o[a][l]);return w};var Ze={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},er={L:1,M:0,Q:3,H:2},Gt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},ve={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;ve.getBCHDigit(e)-ve.getBCHDigit(ve.G15)>=0;)e^=ve.G15<<ve.getBCHDigit(e)-ve.getBCHDigit(ve.G15);return(t<<10|e)^ve.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;ve.getBCHDigit(e)-ve.getBCHDigit(ve.G18)>=0;)e^=ve.G18<<ve.getBCHDigit(e)-ve.getBCHDigit(ve.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return ve.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Gt.PATTERN000:return(e+r)%2==0;case Gt.PATTERN001:return e%2==0;case Gt.PATTERN010:return r%3==0;case Gt.PATTERN011:return(e+r)%3==0;case Gt.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Gt.PATTERN101:return e*r%2+e*r%3==0;case Gt.PATTERN110:return(e*r%2+e*r%3)%2==0;case Gt.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new nn([1],0),r=0;r<t;r++)e=e.multiply(new nn([1,Oe.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Ze.MODE_NUMBER:return 10;case Ze.MODE_ALPHA_NUM:return 9;case Ze.MODE_8BIT_BYTE:return 8;case Ze.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Ze.MODE_NUMBER:return 12;case Ze.MODE_ALPHA_NUM:return 11;case Ze.MODE_8BIT_BYTE:return 16;case Ze.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Ze.MODE_NUMBER:return 14;case Ze.MODE_ALPHA_NUM:return 13;case Ze.MODE_8BIT_BYTE:return 16;case Ze.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var u=0;t.isDark(n,i)&&u++,t.isDark(n+1,i)&&u++,t.isDark(n,i+1)&&u++,t.isDark(n+1,i+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var l=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&l++;var f=Math.abs(100*l/e/e-50)/5;return r+=f*10,r}},Oe={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Oe.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Oe.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Pe=0;Pe<8;Pe++)Oe.EXP_TABLE[Pe]=1<<Pe;for(var Pe=8;Pe<256;Pe++)Oe.EXP_TABLE[Pe]=Oe.EXP_TABLE[Pe-4]^Oe.EXP_TABLE[Pe-5]^Oe.EXP_TABLE[Pe-6]^Oe.EXP_TABLE[Pe-8];for(var Pe=0;Pe<255;Pe++)Oe.LOG_TABLE[Oe.EXP_TABLE[Pe]]=Pe;function nn(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}nn.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=Oe.gexp(Oe.glog(this.get(r))+Oe.glog(t.get(n)));return new nn(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Oe.glog(this.get(0))-Oe.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=Oe.gexp(Oe.glog(t.get(n))+e);return new nn(r,0).mod(t)}};function At(t,e){this.totalCount=t,this.dataCount=e}At.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];At.getRSBlocks=function(t,e){var r=At.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],c=r[s*3+2],u=0;u<o;u++)i.push(new At(a,c));return i};At.getRsBlockTable=function(t,e){switch(e){case er.L:return At.RS_BLOCK_TABLE[(t-1)*4+0];case er.M:return At.RS_BLOCK_TABLE[(t-1)*4+1];case er.Q:return At.RS_BLOCK_TABLE[(t-1)*4+2];case er.H:return At.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function j0(){this.buffer=[],this.length=0}j0.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var rc=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function B0(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return er.L;case"M":return er.M;case"Q":return er.Q;case"H":return er.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,u){for(var l=i(c),f=1,h=0,p=0,b=rc.length;p<=b;p++){var _=rc[p];if(!_)throw new Error("Content too long: expected "+h+" but got "+l);switch(u){case"L":h=_[0];break;case"M":h=_[1];break;case"Q":h=_[2];break;case"H":h=_[3];break;default:throw new Error("Unknwon error correction level: "+u)}if(l<=h)break;f++}if(f>rc.length)throw new Error("Content too long");return f}function i(c){var u=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return u.length+(u.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new Ot(o,a),this.qrcode.addData(s),this.qrcode.make()}B0.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=r.length,u=o/(c+2*e.padding),l=a/(c+2*e.padding),f=typeof e.join<"u"?!!e.join:!1,h=typeof e.swap<"u"?!!e.swap:!1,p=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,b=typeof e.predefined<"u"?!!e.predefined:!1,_=b?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+u+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",w=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,d="",v="",m=0;m<c;m++)for(var R=0;R<c;R++){var C=r[R][m];if(C){var I=R*u+e.padding*u,D=m*l+e.padding*l;if(h){var N=I;I=D,D=N}if(f){var M=u+I,U=l+D;I=Number.isInteger(I)?Number(I):I.toFixed(2),D=Number.isInteger(D)?Number(D):D.toFixed(2),M=Number.isInteger(M)?Number(M):M.toFixed(2),U=Number.isInteger(U)?Number(U):U.toFixed(2),v+="M"+I+","+D+" V"+U+" H"+M+" V"+D+" H"+I+" Z "}else b?d+=i+'<use x="'+I.toString()+'" y="'+D.toString()+'" href="#qrmodule" />'+s:d+=i+'<rect x="'+I.toString()+'" y="'+D.toString()+'" width="'+u+'" height="'+l+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}f&&(d=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+v+'" />');let ce="";if(this.options.image!==void 0&&this.options.image.svg){const A=o*this.options.image.width/100,k=a*this.options.image.height/100,L=o/2-A/2,P=a/2-k/2;ce+=`<svg x="${L}" y="${P}" width="${A}" height="${k}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ce+=this.options.image.svg+s,ce+="</svg>"}var Q="";switch(t.container){case"svg":p&&(Q+='<?xml version="1.0" standalone="yes"?>'+s),Q+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,Q+=_+w+d,Q+=ce,Q+="</svg>";break;case"svg-viewbox":p&&(Q+='<?xml version="1.0" standalone="yes"?>'+s),Q+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,Q+=_+w+d,Q+=ce,Q+="</svg>";break;case"g":Q+='<g width="'+o+'" height="'+a+'">'+s,Q+=_+w+d,Q+=ce,Q+="</g>";break;default:Q+=(_+w+d+ce).replace(/^\s+/,"");break}return Q};var f5=B0,h5=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(so,"__esModule",{value:!0});so.QRCode=void 0;const d5=Xe,fh=ki,p5=h5(f5),b5=t=>{const[e,r]=(0,fh.useState)("");return(0,fh.useEffect)(()=>{var n,i;const s=new p5.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,d5.h)("img",{src:e,alt:"QR Code"}):null};so.QRCode=b5;var oo={},zu={};Object.defineProperty(zu,"__esModule",{value:!0});zu.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var g5=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oo,"__esModule",{value:!0});oo.Spinner=void 0;const zi=Xe,y5=g5(zu),v5=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,zi.h)("div",{class:"-cbwsdk-spinner"},(0,zi.h)("style",null,y5.default),(0,zi.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,zi.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};oo.Spinner=v5;var qu={};Object.defineProperty(qu,"__esModule",{value:!0});qu.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var On=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.CoinbaseAppSteps=Tt.CoinbaseWalletSteps=Tt.ConnectItem=Tt.ConnectContent=void 0;const ot=On(to),q=Xe,hh=ki,m5=W,_5=oi,w5=ro,S5=On(Wu),E5=On(Hu),F0=no,C5=On(Vu),R5=On(Uu),x5=io,I5=so,A5=oo,M5=On(qu),dh={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:E5.default,steps:H0},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:S5.default,steps:V0}},k5=t=>{switch(t){case"coinbase-app":return C5.default;case"coinbase-wallet-app":default:return R5.default}},$c=t=>t==="light"?"#FFFFFF":"#0A0B0D";function T5(t){const{theme:e}=t,[r,n]=(0,hh.useState)("coinbase-wallet-app"),i=(0,hh.useCallback)(u=>{n(u)},[]),s=(0,m5.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=dh[r];if(!r)return null;const a=o.steps,c=r==="coinbase-app";return(0,q.h)("div",{"data-testid":"connect-content",class:(0,ot.default)("-cbwsdk-connect-content",e)},(0,q.h)("style",null,M5.default),(0,q.h)("div",{class:"-cbwsdk-connect-content-header"},(0,q.h)("h2",{class:(0,ot.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,q.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,q.h)(w5.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,q.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,q.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,q.h)("div",null,Object.entries(dh).map(([u,l])=>(0,q.h)(W0,{key:u,title:l.title,description:l.description,icon:l.icon,selected:r===u,onClick:()=>i(u),theme:e}))),c&&(0,q.h)("div",{class:(0,ot.default)("-cbwsdk-connect-content-update-app",e)},"Don’t see a ",(0,q.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,q.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,q.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,q.h)(I5.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:k5(r),width:25,height:25}}),(0,q.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:_5.LIB_VERSION}),(0,q.h)("input",{type:"hidden",value:s})),(0,q.h)(a,{theme:e}),!t.isConnected&&(0,q.h)("div",{"data-testid":"connecting-spinner",class:(0,ot.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,q.h)(A5.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,q.h)("p",null,"Connecting...")))))}Tt.ConnectContent=T5;function W0({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,q.h)("div",{onClick:s,class:(0,ot.default)("-cbwsdk-connect-item",i,{selected:n})},(0,q.h)("div",null,(0,q.h)("img",{src:r,alt:t})),(0,q.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,q.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,q.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}Tt.ConnectItem=W0;function H0({theme:t}){return(0,q.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,q.h)("li",{class:(0,ot.default)("-cbwsdk-wallet-steps-item",t)},(0,q.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,q.h)("li",{class:(0,ot.default)("-cbwsdk-wallet-steps-item",t)},(0,q.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,q.h)("span",null,"Tap ",(0,q.h)("strong",null,"Scan")," "),(0,q.h)("span",{class:(0,ot.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,q.h)(F0.QRCodeIcon,{fill:$c(t)})))))}Tt.CoinbaseWalletSteps=H0;function V0({theme:t}){return(0,q.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,q.h)("li",{class:(0,ot.default)("-cbwsdk-wallet-steps-item",t)},(0,q.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,q.h)("li",{class:(0,ot.default)("-cbwsdk-wallet-steps-item",t)},(0,q.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,q.h)("span",null,"Tap ",(0,q.h)("strong",null,"More")),(0,q.h)("span",{class:(0,ot.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,q.h)(x5.StatusDotIcon,{fill:$c(t)})),(0,q.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,q.h)("strong",null,"Scan")),(0,q.h)("span",{class:(0,ot.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,q.h)(F0.QRCodeIcon,{fill:$c(t)})))))}Tt.CoinbaseAppSteps=V0;var ao={},co={};Object.defineProperty(co,"__esModule",{value:!0});co.ArrowLeftIcon=void 0;const ph=Xe;function O5(t){return(0,ph.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,ph.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}co.ArrowLeftIcon=O5;var uo={};Object.defineProperty(uo,"__esModule",{value:!0});uo.LaptopIcon=void 0;const nc=Xe;function N5(t){return(0,nc.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,nc.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,nc.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}uo.LaptopIcon=N5;var lo={};Object.defineProperty(lo,"__esModule",{value:!0});lo.SafeIcon=void 0;const bh=Xe;function L5(t){return(0,bh.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,bh.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}lo.SafeIcon=L5;var Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});Gu.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var U0=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ao,"__esModule",{value:!0});ao.TryExtensionContent=void 0;const fr=U0(to),Re=Xe,ic=ki,P5=co,$5=uo,D5=lo,j5=U0(Gu);function B5({theme:t}){const[e,r]=(0,ic.useState)(!1),n=(0,ic.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,ic.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,Re.h)("div",{class:(0,fr.default)("-cbwsdk-try-extension",t)},(0,Re.h)("style",null,j5.default),(0,Re.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Re.h)("h3",{class:(0,fr.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,Re.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,Re.h)("button",{class:(0,fr.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,Re.h)("div",null,!e&&(0,Re.h)(P5.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,Re.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Re.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,Re.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Re.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Re.h)("span",{class:(0,fr.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Re.h)($5.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Re.h)("div",{class:(0,fr.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,Re.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Re.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Re.h)("span",{class:(0,fr.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Re.h)(D5.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Re.h)("div",{class:(0,fr.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}ao.TryExtensionContent=B5;var Ju={};Object.defineProperty(Ju,"__esModule",{value:!0});Ju.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var z0=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(eo,"__esModule",{value:!0});eo.ConnectDialog=void 0;const sc=z0(to),hr=Xe,oc=ki,F5=Tt,W5=ao,H5=z0(Ju),V5=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,oc.useState)(!e),[s,o]=(0,oc.useState)(!e);(0,oc.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,hr.h)("div",{class:(0,sc.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,hr.h)("style",null,H5.default),(0,hr.h)("div",{class:(0,sc.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,hr.h)("div",{class:"-cbwsdk-connect-dialog"},(0,hr.h)("div",{class:(0,sc.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,hr.h)(F5.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,hr.h)(W5.TryExtensionContent,{theme:a}))))};eo.ConnectDialog=V5;Object.defineProperty(Zs,"__esModule",{value:!0});Zs.LinkFlow=void 0;const ac=Xe,gh=Xs,U5=eo;class z5{constructor(e){this.extensionUI$=new gh.BehaviorSubject({}),this.subscriptions=new gh.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,ac.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{this.root&&(0,ac.render)((0,ac.h)(U5.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Zs.LinkFlow=z5;var q0={},Qu={};Object.defineProperty(Qu,"__esModule",{value:!0});Qu.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=F&&F.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(to),n=Xe,i=ki,s=e(Qu),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(f){switch(f){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(h){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=h.darkMode}attach(h){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",h.appendChild(this.root),this.render()}presentItem(h){const p=this.nextItemKey++;return this.items.set(p,h),this.render(),()=>{this.items.delete(p),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([h,p])=>(0,n.h)(t.SnackbarInstance,Object.assign({},p,{key:h}))))),this.root)}}t.Snackbar=c;const u=f=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},f.children));t.SnackbarContainer=u;const l=({autoExpand:f,message:h,menuItems:p,appSrc:b})=>{const[_,w]=(0,i.useState)(!0),[d,v]=(0,i.useState)(f??!1);(0,i.useEffect)(()=>{const R=[window.setTimeout(()=>{w(!1)},1),window.setTimeout(()=>{v(!0)},1e4)];return()=>{R.forEach(window.clearTimeout)}});const m=()=>{v(!d)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",_&&"-cbwsdk-snackbar-instance-hidden",d&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:m},(0,n.h)("img",{src:a(b),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},h),(0,n.h)("div",{class:"-gear-container"},!d&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),p&&p.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},p.map((R,C)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",R.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:R.onClick,key:C},(0,n.h)("svg",{width:R.svgWidth,height:R.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":R.defaultFillRule,"clip-rule":R.defaultClipRule,d:R.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",R.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},R.info)))))};t.SnackbarInstance=l})(q0);var fo={},Zu={};Object.defineProperty(Zu,"__esModule",{value:!0});Zu.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var q5=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fo,"__esModule",{value:!0});fo.injectCssReset=void 0;const G5=q5(Zu);function J5(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(G5.default)),document.documentElement.appendChild(t)}fo.injectCssReset=J5;Object.defineProperty(Qs,"__esModule",{value:!0});Qs.WalletSDKUI=void 0;const Q5=Zs,Z5=q0,Y5=fo;class K5{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new Z5.Snackbar({darkMode:e.darkMode}),this.linkFlow=new Q5.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,Y5.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}Qs.WalletSDKUI=K5;var ho={},po={};Object.defineProperty(po,"__esModule",{value:!0});var Zr;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(Zr||(Zr={}));function G0(t,e,r){if(!r||typeof r.value!==Zr.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:Zr.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:Zr.boolTrue,writable:Zr.boolTrue}),n}}}po.bind=G0;po.default=G0;function J0(t){return function(r){return r.lift(new X5(t))}}var X5=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new eC(e,this.durationSelector))},t}(),eC=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=Ee(n,new we(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(Se);function tC(t,e){return e===void 0&&(e=qe),J0(function(){return M0(t,e)})}function rC(t){return function(r){return r.lift(new nC(t))}}var nC=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new iC(e,this.closingNotifier))},t}(),iC=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(Ee(n,new we(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(Se);function sC(t,e){return e===void 0&&(e=null),function(n){return n.lift(new oC(t,e))}}var oC=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=aC:this.subscriberClass=cC}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),aC=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(V),cC=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var u=o[c];u.push(r),u.length===i&&(o.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(V);function uC(t){var e=arguments.length,r=qe;Ke(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new lC(t,n,i,r))}}var lC=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new hC(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),fC=function(){function t(){this.buffer=[]}return t}(),hC=function(t){x(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=o.schedule(yh,n,u))}else{var l={subscriber:a,context:c},f={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(Q0,n,l)),a.add(o.schedule(dC,i,f))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],c=a.buffer;c.push(r),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(yh,i,s))}},e.prototype.openContext=function(){var r=new fC;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(V);function yh(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function dC(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(Q0,r,{subscriber:n,context:s})),o.schedule(t,e))}function Q0(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function pC(t,e){return function(n){return n.lift(new bC(t,e))}}var bC=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new gC(e,this.openings,this.closingSelector))},t}(),gC=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(Vt(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new _e,o={buffer:i,subscription:s};n.push(o);var a=Vt(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}($r);function yC(t){return function(e){return e.lift(new vC(t))}}var vC=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new mC(e,this.closingSelector))},t}(),mC=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new _e,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(Ee(i,new we(this))),this.subscribing=!1},e}(Se);function _C(t){return function(r){var n=new wC(t),i=r.lift(n);return n.caught=i}}var wC=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new SC(e,this.selector,this.caught))},t}(),SC=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new we(this);this.add(i);var s=Ee(n,i);s!==i&&this.add(s)}},e}(Se);function EC(t){return function(e){return e.lift(new $u(t))}}function CC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&ze(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(zt([n].concat(t)),new $u(r))}}function RC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(ni.apply(void 0,[r].concat(t)))}}function Z0(t,e){return Ir(t,e,1)}function xC(t,e){return Z0(function(){return t},e)}function IC(t){return function(e){return e.lift(new AC(t,e))}}var AC=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new MC(e,this.predicate,this.source))},t}(),MC=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(V);function kC(t){return function(e){return e.lift(new TC(t))}}var TC=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new OC(e,this.durationSelector))},t}(),OC=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=Ee(n,new we(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(Se);function NC(t,e){return e===void 0&&(e=qe),function(r){return r.lift(new LC(t,e))}}var LC=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new PC(e,this.dueTime,this.scheduler))},t}(),PC=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule($C,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(V);function $C(t){t.debouncedNext()}function Ti(t){return t===void 0&&(t=null),function(e){return e.lift(new DC(t))}}var DC=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new jC(e,this.defaultValue))},t}(),jC=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(V);function Y0(t){return t instanceof Date&&!isNaN(+t)}function BC(t,e){e===void 0&&(e=qe);var r=Y0(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new FC(n,e))}}var FC=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new WC(e,this.delay,this.scheduler))},t}(),WC=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new HC(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(Wt.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(Wt.createComplete()),this.unsubscribe()},e}(V),HC=function(){function t(e,r){this.time=e,this.notification=r}return t}();function VC(t,e){return e?function(r){return new zC(r,e).lift(new vh(t))}:function(r){return r.lift(new vh(t))}}var vh=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new UC(e,this.delayDurationSelector))},t}(),UC=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=Vt(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}($r),zC=function(t){x(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new qC(r,this.source))},e}(ee),qC=function(t){x(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(V);function GC(){return function(e){return e.lift(new JC)}}var JC=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new QC(e))},t}(),QC=function(t){x(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(V);function ZC(t,e){return function(r){return r.lift(new YC(t,e))}}var YC=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new KC(e,this.keySelector,this.flushes))},t}(),KC=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(Ee(i,new we(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(Se);function K0(t,e){return function(r){return r.lift(new XC(t,e))}}var XC=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new eR(e,this.compare,this.keySelector))},t}(),eR=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(V);function tR(t,e){return K0(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function bo(t){return t===void 0&&(t=iR),function(e){return e.lift(new rR(t))}}var rR=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new nR(e,this.errorFactory))},t}(),nR=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(V);function iR(){return new Mi}function Yu(t){return function(e){return t===0?kn():e.lift(new sR(t))}}var sR=function(){function t(e){if(this.total=e,this.total<0)throw new gn}return t.prototype.call=function(e,r){return r.subscribe(new oR(e,this.total))},t}(),oR=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(V);function aR(t,e){if(t<0)throw new gn;var r=arguments.length>=2;return function(n){return n.pipe(ar(function(i,s){return s===t}),Yu(1),r?Ti(e):bo(function(){return new gn}))}}function cR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return ni(r,Ks.apply(void 0,t))}}function uR(t,e){return function(r){return r.lift(new lR(t,e,r))}}var lR=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new fR(e,this.predicate,this.thisArg,this.source))},t}(),fR=function(t){x(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(V);function hR(){return function(t){return t.lift(new dR)}}var dR=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new pR(e))},t}(),pR=function(t){x(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(Ee(r,new we(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Se);function X0(t,e){return e?function(r){return r.pipe(X0(function(n,i){return zt(t(n,i)).pipe(lt(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new bR(t))}}var bR=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new gR(e,this.project))},t}(),gR=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new we(this),i=this.destination;i.add(n);var s=Ee(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Se);function yR(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new vR(t,e,r))}}var vR=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new mR(e,this.project,this.concurrent,this.scheduler))},t}(),mR=function(t){x(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){n.error(u)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(Ee(r,new we(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(Se);function _R(t){return function(e){return e.lift(new wR(t))}}var wR=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new SR(e,this.callback))},t}(),SR=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new _e(n)),i}return e}(V);function ER(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new eb(t,r,!1,e))}}var eb=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new CR(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),CR=function(t){x(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(V);function RR(t,e){return function(r){return r.lift(new eb(t,r,!0,e))}}function xR(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?ar(function(i,s){return t(i,s,n)}):sr,Yu(1),r?Ti(e):bo(function(){return new Mi}))}}function IR(){return function(e){return e.lift(new AR)}}var AR=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new MR(e))},t}(),MR=function(t){x(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(V);function kR(){return function(t){return t.lift(new TR)}}var TR=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new OR(e))},t}(),OR=function(t){x(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(V);function ps(t){return function(r){return t===0?kn():r.lift(new NR(t))}}var NR=function(){function t(e){if(this.total=e,this.total<0)throw new gn}return t.prototype.call=function(e,r){return r.subscribe(new LR(e,this.total))},t}(),LR=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(V);function PR(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?ar(function(i,s){return t(i,s,n)}):sr,ps(1),r?Ti(e):bo(function(){return new Mi}))}}function $R(t){return function(e){return e.lift(new DR(t))}}var DR=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new jR(e,this.value))},t}(),jR=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(V);function BR(){return function(e){return e.lift(new FR)}}var FR=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new WR(e))},t}(),WR=function(t){x(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(Wt.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(Wt.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(Wt.createComplete()),r.complete()},e}(V);function bs(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new HR(t,e,r))}}var HR=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new VR(e,this.accumulator,this.seed,this.hasSeed))},t}(),VR=function(t){x(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(V);function go(t,e){return arguments.length>=2?function(n){return Mc(bs(t,e),ps(1),Ti(e))(n)}:function(n){return Mc(bs(function(i,s,o){return t(i,s,o+1)}),ps(1))(n)}}function UR(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return go(e)}function zR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(R0.apply(void 0,[r].concat(t)))}}function qR(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?Ir(function(){return t},e,r):(typeof e=="number"&&(r=e),Ir(function(){return t},r))}function GR(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new JR(t,e,r))}}var JR=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new QR(e,this.accumulator,this.seed,this.concurrent))},t}(),QR=function(t){x(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new we(this),i=this.destination;i.add(n);var s=Ee(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(Se);function ZR(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return go(e)}function Ar(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new YR(i,e));var s=Object.create(n,M3);return s.source=n,s.subjectFactory=i,s}}var YR=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function KR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&ze(t[0])&&(t=t[0]),function(r){return r.lift(new XR(t))}}var XR=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new ex(e,this.nextSources))},t}(),ex=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new we(this),i=this.destination;i.add(n);var s=Ee(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(Se);function tx(){return function(t){return t.lift(new rx)}}var rx=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new nx(e))},t}(),nx=function(t){x(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(V);function ix(t,e){return function(r){return[ar(t,e)(r),ar(I0(t,e))(r)]}}function sx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return lt(ox(t,r))(n)}}function ox(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return r}function ax(t){return t?Ar(function(){return new Ne},t):Ar(new Ne)}function cx(t){return function(e){return Ar(new o0(t))(e)}}function ux(){return function(t){return Ar(new Tn)(t)}}function lx(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new Pu(t,e,n);return function(o){return Ar(function(){return s},i)(o)}}function fx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&ze(t[0])&&(t=t[0]),n.lift.call(A0.apply(void 0,[n].concat(t)))}}function hx(t){return t===void 0&&(t=-1),function(e){return t===0?kn():t<0?e.lift(new mh(-1,e)):e.lift(new mh(t-1,e))}}var mh=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new dx(e,this.count,this.source))},t}(),dx=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(V);function px(t){return function(e){return e.lift(new bx(t))}}var bx=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new gx(e,this.notifier,r))},t}(),gx=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new Ne;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=Ee(r,new we(this))},e}(Se);function yx(t){return t===void 0&&(t=-1),function(e){return e.lift(new vx(t,e))}}var vx=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new mx(e,this.count,this.source))},t}(),mx=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(V);function _x(t){return function(e){return e.lift(new wx(t,e))}}var wx=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Sx(e,this.notifier,this.source))},t}(),Sx=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new Ne;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=Ee(i,new we(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(Se);function Ex(t){return function(e){return e.lift(new Cx(t))}}var Cx=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new Rx(e),i=r.subscribe(n);return i.add(Ee(this.notifier,new we(n))),i},t}(),Rx=function(t){x(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(Se);function xx(t,e){return e===void 0&&(e=qe),function(r){return r.lift(new Ix(t,e))}}var Ix=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new Ax(e,this.period,this.scheduler))},t}(),Ax=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(Mx,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(V);function Mx(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function kx(t,e){return function(r){return r.lift(new Tx(t,e))}}var Tx=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new Ox(e,this.compareTo,this.comparator))},t}(),Ox=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new Nx(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(V),Nx=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(V);function Lx(){return new Ne}function Px(){return function(t){return Ou()(Ar(Lx)(t))}}function $x(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(Dx(n))}}function Dx(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,c=0,u,l=!1,f=!1;return function(p){c++;var b;!a||l?(l=!1,a=new Pu(r,i,o),b=a.subscribe(this),u=p.subscribe({next:function(_){a.next(_)},error:function(_){l=!0,a.error(_)},complete:function(){f=!0,u=void 0,a.complete()}}),f&&(u=void 0)):b=a.subscribe(this),this.add(function(){c--,b.unsubscribe(),b=void 0,u&&!f&&s&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}function jx(t){return function(e){return e.lift(new Bx(t,e))}}var Bx=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Fx(e,this.predicate,this.source))},t}(),Fx=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new Mi)},e}(V);function Wx(t){return function(e){return e.lift(new Hx(t))}}var Hx=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new Vx(e,this.total))},t}(),Vx=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(V);function Ux(t){return function(e){return e.lift(new zx(t))}}var zx=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new gn}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new V(e)):r.subscribe(new qx(e,this._skipCount))},t}(),qx=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(V);function Gx(t){return function(e){return e.lift(new Jx(t))}}var Jx=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new Qx(e,this.notifier))},t}(),Qx=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new we(i);i.add(s),i.innerSubscription=s;var o=Ee(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(Se);function Zx(t){return function(e){return e.lift(new Yx(t))}}var Yx=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new Kx(e,this.predicate))},t}(),Kx=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},e}(V);function Xx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Ke(r)?(t.pop(),function(n){return ni(t,n,r)}):function(n){return ni(t,n)}}var eI=function(t){x(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=Yi);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!yn(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=Yi),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=Yi),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(ee);function tI(t,e){return e===void 0&&(e=0),function(n){return n.lift(new rI(t,e))}}var rI=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new eI(r,this.delay,this.scheduler).subscribe(e)},t}();function ii(t,e){return typeof e=="function"?function(r){return r.pipe(ii(function(n,i){return zt(t(n,i)).pipe(lt(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new nI(t))}}var nI=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new iI(e,this.project))},t}(),iI=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new we(this),s=this.destination;s.add(i),this.innerSubscription=Ee(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(Se);function sI(){return ii(sr)}function oI(t,e){return e?ii(function(){return t},e):ii(function(){return t})}function aI(t){return function(e){return e.lift(new cI(t))}}var cI=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new uI(e),i=Ee(this.notifier,new we(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),uI=function(t){x(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(Se);function lI(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new fI(t,e))}}var fI=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new hI(e,this.predicate,this.inclusive))},t}(),hI=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;n?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(V);function dI(t,e,r){return function(i){return i.lift(new pI(t,e,r))}}var pI=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new bI(e,this.nextOrObserver,this.error,this.complete))},t}(),bI=function(t){x(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=xt,o._tapError=xt,o._tapComplete=xt,o._tapError=i||xt,o._tapComplete=s||xt,pn(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||xt,o._tapError=n.error||xt,o._tapComplete=n.complete||xt),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(V),tb={leading:!0,trailing:!1};function gI(t,e){return e===void 0&&(e=tb),function(r){return r.lift(new yI(t,!!e.leading,!!e.trailing))}}var yI=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new vI(e,this.durationSelector,this.leading,this.trailing))},t}(),vI=function(t){x(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=Ee(n,new we(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(Se);function mI(t,e,r){return e===void 0&&(e=qe),r===void 0&&(r=tb),function(n){return n.lift(new _I(t,e,r.leading,r.trailing))}}var _I=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new wI(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),wI=function(t){x(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(SI,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(V);function SI(t){var e=t.subscriber;e.clearThrottle()}function EI(t){return t===void 0&&(t=qe),function(e){return ju(function(){return e.pipe(bs(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),lt(function(r){var n=r.current,i=r.last,s=r.value;return new CI(s,n-i)}))})}}var CI=function(){function t(e,r){this.value=e,this.interval=r}return t}();function rb(t,e,r){return r===void 0&&(r=qe),function(n){var i=Y0(t),s=i?+t-r.now():Math.abs(t);return n.lift(new RI(s,i,e,r))}}var RI=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new xI(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),xI=function(t){x(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(Ee(n,new we(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(Se);function II(t,e){return e===void 0&&(e=qe),rb(t,Lu(new b0),e)}function AI(t){return t===void 0&&(t=qe),lt(function(e){return new MI(e,t.now())})}var MI=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function kI(t,e,r){return r===0?[e]:(t.push(e),t)}function TI(){return go(kI,[])}function OI(t){return function(r){return r.lift(new NI(t))}}var NI=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new LI(e),i=r.subscribe(n);return i.closed||n.add(Ee(this.windowBoundaries,new we(n))),i},t}(),LI=function(t){x(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new Ne,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new Ne;n.next(i)},e}(Se);function PI(t,e){return e===void 0&&(e=0),function(n){return n.lift(new $I(t,e))}}var $I=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new DI(e,this.windowSize,this.startWindowEvery))},t}(),DI=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new Ne],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(r);var u=this.count-s+1;if(u>=0&&u%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var l=new Ne;o.push(l),i.next(l)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(V);function jI(t){var e=qe,r=null,n=Number.POSITIVE_INFINITY;return Ke(arguments[3])&&(e=arguments[3]),Ke(arguments[2])?e=arguments[2]:yn(arguments[2])&&(n=Number(arguments[2])),Ke(arguments[1])?e=arguments[1]:yn(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new BI(t,r,n,e))}}var BI=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new WI(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),FI=function(t){x(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Ne),WI=function(t){x(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},l={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(nb,n,u)),a.add(o.schedule(VI,i,l))}else{var f={subscriber:a,window:c,windowTimeSpan:n};a.add(o.schedule(HI,n,f))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new FI;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(V);function HI(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function VI(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:r,window:s,context:a};a.subscription=n.schedule(nb,e,c),o.add(a.subscription),o.schedule(t,i)}function nb(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function UI(t,e){return function(r){return r.lift(new zI(t,e))}}var zI=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new qI(e,this.openings,this.closingSelector))},t}(),qI=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=Vt(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(p){return this.error(p)}var u=new Ne,l=new _e,f={window:u,subscription:l};this.contexts.push(f);var h=Vt(this,a,f);h.closed?this.closeWindow(this.contexts.length-1):(h.context=f,l.add(h)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}($r);function GI(t){return function(r){return r.lift(new JI(t))}}var JI=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new QI(e,this.closingSelector))},t}(),QI=function(t){x(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new Ne;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=Vt(this,s))},e}($r);function ZI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new YI(i,n))}}var YI=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new KI(e,this.observables,this.project))},t}(),KI=function(t){x(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=n[a];s.add(Vt(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}($r);function XI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(k0.apply(void 0,[n].concat(t)))}}function e6(t){return function(e){return e.lift(new T0(t))}}const t6=Object.freeze(Object.defineProperty({__proto__:null,audit:J0,auditTime:tC,buffer:rC,bufferCount:sC,bufferTime:uC,bufferToggle:pC,bufferWhen:yC,catchError:_C,combineAll:EC,combineLatest:CC,concat:RC,concatAll:w0,concatMap:Z0,concatMapTo:xC,count:IC,debounce:kC,debounceTime:NC,defaultIfEmpty:Ti,delay:BC,delayWhen:VC,dematerialize:GC,distinct:ZC,distinctUntilChanged:K0,distinctUntilKeyChanged:tR,elementAt:aR,endWith:cR,every:uR,exhaust:hR,exhaustMap:X0,expand:yR,filter:ar,finalize:_R,find:ER,findIndex:RR,first:xR,flatMap:E4,groupBy:T3,ignoreElements:IR,isEmpty:kR,last:PR,map:lt,mapTo:$R,materialize:BR,max:UR,merge:zR,mergeAll:Du,mergeMap:Ir,mergeMapTo:qR,mergeScan:GR,min:ZR,multicast:Ar,observeOn:W3,onErrorResumeNext:KR,pairwise:tx,partition:ix,pluck:sx,publish:ax,publishBehavior:cx,publishLast:ux,publishReplay:lx,race:fx,reduce:go,refCount:Ou,repeat:hx,repeatWhen:px,retry:yx,retryWhen:_x,sample:Ex,sampleTime:xx,scan:bs,sequenceEqual:kx,share:Px,shareReplay:$x,single:jx,skip:Wx,skipLast:Ux,skipUntil:Gx,skipWhile:Zx,startWith:Xx,subscribeOn:tI,switchAll:sI,switchMap:ii,switchMapTo:oI,take:Yu,takeLast:ps,takeUntil:aI,takeWhile:lI,tap:dI,throttle:gI,throttleTime:mI,throwIfEmpty:bo,timeInterval:EI,timeout:II,timeoutWith:rb,timestamp:AI,toArray:TI,window:OI,windowCount:PI,windowTime:jI,windowToggle:UI,windowWhen:GI,withLatestFrom:ZI,zip:XI,zipAll:e6},Symbol.toStringTag,{value:"Module"})),Ku=Mr(t6);var yo={},st={};Object.defineProperty(st,"__esModule",{value:!0});st.ClientMessagePublishEvent=st.ClientMessageSetSessionConfig=st.ClientMessageGetSessionConfig=st.ClientMessageIsLinked=st.ClientMessageHostSession=void 0;function r6(t){return Object.assign({type:"HostSession"},t)}st.ClientMessageHostSession=r6;function n6(t){return Object.assign({type:"IsLinked"},t)}st.ClientMessageIsLinked=n6;function i6(t){return Object.assign({type:"GetSessionConfig"},t)}st.ClientMessageGetSessionConfig=i6;function s6(t){return Object.assign({type:"SetSessionConfig"},t)}st.ClientMessageSetSessionConfig=s6;function o6(t){return Object.assign({type:"PublishEvent"},t)}st.ClientMessagePublishEvent=o6;var ib={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Xs,r=Ku;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(ib);var vo={};Object.defineProperty(vo,"__esModule",{value:!0});vo.isServerMessageFail=void 0;function a6(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}vo.isServerMessageFail=a6;Object.defineProperty(yo,"__esModule",{value:!0});yo.WalletSDKConnection=void 0;const ht=Xs,ie=Ku,Fn=Sn,zr=hi,Wn=st,Hn=wn,qi=ib,cc=vo,_h=1e4,c6=6e4;class u6{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new ht.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,zr.IntNumber)(1),this.connectedSubject=new ht.BehaviorSubject(!1),this.linkedSubject=new ht.BehaviorSubject(!1),this.sessionConfigSubject=new ht.ReplaySubject(1);const o=new qi.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,ie.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(Hn.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Fn.Session.hash(e)})}),(0,ie.skip)(1),(0,ie.filter)(a=>a===qi.ConnectionState.DISCONNECTED&&!this.destroyed),(0,ie.delay)(5e3),(0,ie.filter)(a=>!this.destroyed),(0,ie.flatMap)(a=>o.connect()),(0,ie.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,ie.skip)(2),(0,ie.switchMap)(a=>(0,ht.iif)(()=>a===qi.ConnectionState.CONNECTED,this.authenticate().pipe((0,ie.tap)(c=>this.sendIsLinked()),(0,ie.tap)(c=>this.sendGetSessionConfig()),(0,ie.map)(c=>!0)),(0,ht.of)(!1))),(0,ie.distinctUntilChanged)(),(0,ie.catchError)(a=>(0,ht.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,ie.skip)(1),(0,ie.switchMap)(a=>(0,ht.iif)(()=>a===qi.ConnectionState.CONNECTED,(0,ht.timer)(0,_h)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,ie.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,ie.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Hn.EVENTS.LINKED,{sessionIdHash:Fn.Session.hash(e),linked:u.linked,type:a.type,onlineGuests:u.onlineGuests}),this.linkedSubject.next(u.linked||u.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,ie.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Hn.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Fn.Session.hash(e),metadata_keys:u&&u.metadata?Object.keys(u.metadata):void 0}),this.sessionConfigSubject.next({webhookId:u.webhookId,webhookUrl:u.webhookUrl,metadata:u.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Hn.EVENTS.STARTED_CONNECTING,{sessionIdHash:Fn.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Hn.EVENTS.DISCONNECTED,{sessionIdHash:Fn.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,ie.filter)(e=>e),(0,ie.take)(1),(0,ie.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,ie.filter)(e=>e),(0,ie.take)(1),(0,ie.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,ie.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,ie.map)(e=>e))}setSessionMetadata(e,r){const n=(0,Wn.ClientMessageSetSessionConfig)({id:(0,zr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,ie.flatMap)(i=>this.makeRequest(n)),(0,ie.map)(i=>{if((0,cc.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,Wn.ClientMessagePublishEvent)({id:(0,zr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,ie.flatMap)(s=>this.makeRequest(i)),(0,ie.map)(s=>{if((0,cc.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>_h*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=c6){const n=e.id;try{this.sendData(e)}catch(i){return(0,ht.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,ie.timeoutWith)(r,(0,ht.throwError)(new Error(`request ${n} timed out`))),(0,ie.filter)(i=>i.id===n),(0,ie.take)(1))}authenticate(){const e=(0,Wn.ClientMessageHostSession)({id:(0,zr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,ie.map)(r=>{if((0,cc.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Wn.ClientMessageIsLinked)({id:(0,zr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Wn.ClientMessageGetSessionConfig)({id:(0,zr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}yo.WalletSDKConnection=u6;var mn={};Object.defineProperty(mn,"__esModule",{value:!0});mn.decrypt=mn.encrypt=void 0;const gs=W;async function l6(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,gs.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),u=new Uint8Array(a),l=new Uint8Array(c),f=new Uint8Array([...r,...u,...l]);return(0,gs.uint8ArrayToHex)(f)}mn.encrypt=l6;function f6(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,gs.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,gs.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),u=new Uint8Array([...c,...a]),l={name:"AES-GCM",iv:new Uint8Array(o)};try{const f=await window.crypto.subtle.decrypt(l,i,u),h=new TextDecoder;r(h.decode(f))}catch(f){n(f)}})()})}mn.decrypt=f6;var mo={},_o={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(_o);Object.defineProperty(mo,"__esModule",{value:!0});mo.Web3RequestCanceledMessage=void 0;const h6=_o;function d6(t){return{type:h6.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}mo.Web3RequestCanceledMessage=d6;var wo={};Object.defineProperty(wo,"__esModule",{value:!0});wo.Web3RequestMessage=void 0;const p6=_o;function b6(t){return Object.assign({type:p6.RelayMessageType.WEB3_REQUEST},t)}wo.Web3RequestMessage=b6;var _n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.isWeb3ResponseMessage=_n.Web3ResponseMessage=void 0;const sb=_o;function g6(t){return Object.assign({type:sb.RelayMessageType.WEB3_RESPONSE},t)}_n.Web3ResponseMessage=g6;function y6(t){return t&&t.type===sb.RelayMessageType.WEB3_RESPONSE}_n.isWeb3ResponseMessage=y6;var v6=F&&F.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),m6=F&&F.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ob=F&&F.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},_6=F&&F.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&v6(e,t,r);return m6(e,t),e},w6=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ho,"__esModule",{value:!0});ho.WalletSDKRelay=void 0;const ab=w6(po),dr=Xs,xe=Ku,Be=wn,S6=yo,qr=si,E6=hi,ye=W,Jt=_6(mn),Qt=Sn,Gi=gt,Le=Ss,C6=mo,R6=wo,nt=be,Je=_n;class bt extends Gi.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new dr.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new dr.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=Qt.Session.load(this.storage)||new Qt.Session(this.storage).save(),r=new S6.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Be.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,xe.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,xe.skip)(1),(0,xe.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(Gi.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const u=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(Be.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:u})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,xe.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(Be.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,xe.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,xe.mergeMap)(i=>Jt.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Gi.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Be.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,xe.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,xe.mergeMap)(i=>Jt.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Gi.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Be.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,xe.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,xe.mergeMap)(i=>(0,dr.zip)(Jt.decrypt(i.metadata.ChainId,e.secret),Jt.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,xe.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Be.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,xe.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,xe.mergeMap)(i=>Jt.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),bt.accountRequestCallbackIds.size>0&&(Array.from(bt.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,Je.Web3ResponseMessage)({id:s,response:(0,nt.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),bt.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Be.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,xe.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,xe.mergeMap)(i=>Jt.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Be.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,xe.timeout)(1e3),(0,xe.catchError)(e=>(0,dr.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(Be.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(Be.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Qt.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(Be.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Qt.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new dr.Subscription;const{session:a,ui:c,connection:u}=this.subscribe();this._session=a,this.connection=u,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Be.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:Le.Web3Method.signEthereumMessage,params:{message:(0,ye.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:Le.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,ye.hexStringFromBuffer)(e,!0),signature:(0,ye.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:Le.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,ye.bigIntStringFromBN)(e.weiValue),data:(0,ye.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,ye.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,ye.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,ye.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,ye.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:Le.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,ye.bigIntStringFromBN)(e.weiValue),data:(0,ye.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,ye.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,ye.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,ye.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,ye.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:Le.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,ye.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:Le.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,ye.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:Le.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,ye.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r==null||r(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,R6.Web3RequestMessage)({id:e,request:r}),s=Qt.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(Be.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Qt.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Be.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Qt.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,C6.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new dr.Observable(s=>{Jt.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,xe.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,dr.from)(Jt.decrypt(e.data,this.session.secret)).pipe((0,xe.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,Je.isWeb3ResponseMessage)(r)?r:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Be.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(Be.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,nt.isRequestEthereumAccountsResponse)(n)){bt.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),bt.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){var s;const o=(s=n==null?void 0:n.message)!==null&&s!==void 0?s:(0,qr.standardErrorMessage)(i);this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:e,response:{method:r,errorMessage:o,errorCode:i}}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:Le.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,ye.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,u=>{if(this.ui.hideRequestEthereumAccounts(),u.errorMessage)return o(new Error(u.errorMessage));s(u)});const c=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let u;try{(0,ye.isInIFrame)()&&window.top?u=window.top.location:u=window.location}catch{u=window.location}u.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(u.href)}`;return}if(this.ui.inlineAccountsResponse()){const u=l=>{this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:r,response:(0,nt.RequestEthereumAccountsResponse)(l)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:u})}else{const u=qr.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(u)})}bt.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:Le.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,ye.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,l=>{if(l.errorMessage)return a(new Error(l.errorMessage));o(l)});const c=l=>{this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:n,response:(0,nt.SelectProviderResponse)(E6.ProviderType.Unselected)}))},u=l=>{this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:n,response:(0,nt.SelectProviderResponse)(l)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:u,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:Le.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const u=(0,ye.randomBytesHex)(8),l=h=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,h),c==null||c()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));const f=new Promise((h,p)=>{this.relayEventManager.callbacks.set(u,w=>{if(c==null||c(),w.errorMessage)return p(new Error(w.errorMessage));h(w)});const b=w=>{this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:u,response:(0,nt.WatchAssetReponse)(!1)}))},_=()=>{this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:u,response:(0,nt.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:_,onCancel:b,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)});return{cancel:l,promise:f}}addEthereumChain(e,r,n,i,s,o){const a={method:Le.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const u=(0,ye.randomBytesHex)(8),l=h=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,h),c==null||c()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload})),{promise:new Promise((h,p)=>{this.relayEventManager.callbacks.set(u,w=>{if(c==null||c(),w.errorMessage)return p(new Error(w.errorMessage));h(w)});const b=w=>{this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:u,response:(0,nt.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},_=w=>{this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:u,response:(0,nt.AddEthereumChainResponse)({isApproved:!0,rpcUrl:w})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:b,onApprove:_,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)}),cancel:l}}switchEthereumChain(e,r){const n={method:Le.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,ye.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,f=>{if((0,nt.isErrorResponse)(f)&&f.errorCode)return c(qr.standardErrors.provider.custom({code:f.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(f.errorMessage)return c(new Error(f.errorMessage));a(f)});const u=f=>{var h;if(f){const p=(h=(0,qr.getErrorCode)(f))!==null&&h!==void 0?h:qr.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,Le.Web3Method.switchEthereumChain,f instanceof Error?f:qr.standardErrors.provider.unsupportedChain(e),p)}else this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:i,response:(0,nt.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},l=f=>{this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:i,response:(0,nt.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:f})}))};this.ui.switchEthereumChain({onCancel:u,onApprove:l,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Qt.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,Je.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case Le.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case Le.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Le.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Le.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}bt.accountRequestCallbackIds=new Set;ob([ab.default],bt.prototype,"resetAndReload",null);ob([ab.default],bt.prototype,"handleIncomingEvent",null);ho.WalletSDKRelay=bt;var So={};Object.defineProperty(So,"__esModule",{value:!0});So.WalletSDKRelayEventManager=void 0;const x6=W;class I6{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,x6.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}So.WalletSDKRelayEventManager=I6;const A6="@coinbase/wallet-sdk",M6="3.7.1",k6="Coinbase Wallet JavaScript SDK",T6=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],O6="dist/index.js",N6="dist/index.d.ts",L6="https://github.com/coinbase/coinbase-wallet-sdk.git",P6="Coinbase, Inc.",$6="Apache-2.0",D6={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},j6={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"^1.70.1","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"6.1.0","eth-json-rpc-filters":"5.1.0","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},B6={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.4.0","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.76.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},F6={node:">= 10.0.0"},W6={name:A6,version:M6,description:k6,keywords:T6,main:O6,types:N6,repository:L6,author:P6,license:$6,scripts:D6,dependencies:j6,devDependencies:B6,engines:F6};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.CoinbaseWalletSDK=void 0;const H6=ms,V6=_s,U6=sn,z6=Qs,q6=ho,G6=So,J6=W,Q6={}.LINK_API_URL||"https://www.walletlink.org",cb={}.SDK_VERSION||W6.version||"unknown";class Eo{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||Q6;let o;if(e.uiConstructor?o=e.uiConstructor:o=u=>new z6.WalletSDKUI(u),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new V6.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",Eo.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new G6.WalletSDKRelayEventManager,this._relay=new q6.WalletSDKRelay({linkAPIUrl:s,version:cb,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new U6.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,J6.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,H6.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}Yn.CoinbaseWalletSDK=Eo;Eo.VERSION=cb;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=Yn,r=sn;var n=Yn;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=sn;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(Bc);const Z6=lb(Bc),cA=fb({__proto__:null,default:Z6},[Bc]);export{cA as i};
